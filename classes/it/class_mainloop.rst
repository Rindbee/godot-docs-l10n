:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/MainLoop.xml.

.. _class_MainLoop:

MainLoop
========

**Eredita:** :ref:`Object<class_Object>`

**Ereditato da:** :ref:`SceneTree<class_SceneTree>`

Classe di base astratta per il ciclo principale del gioco.

.. rst-class:: classref-introduction-group

Descrizione
----------------------

**MainLoop** Ã¨ la classe base astratta per il ciclo di gioco di un progetto Godot. Ãˆ ereditata da :ref:`SceneTree<class_SceneTree>`, che Ã¨ l'implementazione predefinita del ciclo di gioco utilizzata nei progetti Godot, sebbene sia anche possibile scrivere e utilizzare la propria sottoclasse **MainLoop** al posto dell'albero di scene.

All'avvio dell'applicazione, un'implementazione **MainLoop** deve essere fornita al sistema operativo; altrimenti, l'applicazione verrÃ  chiusa. CiÃ² avviene automaticamente (e viene creato uno :ref:`SceneTree<class_SceneTree>`) a meno che non sia fornito uno :ref:`Script<class_Script>` **MainLoop** dalla riga di comando (ad esempio con ``godot -s my_loop.gd``) o che l'impostazione del progetto :ref:`ProjectSettings.application/run/main_loop_type<class_ProjectSettings_property_application/run/main_loop_type>` non sia sovrascritta.

Ecco uno script di esempio che implementa un semplice **MainLoop**:


.. tabs::

 .. code-tab:: gdscript

    class_name CustomMainLoop
    extends MainLoop

    var time_elapsed = 0

    func _initialize():
        print("Inizializzato:")
        print("  Tempo all'inizio: %s" % str(time_elapsed))

    func _process(delta):
        time_elapsed += delta
        # Restituisci true per terminare il ciclo principale.
        return Input.get_mouse_button_mask() != 0 || Input.is_key_pressed(KEY_ESCAPE)

    func _finalize():
        print("Finalizzato:")
        print("  Tempo alla fine: %s" % str(time_elapsed))

 .. code-tab:: csharp

    using Godot;

    [GlobalClass]
    public partial class CustomMainLoop : MainLoop
    {
        private double _timeElapsed = 0;

        public override void _Initialize()
        {
            GD.Print("Inizializzato:");
            GD.Print($"  Tempo all'inizio: {_timeElapsed}");
        }

        public override bool _Process(double delta)
        {
            _timeElapsed += delta;
            // Restituisci true per terminare il ciclo principale.
            return Input.GetMouseButtonMask() != 0 || Input.IsKeyPressed(Key.Escape);
        }

        private void _Finalize()
        {
            GD.Print("Finalizzato:");
            GD.Print($"  Tempo alla fine: {_timeElapsed}");
        }
    }



.. rst-class:: classref-reftable-group

Metodi
------------

.. table::
   :widths: auto

   +-------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | |void|                  | :ref:`_finalize<class_MainLoop_private_method__finalize>`\ (\ ) |virtual|                                                  |
   +-------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | |void|                  | :ref:`_initialize<class_MainLoop_private_method__initialize>`\ (\ ) |virtual|                                              |
   +-------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>` | :ref:`_physics_process<class_MainLoop_private_method__physics_process>`\ (\ delta\: :ref:`float<class_float>`\ ) |virtual| |
   +-------------------------+----------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>` | :ref:`_process<class_MainLoop_private_method__process>`\ (\ delta\: :ref:`float<class_float>`\ ) |virtual|                 |
   +-------------------------+----------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Segnali
--------------

.. _class_MainLoop_signal_on_request_permissions_result:

.. rst-class:: classref-signal

**on_request_permissions_result**\ (\ permission\: :ref:`String<class_String>`, granted\: :ref:`bool<class_bool>`\ ) :ref:`ðŸ”—<class_MainLoop_signal_on_request_permissions_result>`

Emesso quando un utente risponde a una richiesta di autorizzazione.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Costanti
----------------

.. _class_MainLoop_constant_NOTIFICATION_OS_MEMORY_WARNING:

.. rst-class:: classref-constant

**NOTIFICATION_OS_MEMORY_WARNING** = ``2009`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_OS_MEMORY_WARNING>`

Notifica ricevuta dal sistema operativo quando l'applicazione supera la sua memoria allocata.

Specifico per la piattaforma iOS.

.. _class_MainLoop_constant_NOTIFICATION_TRANSLATION_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_TRANSLATION_CHANGED** = ``2010`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_TRANSLATION_CHANGED>`

Notifica ricevuta quando le traduzioni potrebbero essere cambiate. PuÃ² essere attivata dall'utente che cambia le impostazioni locali. PuÃ² essere utilizzata per rispondere alle modifiche della lingua, ad esempio per modificare le stringhe dell'interfaccia utente al volo. Utile quando si lavora con il supporto integrato di traduzione, come :ref:`Object.tr()<class_Object_method_tr>`.

.. _class_MainLoop_constant_NOTIFICATION_WM_ABOUT:

.. rst-class:: classref-constant

**NOTIFICATION_WM_ABOUT** = ``2011`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_WM_ABOUT>`

Notifica ricevuta dal sistema operativo quando viene inviata una richiesta di informazioni "Informazioni".

Specifico per la piattaforma macOS.

.. _class_MainLoop_constant_NOTIFICATION_CRASH:

.. rst-class:: classref-constant

**NOTIFICATION_CRASH** = ``2012`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_CRASH>`

Notifica ricevuta dal gestore degli arresti anomali di Godot quando il motore sta per bloccarsi.

Implementato su piattaforme desktop se il gestore degli arresti anomali Ã¨ abilitato.

.. _class_MainLoop_constant_NOTIFICATION_OS_IME_UPDATE:

.. rst-class:: classref-constant

**NOTIFICATION_OS_IME_UPDATE** = ``2013`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_OS_IME_UPDATE>`

Notifica ricevuta dal sistema operativo quando si verifica un aggiornamento dell'Input Method Engine (ad esempio, modifica della posizione del cursore IME o della stringa di composizione).

Specifico per la piattaforma macOS.

.. _class_MainLoop_constant_NOTIFICATION_APPLICATION_RESUMED:

.. rst-class:: classref-constant

**NOTIFICATION_APPLICATION_RESUMED** = ``2014`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_APPLICATION_RESUMED>`

Notifica ricevuta dal sistema operativo quando l'applicazione viene ripresa.

Specifico per le piattaforme Android e iOS.

.. _class_MainLoop_constant_NOTIFICATION_APPLICATION_PAUSED:

.. rst-class:: classref-constant

**NOTIFICATION_APPLICATION_PAUSED** = ``2015`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_APPLICATION_PAUSED>`

Notifica ricevuta dal sistema operativo quando l'applicazione Ã¨ in pausa.

Specifico per le piattaforme Android e iOS.

\ **Nota:** Su iOS, hai solo circa 5 secondi per terminare un'attivitÃ  avviata da questo segnale. Se superi questa soglia, iOS chiuderÃ  l'app invece di metterla in pausa.

.. _class_MainLoop_constant_NOTIFICATION_APPLICATION_FOCUS_IN:

.. rst-class:: classref-constant

**NOTIFICATION_APPLICATION_FOCUS_IN** = ``2016`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_APPLICATION_FOCUS_IN>`

Notifica ricevuta dal sistema operativo quando l'applicazione Ã¨ focalizzata, ovvero quando si cambia il focus dal desktop del sistema operativo o da un'applicazione di terze parti a una finestra aperta dell'istanza di Godot.

Implementato su piattaforme desktop e mobili.

.. _class_MainLoop_constant_NOTIFICATION_APPLICATION_FOCUS_OUT:

.. rst-class:: classref-constant

**NOTIFICATION_APPLICATION_FOCUS_OUT** = ``2017`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_APPLICATION_FOCUS_OUT>`

Notifica ricevuta dal sistema operativo quando l'applicazione Ã¨ perde il focus, ovvero quando si cambia il focus dal desktop del sistema operativo o da un'applicazione di terze parti a una finestra aperta dell'istanza di Godot.

Implementato su piattaforme desktop e mobili.

.. _class_MainLoop_constant_NOTIFICATION_TEXT_SERVER_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_TEXT_SERVER_CHANGED** = ``2018`` :ref:`ðŸ”—<class_MainLoop_constant_NOTIFICATION_TEXT_SERVER_CHANGED>`

Notifica ricevuta quando il server di testo viene modificato.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Descrizioni dei metodi
--------------------------------------------

.. _class_MainLoop_private_method__finalize:

.. rst-class:: classref-method

|void| **_finalize**\ (\ ) |virtual| :ref:`ðŸ”—<class_MainLoop_private_method__finalize>`

Chiamato prima della chiusura del programma.

.. rst-class:: classref-item-separator

----

.. _class_MainLoop_private_method__initialize:

.. rst-class:: classref-method

|void| **_initialize**\ (\ ) |virtual| :ref:`ðŸ”—<class_MainLoop_private_method__initialize>`

Chiamato una volta durante l'inizializzazione.

.. rst-class:: classref-item-separator

----

.. _class_MainLoop_private_method__physics_process:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_physics_process**\ (\ delta\: :ref:`float<class_float>`\ ) |virtual| :ref:`ðŸ”—<class_MainLoop_private_method__physics_process>`

Called each physics tick. ``delta`` is the logical time between physics ticks in seconds and is equal to :ref:`Engine.time_scale<class_Engine_property_time_scale>` / :ref:`Engine.physics_ticks_per_second<class_Engine_property_physics_ticks_per_second>`. Equivalent to :ref:`Node._physics_process()<class_Node_private_method__physics_process>`.

If implemented, the method must return a boolean value. ``true`` ends the main loop, while ``false`` lets it proceed to the next step.

\ **Note:** :ref:`_physics_process()<class_MainLoop_private_method__physics_process>` may be called up to :ref:`Engine.max_physics_steps_per_frame<class_Engine_property_max_physics_steps_per_frame>` times per (idle) frame. This step limit may be reached when the engine is suffering performance issues.

\ **Note:** Accumulated ``delta`` may diverge from real world seconds.

.. rst-class:: classref-item-separator

----

.. _class_MainLoop_private_method__process:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_process**\ (\ delta\: :ref:`float<class_float>`\ ) |virtual| :ref:`ðŸ”—<class_MainLoop_private_method__process>`

Called on each idle frame, prior to rendering, and after physics ticks have been processed. ``delta`` is the time between frames in seconds. Equivalent to :ref:`Node._process()<class_Node_private_method__process>`.

If implemented, the method must return a boolean value. ``true`` ends the main loop, while ``false`` lets it proceed to the next frame.

\ **Note:** When the engine is struggling and the frame rate is lowered, ``delta`` will increase. When ``delta`` is increased, it's capped at a maximum of :ref:`Engine.time_scale<class_Engine_property_time_scale>` \* :ref:`Engine.max_physics_steps_per_frame<class_Engine_property_max_physics_steps_per_frame>` / :ref:`Engine.physics_ticks_per_second<class_Engine_property_physics_ticks_per_second>`. As a result, accumulated ``delta`` may not represent real world time.

\ **Note:** When ``--fixed-fps`` is enabled or the engine is running in Movie Maker mode (see :ref:`MovieWriter<class_MovieWriter>`), process ``delta`` will always be the same for every frame, regardless of how much time the frame took to render.

\ **Note:** Frame delta may be post-processed by :ref:`OS.delta_smoothing<class_OS_property_delta_smoothing>` if this is enabled for the project.

.. |virtual| replace:: :abbr:`virtual (Questo metodo dovrebbe solitamente essere sovrascritto dall'utente per aver un effetto.)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (Questo metodo non ha effetti collaterali. Non modifica alcuna variabile appartenente all'istanza.)`
.. |vararg| replace:: :abbr:`vararg (Questo metodo accetta qualsiasi numero di argomenti oltre a quelli descritti qui.)`
.. |constructor| replace:: :abbr:`constructor (Questo metodo Ã¨ utilizzato per creare un tipo.)`
.. |static| replace:: :abbr:`static (Questo metodo non necessita di alcun'istanza per essere chiamato, quindi puÃ² essere chiamato direttamente usando il nome della classe.)`
.. |operator| replace:: :abbr:`operator (Questo metodo descrive un operatore valido da usare con questo tipo come operando di sinistra.)`
.. |bitfield| replace:: :abbr:`BitField (Questo valore Ã¨ un intero composto da una maschera di bit dei seguenti flag.)`
.. |void| replace:: :abbr:`void (Nessun valore restituito.)`
