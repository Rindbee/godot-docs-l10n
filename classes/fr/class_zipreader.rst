:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/modules/zip/doc_classes/ZIPReader.xml.

.. _class_ZIPReader:

ZIPReader
=========

**H√©rite de‚ÄØ:** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

Permet de lire le contenu d'un fichier ZIP.

.. rst-class:: classref-introduction-group

Description
-----------

Cette classe impl√©mente un lecteur qui peut extraire le contenu de fichiers individuels dans une archive ZIP. Voir aussi :ref:`ZIPPacker<class_ZIPPacker>`.

::

    # Lire un seul fichier d'un fichier ZIP.
    func read_zip_file():
        var lecteur = ZIPReader.new()
        var err = lecteur.open("user://archive.zip")
        if err‚ÄØ!= OK:
            return PackedByteArray()
        var res = lecteur.read_file("hello.txt")
        lecteur.close()
        return res

    # Extraire tous les fichiers de l'archive ZIP, pr√©servant les dossiers dedans.
    # Cela fonctionne comme la fonctionnalit√© "Tout Extraire" des gestionnaires d'archive.
    func extract_all_from_zip():
        var lecteur = ZIPReader.new()
        lecteur.open("res://archive.zip")

        # Dossier de destination pour les fichiers extraits (ce dossier doit exister avant l'extraction).
        # Les archives ZIP ne mettent pas toujours tout dans un dossier racine
        # ce qui signifie que des fichiers/dossiers peuvent √™tre cr√©√©s dans le dossier `doss_racine` apr√®s l'extraction.
        var doss_racine = DirAccess.open("user://")

        var fichiers = lecteur.get_files()
        for chemin_fichier in fichiers:
            # Si l'entr√©e actuelle est un dossier.
            if chemin_fichier.ends_with("/"):
                doss_racine.make_dir_recursive(chemin_fichier)
                continue

            # √âcrire le contenu du fichier, cr√©ant automatiquement les dossiers si besoin.
            # Les archives ZIP ne sont pas tri√©es strictement, nous devons donc faire ceci au cas o√π
            # l'entr√©e du fichier arrive avant l'entr√©e du dossier.
            doss_racine.make_dir_recursive(doss_racine.get_current_dir().path_join(chemin_fichier).get_base_dir())
            var fichier = FileAccess.open(doss_racine.get_current_dir().path_join(chemin_fichier), FileAccess.WRITE)
            var buffer = lecteur.read_file(chemin_fichier)
            fichier.store_buffer(buffer)

.. rst-class:: classref-reftable-group

M√©thodes
----------------

.. table::
   :widths: auto

   +---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`             | :ref:`close<class_ZIPReader_method_close>`\ (\ )                                                                                                                      |
   +---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                           | :ref:`file_exists<class_ZIPReader_method_file_exists>`\ (\ path\: :ref:`String<class_String>`, case_sensitive\: :ref:`bool<class_bool>` = true\ )                     |
   +---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                             | :ref:`get_compression_level<class_ZIPReader_method_get_compression_level>`\ (\ path\: :ref:`String<class_String>`, case_sensitive\: :ref:`bool<class_bool>` = true\ ) |
   +---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedStringArray<class_PackedStringArray>` | :ref:`get_files<class_ZIPReader_method_get_files>`\ (\ )                                                                                                              |
   +---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>`             | :ref:`open<class_ZIPReader_method_open>`\ (\ path\: :ref:`String<class_String>`\ )                                                                                    |
   +---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedByteArray<class_PackedByteArray>`     | :ref:`read_file<class_ZIPReader_method_read_file>`\ (\ path\: :ref:`String<class_String>`, case_sensitive\: :ref:`bool<class_bool>` = true\ )                         |
   +---------------------------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Descriptions des m√©thodes
--------------------------------------------------

.. _class_ZIPReader_method_close:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **close**\ (\ ) :ref:`üîó<class_ZIPReader_method_close>`

Ferme les ressources sous-jacentes utilis√©es par cette instance.

.. rst-class:: classref-item-separator

----

.. _class_ZIPReader_method_file_exists:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **file_exists**\ (\ path\: :ref:`String<class_String>`, case_sensitive\: :ref:`bool<class_bool>` = true\ ) :ref:`üîó<class_ZIPReader_method_file_exists>`

Renvoie ``true`` si le fichier existe dans l'archive zip charg√©e.

Doit √™tre appel√©e apr√®s :ref:`open()<class_ZIPReader_method_open>`.

.. rst-class:: classref-item-separator

----

.. _class_ZIPReader_method_get_compression_level:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_compression_level**\ (\ path\: :ref:`String<class_String>`, case_sensitive\: :ref:`bool<class_bool>` = true\ ) :ref:`üîó<class_ZIPReader_method_get_compression_level>`

Renvoie le niveau de compression du fichier dans l'archive zip charg√©e. Renvoie ``-1`` si le fichier n'existe pas ou si une autre erreur se produit. Doit √™tre appel√©e apr√®s :ref:`open()<class_ZIPReader_method_open>`.

.. rst-class:: classref-item-separator

----

.. _class_ZIPReader_method_get_files:

.. rst-class:: classref-method

:ref:`PackedStringArray<class_PackedStringArray>` **get_files**\ (\ ) :ref:`üîó<class_ZIPReader_method_get_files>`

Renvoie la liste des noms de tous les fichiers de l'archive charg√©e.

Doit √™tre appel√©e apr√®s :ref:`open()<class_ZIPReader_method_open>`.

.. rst-class:: classref-item-separator

----

.. _class_ZIPReader_method_open:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **open**\ (\ path\: :ref:`String<class_String>`\ ) :ref:`üîó<class_ZIPReader_method_open>`

Ouvre l'archive zip au chemin ``path`` donn√© et lit son index de fichier.

.. rst-class:: classref-item-separator

----

.. _class_ZIPReader_method_read_file:

.. rst-class:: classref-method

:ref:`PackedByteArray<class_PackedByteArray>` **read_file**\ (\ path\: :ref:`String<class_String>`, case_sensitive\: :ref:`bool<class_bool>` = true\ ) :ref:`üîó<class_ZIPReader_method_read_file>`

Charge l'int√©gralit√© du contenu d'un fichier dans l'archive zip charg√©e en m√©moire et le renvoie.

Doit √™tre appel√©e apr√®s :ref:`open()<class_ZIPReader_method_open>`.

.. |virtual| replace:: :abbr:`virtual (Cette m√©thode doit typiquement √™tre red√©finie par l'utilisateur pour avoir un effet.)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (Cette m√©thode n'a pas d'effets de bord. Elle ne modifie aucune des variables membres de l'instance.)`
.. |vararg| replace:: :abbr:`vararg (Cette m√©thode accepte n'importe quel nombre d'arguments apr√®s ceux d√©cris ici.)`
.. |constructor| replace:: :abbr:`constructor (Cette m√©thode est utilis√©e pour construire un type.)`
.. |static| replace:: :abbr:`static (Cette m√©thode n'a pas besoin d'instance pour √™tre appel√©e, elle peut donc √™tre directement appel√©e en utilisant le nom de la classe.)`
.. |operator| replace:: :abbr:`operator (Cette m√©thode d√©crit un op√©rateur valide √† utiliser avec ce type en tant qu'op√©rande gauche.)`
.. |bitfield| replace:: :abbr:`BitField (Cette valeur est un nombre entier compos√© d'un masque de bits des options suivantes.)`
.. |void| replace:: :abbr:`void (Aucune valeur de retour.)`
