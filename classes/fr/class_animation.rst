:github_url: hide

.. _class_Animation:

Animation
=========

**Hérite de :** :ref:`Resource<class_Resource>` **<** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

Contient des données qui peuvent être utilisées pour animer n'importe quoi dans le moteur.

.. rst-class:: classref-introduction-group

Description
-----------

Une ressource d'Animation qui contient des données qui peuvent être utilisées pour animer n'importe quoi dans le moteur. Les animations sont divisées en pistes et chaque piste doit être liée à un nœud. L'état de ce nœud peut être modifié au cours du temps, en ajoutant des clés programmées (les évènements) à la piste.


.. tabs::

 .. code-tab:: gdscript

    # Cela crée une animation qui fait bouger vers la droite le nœud "Ennemi" de
    # 100 pixels en 2.0 secondes.
    var animation = Animation.new()
    var index_piste = animation.add_track(Animation.TYPE_VALUE)
    animation.track_set_path(index_piste, "Ennemi:position:x")
    animation.track_insert_key(index_piste, 0.0, 0)
    animation.track_insert_key(index_piste, 0.5, 100)
    animation.length = 2.0

 .. code-tab:: csharp

    // Cela crée une animation qui fait bouger vers la droite le nœud "Ennemi" de
    // 100 pixels en 2.0 secondes.
    var animation = new Animation();
    int indexPiste = animation.AddTrack(Animation.TrackType.Value);
    animation.TrackSetPath(indexPiste, "Ennemi:position:x");
    animation.TrackInsertKey(indexPiste, 0.0f, 0);
    animation.TrackInsertKey(indexPiste, 2.0f, 100);
    animation.Length = 2.0f;



Les animations ne contiennent que des données et doivent être ajoutés à un nœud comme un :ref:`AnimationPlayer<class_AnimationPlayer>` pour être lues. Il y a plusieurs types de pistes d'animation, chacun eavec son propre ensemble de méthodes dédiées. Voir :ref:`TrackType<enum_Animation_TrackType>` pour voir les types disponibles.

\ **Note :** Pour la position/rotation/échelle 3D, en utiliser les types de pistes :ref:`TYPE_POSITION_3D<class_Animation_constant_TYPE_POSITION_3D>`, :ref:`TYPE_ROTATION_3D<class_Animation_constant_TYPE_ROTATION_3D>` et :ref:`TYPE_SCALE_3D<class_Animation_constant_TYPE_SCALE_3D>` dédiées au lieu de :ref:`TYPE_VALUE<class_Animation_constant_TYPE_VALUE>` est recommandé pour des raisons de performance.

.. rst-class:: classref-introduction-group

Tutoriels
------------------

- :doc:`Index de la documentation sur l'animation <../tutorials/animation/index>`

.. rst-class:: classref-reftable-group

Propriétés
--------------------

.. table::
   :widths: auto

   +------------------------------------------+--------------------------------------------------------------------+-----------------+
   | :ref:`bool<class_bool>`                  | :ref:`capture_included<class_Animation_property_capture_included>` | ``false``       |
   +------------------------------------------+--------------------------------------------------------------------+-----------------+
   | :ref:`float<class_float>`                | :ref:`length<class_Animation_property_length>`                     | ``1.0``         |
   +------------------------------------------+--------------------------------------------------------------------+-----------------+
   | :ref:`LoopMode<enum_Animation_LoopMode>` | :ref:`loop_mode<class_Animation_property_loop_mode>`               | ``0``           |
   +------------------------------------------+--------------------------------------------------------------------+-----------------+
   | :ref:`float<class_float>`                | :ref:`step<class_Animation_property_step>`                         | ``0.033333335`` |
   +------------------------------------------+--------------------------------------------------------------------+-----------------+

.. rst-class:: classref-reftable-group

Méthodes
----------------

.. table::
   :widths: auto

   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`add_marker<class_Animation_method_add_marker>`\ (\ name\: :ref:`StringName<class_StringName>`, time\: :ref:`float<class_float>`\ )                                                                                                                                                                            |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`add_track<class_Animation_method_add_track>`\ (\ type\: :ref:`TrackType<enum_Animation_TrackType>`, at_position\: :ref:`int<class_int>` = -1\ )                                                                                                                                                               |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`StringName<class_StringName>`                        | :ref:`animation_track_get_key_animation<class_Animation_method_animation_track_get_key_animation>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`animation_track_insert_key<class_Animation_method_animation_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, animation\: :ref:`StringName<class_StringName>`\ )                                                                                                    |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`animation_track_set_key_animation<class_Animation_method_animation_track_set_key_animation>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, animation\: :ref:`StringName<class_StringName>`\ )                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`audio_track_get_key_end_offset<class_Animation_method_audio_track_get_key_end_offset>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`audio_track_get_key_start_offset<class_Animation_method_audio_track_get_key_start_offset>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                  |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Resource<class_Resource>`                            | :ref:`audio_track_get_key_stream<class_Animation_method_audio_track_get_key_stream>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                              |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`audio_track_insert_key<class_Animation_method_audio_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, stream\: :ref:`Resource<class_Resource>`, start_offset\: :ref:`float<class_float>` = 0, end_offset\: :ref:`float<class_float>` = 0\ )                         |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                    | :ref:`audio_track_is_use_blend<class_Animation_method_audio_track_is_use_blend>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`audio_track_set_key_end_offset<class_Animation_method_audio_track_set_key_end_offset>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, offset\: :ref:`float<class_float>`\ )                                                                                                          |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`audio_track_set_key_start_offset<class_Animation_method_audio_track_set_key_start_offset>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, offset\: :ref:`float<class_float>`\ )                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`audio_track_set_key_stream<class_Animation_method_audio_track_set_key_stream>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, stream\: :ref:`Resource<class_Resource>`\ )                                                                                                            |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`audio_track_set_use_blend<class_Animation_method_audio_track_set_use_blend>`\ (\ track_idx\: :ref:`int<class_int>`, enable\: :ref:`bool<class_bool>`\ )                                                                                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`                              | :ref:`bezier_track_get_key_in_handle<class_Animation_method_bezier_track_get_key_in_handle>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`                              | :ref:`bezier_track_get_key_out_handle<class_Animation_method_bezier_track_get_key_out_handle>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                    |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`bezier_track_get_key_value<class_Animation_method_bezier_track_get_key_value>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                              |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`bezier_track_insert_key<class_Animation_method_bezier_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, value\: :ref:`float<class_float>`, in_handle\: :ref:`Vector2<class_Vector2>` = Vector2(0, 0), out_handle\: :ref:`Vector2<class_Vector2>` = Vector2(0, 0)\ ) |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`bezier_track_interpolate<class_Animation_method_bezier_track_interpolate>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`\ ) |const|                                                                                                                                                 |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`bezier_track_set_key_in_handle<class_Animation_method_bezier_track_set_key_in_handle>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, in_handle\: :ref:`Vector2<class_Vector2>`, balanced_value_time_ratio\: :ref:`float<class_float>` = 1.0\ )                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`bezier_track_set_key_out_handle<class_Animation_method_bezier_track_set_key_out_handle>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, out_handle\: :ref:`Vector2<class_Vector2>`, balanced_value_time_ratio\: :ref:`float<class_float>` = 1.0\ )                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`bezier_track_set_key_value<class_Animation_method_bezier_track_set_key_value>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, value\: :ref:`float<class_float>`\ )                                                                                                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`blend_shape_track_insert_key<class_Animation_method_blend_shape_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, amount\: :ref:`float<class_float>`\ )                                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`blend_shape_track_interpolate<class_Animation_method_blend_shape_track_interpolate>`\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`clear<class_Animation_method_clear>`\ (\ )                                                                                                                                                                                                                                                                    |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`compress<class_Animation_method_compress>`\ (\ page_size\: :ref:`int<class_int>` = 8192, fps\: :ref:`int<class_int>` = 120, split_tolerance\: :ref:`float<class_float>` = 4.0\ )                                                                                                                              |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`copy_track<class_Animation_method_copy_track>`\ (\ track_idx\: :ref:`int<class_int>`, to_animation\: :ref:`Animation<class_Animation>`\ )                                                                                                                                                                     |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`find_track<class_Animation_method_find_track>`\ (\ path\: :ref:`NodePath<class_NodePath>`, type\: :ref:`TrackType<enum_Animation_TrackType>`\ ) |const|                                                                                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`StringName<class_StringName>`                        | :ref:`get_marker_at_time<class_Animation_method_get_marker_at_time>`\ (\ time\: :ref:`float<class_float>`\ ) |const|                                                                                                                                                                                                |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Color<class_Color>`                                  | :ref:`get_marker_color<class_Animation_method_get_marker_color>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                                          |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedStringArray<class_PackedStringArray>`          | :ref:`get_marker_names<class_Animation_method_get_marker_names>`\ (\ ) |const|                                                                                                                                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`get_marker_time<class_Animation_method_get_marker_time>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                                            |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`StringName<class_StringName>`                        | :ref:`get_next_marker<class_Animation_method_get_next_marker>`\ (\ time\: :ref:`float<class_float>`\ ) |const|                                                                                                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`StringName<class_StringName>`                        | :ref:`get_prev_marker<class_Animation_method_get_prev_marker>`\ (\ time\: :ref:`float<class_float>`\ ) |const|                                                                                                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`get_track_count<class_Animation_method_get_track_count>`\ (\ ) |const|                                                                                                                                                                                                                                        |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                    | :ref:`has_marker<class_Animation_method_has_marker>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`StringName<class_StringName>`                        | :ref:`method_track_get_name<class_Animation_method_method_track_get_name>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                        |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Array<class_Array>`                                  | :ref:`method_track_get_params<class_Animation_method_method_track_get_params>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                    |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`optimize<class_Animation_method_optimize>`\ (\ allowed_velocity_err\: :ref:`float<class_float>` = 0.01, allowed_angular_err\: :ref:`float<class_float>` = 0.01, precision\: :ref:`int<class_int>` = 3\ )                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`position_track_insert_key<class_Animation_method_position_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, position\: :ref:`Vector3<class_Vector3>`\ )                                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                              | :ref:`position_track_interpolate<class_Animation_method_position_track_interpolate>`\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`remove_marker<class_Animation_method_remove_marker>`\ (\ name\: :ref:`StringName<class_StringName>`\ )                                                                                                                                                                                                        |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`remove_track<class_Animation_method_remove_track>`\ (\ track_idx\: :ref:`int<class_int>`\ )                                                                                                                                                                                                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`rotation_track_insert_key<class_Animation_method_rotation_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, rotation\: :ref:`Quaternion<class_Quaternion>`\ )                                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Quaternion<class_Quaternion>`                        | :ref:`rotation_track_interpolate<class_Animation_method_rotation_track_interpolate>`\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`scale_track_insert_key<class_Animation_method_scale_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, scale\: :ref:`Vector3<class_Vector3>`\ )                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                              | :ref:`scale_track_interpolate<class_Animation_method_scale_track_interpolate>`\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`set_marker_color<class_Animation_method_set_marker_color>`\ (\ name\: :ref:`StringName<class_StringName>`, color\: :ref:`Color<class_Color>`\ )                                                                                                                                                               |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`track_find_key<class_Animation_method_track_find_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, find_mode\: :ref:`FindMode<enum_Animation_FindMode>` = 0, limit\: :ref:`bool<class_bool>` = false, backward\: :ref:`bool<class_bool>` = false\ ) |const|                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                    | :ref:`track_get_interpolation_loop_wrap<class_Animation_method_track_get_interpolation_loop_wrap>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                 |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`InterpolationType<enum_Animation_InterpolationType>` | :ref:`track_get_interpolation_type<class_Animation_method_track_get_interpolation_type>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                           |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`track_get_key_count<class_Animation_method_track_get_key_count>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`track_get_key_time<class_Animation_method_track_get_key_time>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                              |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                                  | :ref:`track_get_key_transition<class_Animation_method_track_get_key_transition>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                  |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Variant<class_Variant>`                              | :ref:`track_get_key_value<class_Animation_method_track_get_key_value>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                            |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`NodePath<class_NodePath>`                            | :ref:`track_get_path<class_Animation_method_track_get_path>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`TrackType<enum_Animation_TrackType>`                 | :ref:`track_get_type<class_Animation_method_track_get_type>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                                      | :ref:`track_insert_key<class_Animation_method_track_insert_key>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, key\: :ref:`Variant<class_Variant>`, transition\: :ref:`float<class_float>` = 1\ )                                                                                        |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                    | :ref:`track_is_compressed<class_Animation_method_track_is_compressed>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                    | :ref:`track_is_enabled<class_Animation_method_track_is_enabled>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                                    | :ref:`track_is_imported<class_Animation_method_track_is_imported>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                 |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_move_down<class_Animation_method_track_move_down>`\ (\ track_idx\: :ref:`int<class_int>`\ )                                                                                                                                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_move_to<class_Animation_method_track_move_to>`\ (\ track_idx\: :ref:`int<class_int>`, to_idx\: :ref:`int<class_int>`\ )                                                                                                                                                                                 |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_move_up<class_Animation_method_track_move_up>`\ (\ track_idx\: :ref:`int<class_int>`\ )                                                                                                                                                                                                                 |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_remove_key<class_Animation_method_track_remove_key>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ )                                                                                                                                                                          |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_remove_key_at_time<class_Animation_method_track_remove_key_at_time>`\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`\ )                                                                                                                                                         |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_enabled<class_Animation_method_track_set_enabled>`\ (\ track_idx\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ )                                                                                                                                                                      |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_imported<class_Animation_method_track_set_imported>`\ (\ track_idx\: :ref:`int<class_int>`, imported\: :ref:`bool<class_bool>`\ )                                                                                                                                                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_interpolation_loop_wrap<class_Animation_method_track_set_interpolation_loop_wrap>`\ (\ track_idx\: :ref:`int<class_int>`, interpolation\: :ref:`bool<class_bool>`\ )                                                                                                                                |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_interpolation_type<class_Animation_method_track_set_interpolation_type>`\ (\ track_idx\: :ref:`int<class_int>`, interpolation\: :ref:`InterpolationType<enum_Animation_InterpolationType>`\ )                                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_key_time<class_Animation_method_track_set_key_time>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`\ )                                                                                                                                    |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_key_transition<class_Animation_method_track_set_key_transition>`\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, transition\: :ref:`float<class_float>`\ )                                                                                                                  |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_key_value<class_Animation_method_track_set_key_value>`\ (\ track_idx\: :ref:`int<class_int>`, key\: :ref:`int<class_int>`, value\: :ref:`Variant<class_Variant>`\ )                                                                                                                                 |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_set_path<class_Animation_method_track_set_path>`\ (\ track_idx\: :ref:`int<class_int>`, path\: :ref:`NodePath<class_NodePath>`\ )                                                                                                                                                                       |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`track_swap<class_Animation_method_track_swap>`\ (\ track_idx\: :ref:`int<class_int>`, with_idx\: :ref:`int<class_int>`\ )                                                                                                                                                                                     |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`UpdateMode<enum_Animation_UpdateMode>`               | :ref:`value_track_get_update_mode<class_Animation_method_value_track_get_update_mode>`\ (\ track_idx\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                             |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Variant<class_Variant>`                              | :ref:`value_track_interpolate<class_Animation_method_value_track_interpolate>`\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const|                                                                                                   |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                                     | :ref:`value_track_set_update_mode<class_Animation_method_value_track_set_update_mode>`\ (\ track_idx\: :ref:`int<class_int>`, mode\: :ref:`UpdateMode<enum_Animation_UpdateMode>`\ )                                                                                                                                |
   +------------------------------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Énumérations
------------------------

.. _enum_Animation_TrackType:

.. rst-class:: classref-enumeration

enum **TrackType**: :ref:`🔗<enum_Animation_TrackType>`

.. _class_Animation_constant_TYPE_VALUE:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_VALUE** = ``0``

Les pistes de valeur définissent des valeurs dans les propriétés d'un nœud, mais seulement celles qui peuvent être interpolées. Pour la position/rotation/échelle 3D, utiliser les types de pistes :ref:`TYPE_POSITION_3D<class_Animation_constant_TYPE_POSITION_3D>`, :ref:`TYPE_ROTATION_3D<class_Animation_constant_TYPE_ROTATION_3D>` et :ref:`TYPE_SCALE_3D<class_Animation_constant_TYPE_SCALE_3D>` dédiés au lieu de :ref:`TYPE_VALUE<class_Animation_constant_TYPE_VALUE>` est recommandé pour des raisons de performances.

.. _class_Animation_constant_TYPE_POSITION_3D:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_POSITION_3D** = ``1``

Piste de position 3D (les valeurs sont stockées dans des :ref:`Vector3<class_Vector3>`\ s).

.. _class_Animation_constant_TYPE_ROTATION_3D:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_ROTATION_3D** = ``2``

Piste de rotation 3D (les valeurs sont stockées dans des :ref:`Quaternion<class_Quaternion>`\ s).

.. _class_Animation_constant_TYPE_SCALE_3D:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_SCALE_3D** = ``3``

Piste d'échelle 3D (les valeurs sont stockées dans des :ref:`Vector3<class_Vector3>`\ s).

.. _class_Animation_constant_TYPE_BLEND_SHAPE:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_BLEND_SHAPE** = ``4``

Piste de blend shape.

.. _class_Animation_constant_TYPE_METHOD:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_METHOD** = ``5``

Les pistes d'appel de méthode appellent des fonctions à arguments donnés à chaque clé d'animation.

.. _class_Animation_constant_TYPE_BEZIER:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_BEZIER** = ``6``

Les pistes de Bézier sont utilisées pour calculer une valeur par interpolation en utilisant des courbes personnalisées. Elles peuvent également être utilisées pour animer des sous-propriétés de vecteurs et de couleurs (par exemple, l'opacité d'une :ref:`Color<class_Color>`).

.. _class_Animation_constant_TYPE_AUDIO:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_AUDIO** = ``7``

Les pistes audio sont utilisées pour lire un flux audio avec l'un ou l'autre type de :ref:`AudioStreamPlayer<class_AudioStreamPlayer>`. Le flux peut être découpé et prévisualisé dans l'animation.

.. _class_Animation_constant_TYPE_ANIMATION:

.. rst-class:: classref-enumeration-constant

:ref:`TrackType<enum_Animation_TrackType>` **TYPE_ANIMATION** = ``8``

Les pistes d'animation jouent des animations dans d'autres nœuds :ref:`AnimationPlayer<class_AnimationPlayer>`.

.. rst-class:: classref-item-separator

----

.. _enum_Animation_InterpolationType:

.. rst-class:: classref-enumeration

enum **InterpolationType**: :ref:`🔗<enum_Animation_InterpolationType>`

.. _class_Animation_constant_INTERPOLATION_NEAREST:

.. rst-class:: classref-enumeration-constant

:ref:`InterpolationType<enum_Animation_InterpolationType>` **INTERPOLATION_NEAREST** = ``0``

Pas d'interpolation (valeur la plus proche).

.. _class_Animation_constant_INTERPOLATION_LINEAR:

.. rst-class:: classref-enumeration-constant

:ref:`InterpolationType<enum_Animation_InterpolationType>` **INTERPOLATION_LINEAR** = ``1``

Interpolation linéaire.

.. _class_Animation_constant_INTERPOLATION_CUBIC:

.. rst-class:: classref-enumeration-constant

:ref:`InterpolationType<enum_Animation_InterpolationType>` **INTERPOLATION_CUBIC** = ``2``

Interpolation cubique. Cela donne un aspect plus lisse que l'interpolation linéaire, mais est plus cher à interpoler. Restez avec :ref:`INTERPOLATION_LINEAR<class_Animation_constant_INTERPOLATION_LINEAR>` pour des animations 3D complexes importées de logiciels externes, même si cela nécessite l'utilisation d'une fréquence d'images d'animation plus élevé en retour.

.. _class_Animation_constant_INTERPOLATION_LINEAR_ANGLE:

.. rst-class:: classref-enumeration-constant

:ref:`InterpolationType<enum_Animation_InterpolationType>` **INTERPOLATION_LINEAR_ANGLE** = ``3``

Interpolation linéaire avec la rotation au chemin le plus court.

\ **Note :** La valeur du résultat est toujours normalisée et peut ne pas correspondre à la valeur de la clé.

.. _class_Animation_constant_INTERPOLATION_CUBIC_ANGLE:

.. rst-class:: classref-enumeration-constant

:ref:`InterpolationType<enum_Animation_InterpolationType>` **INTERPOLATION_CUBIC_ANGLE** = ``4``

Interpolation cubique avec la rotation au chemin le plus court.

\ **Note :** La valeur du résultat est toujours normalisée et peut ne pas correspondre à la valeur de la clé.

.. rst-class:: classref-item-separator

----

.. _enum_Animation_UpdateMode:

.. rst-class:: classref-enumeration

enum **UpdateMode**: :ref:`🔗<enum_Animation_UpdateMode>`

.. _class_Animation_constant_UPDATE_CONTINUOUS:

.. rst-class:: classref-enumeration-constant

:ref:`UpdateMode<enum_Animation_UpdateMode>` **UPDATE_CONTINUOUS** = ``0``

Met à jour entre les clés d'animation et conserve la valeur.

.. _class_Animation_constant_UPDATE_DISCRETE:

.. rst-class:: classref-enumeration-constant

:ref:`UpdateMode<enum_Animation_UpdateMode>` **UPDATE_DISCRETE** = ``1``

Mise à jour aux images clés.

.. _class_Animation_constant_UPDATE_CAPTURE:

.. rst-class:: classref-enumeration-constant

:ref:`UpdateMode<enum_Animation_UpdateMode>` **UPDATE_CAPTURE** = ``2``

Comme :ref:`UPDATE_CONTINUOUS<class_Animation_constant_UPDATE_CONTINUOUS>`, mais fonctionne comme un drapeau pour capturer la valeur de l'objet courant et effectuer l'interpolation dans certaines méthodes. Voir aussi :ref:`AnimationMixer.capture()<class_AnimationMixer_method_capture>`, :ref:`AnimationPlayer.playback_auto_capture<class_AnimationPlayer_property_playback_auto_capture>`, et :ref:`AnimationPlayer.play_with_capture()<class_AnimationPlayer_method_play_with_capture>`.

.. rst-class:: classref-item-separator

----

.. _enum_Animation_LoopMode:

.. rst-class:: classref-enumeration

enum **LoopMode**: :ref:`🔗<enum_Animation_LoopMode>`

.. _class_Animation_constant_LOOP_NONE:

.. rst-class:: classref-enumeration-constant

:ref:`LoopMode<enum_Animation_LoopMode>` **LOOP_NONE** = ``0``

Aux deux extrémités de l'animation, l'animation cessera de jouer.

.. _class_Animation_constant_LOOP_LINEAR:

.. rst-class:: classref-enumeration-constant

:ref:`LoopMode<enum_Animation_LoopMode>` **LOOP_LINEAR** = ``1``

Aux deux extrémités de l'animation, l'animation sera répétée sans changer la direction de lecture.

.. _class_Animation_constant_LOOP_PINGPONG:

.. rst-class:: classref-enumeration-constant

:ref:`LoopMode<enum_Animation_LoopMode>` **LOOP_PINGPONG** = ``2``

Répète la lecture et inverse son sens aux deux extrémités de l'animation.

.. rst-class:: classref-item-separator

----

.. _enum_Animation_LoopedFlag:

.. rst-class:: classref-enumeration

enum **LoopedFlag**: :ref:`🔗<enum_Animation_LoopedFlag>`

.. _class_Animation_constant_LOOPED_FLAG_NONE:

.. rst-class:: classref-enumeration-constant

:ref:`LoopedFlag<enum_Animation_LoopedFlag>` **LOOPED_FLAG_NONE** = ``0``

Ce drapeau indique que l'animation se produit sans aucune boucle.

.. _class_Animation_constant_LOOPED_FLAG_END:

.. rst-class:: classref-enumeration-constant

:ref:`LoopedFlag<enum_Animation_LoopedFlag>` **LOOPED_FLAG_END** = ``1``

Ce drapeau indique que l'animation a atteint la fin de l'animation et est juste après le traitement de la boucle.

.. _class_Animation_constant_LOOPED_FLAG_START:

.. rst-class:: classref-enumeration-constant

:ref:`LoopedFlag<enum_Animation_LoopedFlag>` **LOOPED_FLAG_START** = ``2``

Ce drapeau indique que l'animation a atteint le début de l'animation et est juste après le traitement de la boucle.

.. rst-class:: classref-item-separator

----

.. _enum_Animation_FindMode:

.. rst-class:: classref-enumeration

enum **FindMode**: :ref:`🔗<enum_Animation_FindMode>`

.. _class_Animation_constant_FIND_MODE_NEAREST:

.. rst-class:: classref-enumeration-constant

:ref:`FindMode<enum_Animation_FindMode>` **FIND_MODE_NEAREST** = ``0``

Trouve la clé avec le temps le plus proche.

.. _class_Animation_constant_FIND_MODE_APPROX:

.. rst-class:: classref-enumeration-constant

:ref:`FindMode<enum_Animation_FindMode>` **FIND_MODE_APPROX** = ``1``

Trouve seulement la clé en approximant le temps.

.. _class_Animation_constant_FIND_MODE_EXACT:

.. rst-class:: classref-enumeration-constant

:ref:`FindMode<enum_Animation_FindMode>` **FIND_MODE_EXACT** = ``2``

Trouve seulement la clé en faisant correspondre le temps.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Descriptions des propriétés
------------------------------------------------------

.. _class_Animation_property_capture_included:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **capture_included** = ``false`` :ref:`🔗<class_Animation_property_capture_included>`

.. rst-class:: classref-property-setget

- :ref:`bool<class_bool>` **is_capture_included**\ (\ )

Renvoie ``true`` si la piste de capture est incluse. C'est une valeur en lecture seule mise en cache pour les performances.

.. rst-class:: classref-item-separator

----

.. _class_Animation_property_length:

.. rst-class:: classref-property

:ref:`float<class_float>` **length** = ``1.0`` :ref:`🔗<class_Animation_property_length>`

.. rst-class:: classref-property-setget

- |void| **set_length**\ (\ value\: :ref:`float<class_float>`\ )
- :ref:`float<class_float>` **get_length**\ (\ )

La longueur totale de l’animation (en secondes).

\ **Note:** Longueur n’est pas délimitée par la dernière clé, car celle-ci peut-être avant ou après la fin pour assurer une interpolation correcte et le bouclage.

.. rst-class:: classref-item-separator

----

.. _class_Animation_property_loop_mode:

.. rst-class:: classref-property

:ref:`LoopMode<enum_Animation_LoopMode>` **loop_mode** = ``0`` :ref:`🔗<class_Animation_property_loop_mode>`

.. rst-class:: classref-property-setget

- |void| **set_loop_mode**\ (\ value\: :ref:`LoopMode<enum_Animation_LoopMode>`\ )
- :ref:`LoopMode<enum_Animation_LoopMode>` **get_loop_mode**\ (\ )

Détermine le comportement des deux extrémités de la chronologie de l'animation pendant la lecture de l'animation. Cela indique si et comment l'animation doit être redemarrée, et est aussi utilisé pour avoir une interpolation correcte des cycles d'animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_property_step:

.. rst-class:: classref-property

:ref:`float<class_float>` **step** = ``0.033333335`` :ref:`🔗<class_Animation_property_step>`

.. rst-class:: classref-property-setget

- |void| **set_step**\ (\ value\: :ref:`float<class_float>`\ )
- :ref:`float<class_float>` **get_step**\ (\ )

La valeur de l’étape d’animation.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

Descriptions des méthodes
--------------------------------------------------

.. _class_Animation_method_add_marker:

.. rst-class:: classref-method

|void| **add_marker**\ (\ name\: :ref:`StringName<class_StringName>`, time\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_add_marker>`

Ajoute un marqueur à cette animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_add_track:

.. rst-class:: classref-method

:ref:`int<class_int>` **add_track**\ (\ type\: :ref:`TrackType<enum_Animation_TrackType>`, at_position\: :ref:`int<class_int>` = -1\ ) :ref:`🔗<class_Animation_method_add_track>`

Ajoute une piste à l’animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_animation_track_get_key_animation:

.. rst-class:: classref-method

:ref:`StringName<class_StringName>` **animation_track_get_key_animation**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_animation_track_get_key_animation>`

Renvoie le nom de l'animation à la clé identifiée par ``key_idx``. L'index de piste ``track_idx`` doit être l'index d'une piste d'animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_animation_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **animation_track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, animation\: :ref:`StringName<class_StringName>`\ ) :ref:`🔗<class_Animation_method_animation_track_insert_key>`

Insère une clé avec la valeur ``animation`` au temps ``time`` donné (en secondes). L'index de piste ``track_idx`` doit être l'index d'une piste d'animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_animation_track_set_key_animation:

.. rst-class:: classref-method

|void| **animation_track_set_key_animation**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, animation\: :ref:`StringName<class_StringName>`\ ) :ref:`🔗<class_Animation_method_animation_track_set_key_animation>`

Définit la clé identifiée par ``key_idx`` à la valeur ``animation``. L'index de piste ``track_idx`` doit être l'index d'une piste d'animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_get_key_end_offset:

.. rst-class:: classref-method

:ref:`float<class_float>` **audio_track_get_key_end_offset**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_audio_track_get_key_end_offset>`

Renvoie le décalage de fin de la clé identifiée par ``key_idx``. L'index de piste ``track_idx`` doit être l'index d'une piste audio.

Le décalage de fin est le nombre de secondes coupées à la fin du flux audio.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_get_key_start_offset:

.. rst-class:: classref-method

:ref:`float<class_float>` **audio_track_get_key_start_offset**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_audio_track_get_key_start_offset>`

Renvoie le décalage de début de la clé identifiée par ``key_idx``. L'index de piste ``track_idx`` doit être l'index d'une piste audio.

Le décalage de début est le nombre de secondes coupées au début du flux audio.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_get_key_stream:

.. rst-class:: classref-method

:ref:`Resource<class_Resource>` **audio_track_get_key_stream**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_audio_track_get_key_stream>`

Renvoie le flux audio de la clé identifiée par ``key_idx``. L'index de piste ``track_idx`` doit être l'index d'une piste audio.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **audio_track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, stream\: :ref:`Resource<class_Resource>`, start_offset\: :ref:`float<class_float>` = 0, end_offset\: :ref:`float<class_float>` = 0\ ) :ref:`🔗<class_Animation_method_audio_track_insert_key>`

Insère une clé de piste audio au temps ``time`` donné en secondes. L'index de piste ``track_idx`` doit être l'index d'une piste audio.

\ ``stream`` est la ressource :ref:`AudioStream<class_AudioStream>` à jouer. ``start_offset`` est le nombre de secondes à couper au début du flux audio, tandis que ``end_offset`` est le nombre de secondes à couper à la fin.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_is_use_blend:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **audio_track_is_use_blend**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_audio_track_is_use_blend>`

Renvoie ``true`` si la piste à l'index ``track_idx`` sera mélangée avec d'autres animations.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_set_key_end_offset:

.. rst-class:: classref-method

|void| **audio_track_set_key_end_offset**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, offset\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_audio_track_set_key_end_offset>`

Définit le décalage de fin de la clé identifiée par ``key_idx`` à la valeur ``offset``. L'index de piste ``track_idx`` doit être l'index d'une piste audio.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_set_key_start_offset:

.. rst-class:: classref-method

|void| **audio_track_set_key_start_offset**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, offset\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_audio_track_set_key_start_offset>`

Définit le décalage de début de la clé identifiée par ``key_idx`` à la valeur ``offset``. L'index de piste ``track_idx`` doit être l'index d'une piste audio.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_set_key_stream:

.. rst-class:: classref-method

|void| **audio_track_set_key_stream**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, stream\: :ref:`Resource<class_Resource>`\ ) :ref:`🔗<class_Animation_method_audio_track_set_key_stream>`

Définit le flux de la clé identifiée par ``key_idx`` à la valeur ``stream``. L'index de piste ``track_idx`` doit être l'index d'une piste audio.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_audio_track_set_use_blend:

.. rst-class:: classref-method

|void| **audio_track_set_use_blend**\ (\ track_idx\: :ref:`int<class_int>`, enable\: :ref:`bool<class_bool>`\ ) :ref:`🔗<class_Animation_method_audio_track_set_use_blend>`

Définit si la piste sera mélangée avec d'autres animations. Si ``true``, le volume de lecture audio change en fonction du montant de mélange.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_get_key_in_handle:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **bezier_track_get_key_in_handle**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_bezier_track_get_key_in_handle>`

Renvoie la poignée d'entrée de la clé identifiée par ``key_idx``. Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_get_key_out_handle:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **bezier_track_get_key_out_handle**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_bezier_track_get_key_out_handle>`

Renvoie la poignée de sortie de la clé identifiée par ``key_idx``. Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_get_key_value:

.. rst-class:: classref-method

:ref:`float<class_float>` **bezier_track_get_key_value**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_bezier_track_get_key_value>`

Renvoie la valeur de la clé identifiée par ``key_idx``. Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **bezier_track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, value\: :ref:`float<class_float>`, in_handle\: :ref:`Vector2<class_Vector2>` = Vector2(0, 0), out_handle\: :ref:`Vector2<class_Vector2>` = Vector2(0, 0)\ ) :ref:`🔗<class_Animation_method_bezier_track_insert_key>`

Insère une clé de piste de Bézier au temps ``time`` donné en secondes. Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

\ ``in_handle`` est le poids à gauche du point ajouté à la courbe de Bézier, ``out_handle`` est celui à droite, tandis que ``value`` est la valeur réelle à ce point.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_interpolate:

.. rst-class:: classref-method

:ref:`float<class_float>` **bezier_track_interpolate**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`\ ) |const| :ref:`🔗<class_Animation_method_bezier_track_interpolate>`

Renvoie la valeur interpolée au temps ``time`` donné (en secondes). Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_set_key_in_handle:

.. rst-class:: classref-method

|void| **bezier_track_set_key_in_handle**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, in_handle\: :ref:`Vector2<class_Vector2>`, balanced_value_time_ratio\: :ref:`float<class_float>` = 1.0\ ) :ref:`🔗<class_Animation_method_bezier_track_set_key_in_handle>`

Définit la poignée d'entrée de la clé identifiée par ``key_idx`` à la valeur ``in_handle``. Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_set_key_out_handle:

.. rst-class:: classref-method

|void| **bezier_track_set_key_out_handle**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, out_handle\: :ref:`Vector2<class_Vector2>`, balanced_value_time_ratio\: :ref:`float<class_float>` = 1.0\ ) :ref:`🔗<class_Animation_method_bezier_track_set_key_out_handle>`

Définit la poignée de sortie de la clé identifiée par ``key_idx`` à la valeur ``out_handle``. Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_bezier_track_set_key_value:

.. rst-class:: classref-method

|void| **bezier_track_set_key_value**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, value\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_bezier_track_set_key_value>`

Définit la valeur de la clé identifiée par ``key_idx`` à la valeur donnée. Le paramètre ``track_idx`` doit être l'index d'une piste de Bézier.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_blend_shape_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **blend_shape_track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, amount\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_blend_shape_track_insert_key>`

Insère une clé dans une piste de blend shape donnée. Renvoie l'index de la clé.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_blend_shape_track_interpolate:

.. rst-class:: classref-method

:ref:`float<class_float>` **blend_shape_track_interpolate**\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`🔗<class_Animation_method_blend_shape_track_interpolate>`

Renvoie la valeur de la blend shape interpolée au moment donné (en secondes). Le paramètre ``track_idx`` doit être l'index d'une piste de blend shape.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_clear:

.. rst-class:: classref-method

|void| **clear**\ (\ ) :ref:`🔗<class_Animation_method_clear>`

Efface l'animation (nettoie toutes les pistes et réinitialise tout).

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_compress:

.. rst-class:: classref-method

|void| **compress**\ (\ page_size\: :ref:`int<class_int>` = 8192, fps\: :ref:`int<class_int>` = 120, split_tolerance\: :ref:`float<class_float>` = 4.0\ ) :ref:`🔗<class_Animation_method_compress>`

Compresse l'animation et toutes ses pistes en place. Cela fera que :ref:`track_is_compressed()<class_Animation_method_track_is_compressed>` renvoie ``true`` une fois appelée sur ce **Animation**. Les pistes compressées nécessitent moins de mémoire à jouer et sont conçues pour être utilisées pour des animations 3D complexes (comme des cinématiques) importées de logiciels 3D externes. La compression crée des pertes, mais la différence n'est généralement pas perceptible en conditions réelles.

\ **Note :** Les pistes compressées ont diverses limitations (comme ne pas être modifiables dans l'éditeur), donc utilisez uniquement des animations compressées si vous en avez vraiment besoin.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_copy_track:

.. rst-class:: classref-method

|void| **copy_track**\ (\ track_idx\: :ref:`int<class_int>`, to_animation\: :ref:`Animation<class_Animation>`\ ) :ref:`🔗<class_Animation_method_copy_track>`

Ajoute une nouvelle piste à ``to_animation`` qui est une copie de la piste donnée de cette animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_find_track:

.. rst-class:: classref-method

:ref:`int<class_int>` **find_track**\ (\ path\: :ref:`NodePath<class_NodePath>`, type\: :ref:`TrackType<enum_Animation_TrackType>`\ ) |const| :ref:`🔗<class_Animation_method_find_track>`

Renvoie l'index de la piste spécifiée. Si la piste n'est pas trouvée, renvoie -1.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_get_marker_at_time:

.. rst-class:: classref-method

:ref:`StringName<class_StringName>` **get_marker_at_time**\ (\ time\: :ref:`float<class_float>`\ ) |const| :ref:`🔗<class_Animation_method_get_marker_at_time>`

Renvoie le nom du marqueur situé au temps donné.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_get_marker_color:

.. rst-class:: classref-method

:ref:`Color<class_Color>` **get_marker_color**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`🔗<class_Animation_method_get_marker_color>`

Renvoie la couleur du marqueur.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_get_marker_names:

.. rst-class:: classref-method

:ref:`PackedStringArray<class_PackedStringArray>` **get_marker_names**\ (\ ) |const| :ref:`🔗<class_Animation_method_get_marker_names>`

Renvoie tous les marqueurs dans cette Animation, triés par ordre croissant de temps.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_get_marker_time:

.. rst-class:: classref-method

:ref:`float<class_float>` **get_marker_time**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`🔗<class_Animation_method_get_marker_time>`

Renvoie le temps du marqueur donné.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_get_next_marker:

.. rst-class:: classref-method

:ref:`StringName<class_StringName>` **get_next_marker**\ (\ time\: :ref:`float<class_float>`\ ) |const| :ref:`🔗<class_Animation_method_get_next_marker>`

Renvoie le marqueur le plus proche qui vient après le temps donné. Si un tel marqueur n'existe pas, une chaîne vide est renvoyée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_get_prev_marker:

.. rst-class:: classref-method

:ref:`StringName<class_StringName>` **get_prev_marker**\ (\ time\: :ref:`float<class_float>`\ ) |const| :ref:`🔗<class_Animation_method_get_prev_marker>`

Renvoie le marqueur le plus proche qui vient avant le temps donné. Si un tel marqueur n'existe pas, une chaîne vide est renvoyée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_get_track_count:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_track_count**\ (\ ) |const| :ref:`🔗<class_Animation_method_get_track_count>`

Renvoie le nombre de pistes dans l'animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_has_marker:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **has_marker**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`🔗<class_Animation_method_has_marker>`

Renvoie ``true`` si cette Animation contient un marqueur avec le nom donné.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_method_track_get_name:

.. rst-class:: classref-method

:ref:`StringName<class_StringName>` **method_track_get_name**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_method_track_get_name>`

Renvoie le nom de la méthode d'une piste de méthode.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_method_track_get_params:

.. rst-class:: classref-method

:ref:`Array<class_Array>` **method_track_get_params**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_method_track_get_params>`

Renvoie les valeurs des paramètres d'appel à utiliser sur une piste de méthode pour une clé donnée dans une piste donnée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_optimize:

.. rst-class:: classref-method

|void| **optimize**\ (\ allowed_velocity_err\: :ref:`float<class_float>` = 0.01, allowed_angular_err\: :ref:`float<class_float>` = 0.01, precision\: :ref:`int<class_int>` = 3\ ) :ref:`🔗<class_Animation_method_optimize>`

Optimise l'animation et toutes ses pistes en place. Cela conservera seulement autant de clés que nécessaire pour garder l'animation dans les limites spécifiées.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_position_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **position_track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, position\: :ref:`Vector3<class_Vector3>`\ ) :ref:`🔗<class_Animation_method_position_track_insert_key>`

Insère une clé dans une piste de position 3D donnée. Renvoie l'index de la clé.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_position_track_interpolate:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **position_track_interpolate**\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`🔗<class_Animation_method_position_track_interpolate>`

Renvoie la valeur de la position interpolée au temps donné (en secondes). Le paramètre ``track_idx`` doit être l'index d'une piste de position 3D.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_remove_marker:

.. rst-class:: classref-method

|void| **remove_marker**\ (\ name\: :ref:`StringName<class_StringName>`\ ) :ref:`🔗<class_Animation_method_remove_marker>`

Retire le marqueur avec le nom donné de cette Animation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_remove_track:

.. rst-class:: classref-method

|void| **remove_track**\ (\ track_idx\: :ref:`int<class_int>`\ ) :ref:`🔗<class_Animation_method_remove_track>`

Enlève une piste spécifiée par son index.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_rotation_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **rotation_track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, rotation\: :ref:`Quaternion<class_Quaternion>`\ ) :ref:`🔗<class_Animation_method_rotation_track_insert_key>`

Insère une clé dans une piste de rotation 3D donnée. Renvoie l'index de la clé.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_rotation_track_interpolate:

.. rst-class:: classref-method

:ref:`Quaternion<class_Quaternion>` **rotation_track_interpolate**\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`🔗<class_Animation_method_rotation_track_interpolate>`

Renvoie la valeur de la rotation interpolée au temps donné (en secondes). Le paramètre ``track_idx`` doit être l'index d'une piste de rotation 3D.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_scale_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **scale_track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, scale\: :ref:`Vector3<class_Vector3>`\ ) :ref:`🔗<class_Animation_method_scale_track_insert_key>`

Insère une clé dans une piste d'échelle 3D donnée. Renvoie l'index de la clé.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_scale_track_interpolate:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **scale_track_interpolate**\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`🔗<class_Animation_method_scale_track_interpolate>`

Renvoie la valeur d'échelle interpolée au temps donné (en secondes). Le paramètre ``track_idx`` doit être l'index d'une piste d'échelle 3D.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_set_marker_color:

.. rst-class:: classref-method

|void| **set_marker_color**\ (\ name\: :ref:`StringName<class_StringName>`, color\: :ref:`Color<class_Color>`\ ) :ref:`🔗<class_Animation_method_set_marker_color>`

Définit la couleur du marqueur donné.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_find_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **track_find_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, find_mode\: :ref:`FindMode<enum_Animation_FindMode>` = 0, limit\: :ref:`bool<class_bool>` = false, backward\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`🔗<class_Animation_method_track_find_key>`

Trouve l'index d'une clé par son temps dans une piste donnée. Optionnellement, ne le trouve que si le temps approximatif/exact est donné.

Si ``limit`` vaut ``true``, elle ne renvoie pas les clés en dehors de la plage d'animation.

Si ``backward`` vaut ``true``, la direction est inversée dans les méthodes qui comptent sur un traitement uni-directionnel.

Par exemple, dans le cas où ``find_mode`` vaut :ref:`FIND_MODE_NEAREST<class_Animation_constant_FIND_MODE_NEAREST>`, s'il n'y a pas de clé dans la position actuelle juste après avoir cherché, la première clé trouvée est récupérée en cherchant avant la position, mais si ``backward`` vaut ``true``, la première clé trouvée est récupérée après la position.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_interpolation_loop_wrap:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **track_get_interpolation_loop_wrap**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_interpolation_loop_wrap>`

Renvoie ``true`` si la piste de ``track_idx`` enveloppe la boucle d'interpolation. Les nouvelles pistes enveloppent la boucle d'interpolation par défaut.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_interpolation_type:

.. rst-class:: classref-method

:ref:`InterpolationType<enum_Animation_InterpolationType>` **track_get_interpolation_type**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_interpolation_type>`

Renvoie le type d'interpolation d'une piste donnée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_key_count:

.. rst-class:: classref-method

:ref:`int<class_int>` **track_get_key_count**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_key_count>`

Renvoie le nombre de clés dans une piste donnée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_key_time:

.. rst-class:: classref-method

:ref:`float<class_float>` **track_get_key_time**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_key_time>`

Renvoie le temps où est située la clé.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_key_transition:

.. rst-class:: classref-method

:ref:`float<class_float>` **track_get_key_transition**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_key_transition>`

Renvoie la courbe de transition (atténuation) pour une clé spécifique (voir la fonction mathématique intégrée :ref:`@GlobalScope.ease()<class_@GlobalScope_method_ease>`).

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_key_value:

.. rst-class:: classref-method

:ref:`Variant<class_Variant>` **track_get_key_value**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_key_value>`

Renvoie la valeur d'une clé donnée dans une piste donnée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_path:

.. rst-class:: classref-method

:ref:`NodePath<class_NodePath>` **track_get_path**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_path>`

Obtient le chemin d'une piste. Pour plus d'informations sur le format des chemins, voir :ref:`track_set_path()<class_Animation_method_track_set_path>`.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_get_type:

.. rst-class:: classref-method

:ref:`TrackType<enum_Animation_TrackType>` **track_get_type**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_get_type>`

Obtient le type d’une piste.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_insert_key:

.. rst-class:: classref-method

:ref:`int<class_int>` **track_insert_key**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`, key\: :ref:`Variant<class_Variant>`, transition\: :ref:`float<class_float>` = 1\ ) :ref:`🔗<class_Animation_method_track_insert_key>`

Insère une clé générique dans une piste donnée. Renvoie l'index de la clé.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_is_compressed:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **track_is_compressed**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_is_compressed>`

Renvoie ``true`` si la piste est compressée, ``false`` sinon. Voir aussi :ref:`compress()<class_Animation_method_compress>`.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_is_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **track_is_enabled**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_is_enabled>`

Renvoie ``true`` si la piste à l'index ``track_idx`` est activée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_is_imported:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **track_is_imported**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_track_is_imported>`

Renvoie ``true`` si la piste donnée est importée. Sinon, renvoie ``false``.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_move_down:

.. rst-class:: classref-method

|void| **track_move_down**\ (\ track_idx\: :ref:`int<class_int>`\ ) :ref:`🔗<class_Animation_method_track_move_down>`

Déplace une piste vers le bas.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_move_to:

.. rst-class:: classref-method

|void| **track_move_to**\ (\ track_idx\: :ref:`int<class_int>`, to_idx\: :ref:`int<class_int>`\ ) :ref:`🔗<class_Animation_method_track_move_to>`

Change la position de l'index de la piste ``track_idx`` à celle définie dans ``to_idx``.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_move_up:

.. rst-class:: classref-method

|void| **track_move_up**\ (\ track_idx\: :ref:`int<class_int>`\ ) :ref:`🔗<class_Animation_method_track_move_up>`

Déplace une piste vers le haut.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_remove_key:

.. rst-class:: classref-method

|void| **track_remove_key**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`\ ) :ref:`🔗<class_Animation_method_track_remove_key>`

Supprime une clé par son index dans une piste donnée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_remove_key_at_time:

.. rst-class:: classref-method

|void| **track_remove_key_at_time**\ (\ track_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_track_remove_key_at_time>`

Supprime une clé au temps ``time`` dans une piste donnée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_enabled:

.. rst-class:: classref-method

|void| **track_set_enabled**\ (\ track_idx\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ ) :ref:`🔗<class_Animation_method_track_set_enabled>`

Active/désactive la piste donnée. Les pistes sont actives par défaut.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_imported:

.. rst-class:: classref-method

|void| **track_set_imported**\ (\ track_idx\: :ref:`int<class_int>`, imported\: :ref:`bool<class_bool>`\ ) :ref:`🔗<class_Animation_method_track_set_imported>`

Définit la piste donnée comme importée ou non.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_interpolation_loop_wrap:

.. rst-class:: classref-method

|void| **track_set_interpolation_loop_wrap**\ (\ track_idx\: :ref:`int<class_int>`, interpolation\: :ref:`bool<class_bool>`\ ) :ref:`🔗<class_Animation_method_track_set_interpolation_loop_wrap>`

Si ``true``, la piste d'index ``track_idx`` enveloppe la boucle d'interpolation.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_interpolation_type:

.. rst-class:: classref-method

|void| **track_set_interpolation_type**\ (\ track_idx\: :ref:`int<class_int>`, interpolation\: :ref:`InterpolationType<enum_Animation_InterpolationType>`\ ) :ref:`🔗<class_Animation_method_track_set_interpolation_type>`

Définit le type d'interpolation d'une piste donnée.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_key_time:

.. rst-class:: classref-method

|void| **track_set_key_time**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, time\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_track_set_key_time>`

Définit l’heure d’une clé existante.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_key_transition:

.. rst-class:: classref-method

|void| **track_set_key_transition**\ (\ track_idx\: :ref:`int<class_int>`, key_idx\: :ref:`int<class_int>`, transition\: :ref:`float<class_float>`\ ) :ref:`🔗<class_Animation_method_track_set_key_transition>`

Définit la courbe de transition (atténuation) pour une clé donnée (voir la fonction mathématique intégrée :ref:`@GlobalScope.ease()<class_@GlobalScope_method_ease>`).

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_key_value:

.. rst-class:: classref-method

|void| **track_set_key_value**\ (\ track_idx\: :ref:`int<class_int>`, key\: :ref:`int<class_int>`, value\: :ref:`Variant<class_Variant>`\ ) :ref:`🔗<class_Animation_method_track_set_key_value>`

Définit la valeur d'une clé.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_set_path:

.. rst-class:: classref-method

|void| **track_set_path**\ (\ track_idx\: :ref:`int<class_int>`, path\: :ref:`NodePath<class_NodePath>`\ ) :ref:`🔗<class_Animation_method_track_set_path>`

Définit le chemin d'une piste. Les chemins doivent être des chemins de scène valides vers un nœud et doivent être spécifiés à partir du nœud :ref:`AnimationMixer.root_node<class_AnimationMixer_property_root_node>` qui va reproduire l'animation. Les pistes qui contrôlent des propriétés ou des os doivent ajouter leur nom après le chemin, séparé par ``":"``.

Par exemple, ``"personnage/squelette:cheville"`` ou ``"personnage/maillage:transform/local"``.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_track_swap:

.. rst-class:: classref-method

|void| **track_swap**\ (\ track_idx\: :ref:`int<class_int>`, with_idx\: :ref:`int<class_int>`\ ) :ref:`🔗<class_Animation_method_track_swap>`

Échange la position de la piste d'index ``track_idx`` avec la piste d'index ``with_idx``.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_value_track_get_update_mode:

.. rst-class:: classref-method

:ref:`UpdateMode<enum_Animation_UpdateMode>` **value_track_get_update_mode**\ (\ track_idx\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_Animation_method_value_track_get_update_mode>`

Renvoie le mode de mise à jour d'une piste de valeur.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_value_track_interpolate:

.. rst-class:: classref-method

:ref:`Variant<class_Variant>` **value_track_interpolate**\ (\ track_idx\: :ref:`int<class_int>`, time_sec\: :ref:`float<class_float>`, backward\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`🔗<class_Animation_method_value_track_interpolate>`

Renvoie la valeur interpolée au temps donné (en secondes). Le paramètre ``track_idx`` doit être l'index d'une piste de valeur.

Le paramètre ``backward`` affecte principalement la direction de la récupération de clé de la piste avec :ref:`UPDATE_DISCRETE<class_Animation_constant_UPDATE_DISCRETE>` converti par :ref:`AnimationMixer.ANIMATION_CALLBACK_MODE_DISCRETE_FORCE_CONTINUOUS<class_AnimationMixer_constant_ANIMATION_CALLBACK_MODE_DISCRETE_FORCE_CONTINUOUS>` pour correspondre au résultat de :ref:`track_find_key()<class_Animation_method_track_find_key>`.

.. rst-class:: classref-item-separator

----

.. _class_Animation_method_value_track_set_update_mode:

.. rst-class:: classref-method

|void| **value_track_set_update_mode**\ (\ track_idx\: :ref:`int<class_int>`, mode\: :ref:`UpdateMode<enum_Animation_UpdateMode>`\ ) :ref:`🔗<class_Animation_method_value_track_set_update_mode>`

Définit le mode de mise à jour d'une piste de valeur.

.. |virtual| replace:: :abbr:`virtual (Cette méthode doit typiquement être redéfinie par l'utilisateur pour avoir un effet.)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (Cette méthode n'a pas d'effets de bord. Elle ne modifie aucune des variables membres de l'instance.)`
.. |vararg| replace:: :abbr:`vararg (Cette méthode accepte n'importe quel nombre d'arguments après ceux décris ici.)`
.. |constructor| replace:: :abbr:`constructor (Cette méthode est utilisée pour construire un type.)`
.. |static| replace:: :abbr:`static (Cette méthode n'a pas besoin d'instance pour être appelée, elle peut donc être directement appelée en utilisant le nom de la classe.)`
.. |operator| replace:: :abbr:`operator (Cette méthode décrit un opérateur valide à utiliser avec ce type en tant qu'opérande gauche.)`
.. |bitfield| replace:: :abbr:`BitField (Cette valeur est un nombre entier composé d'un masque de bits des options suivantes.)`
.. |void| replace:: :abbr:`void (Aucune valeur de retour.)`
