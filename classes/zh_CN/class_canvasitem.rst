:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/CanvasItem.xml.

.. _class_CanvasItem:

CanvasItem
==========

**继承：** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

**派生：** :ref:`Control<class_Control>`, :ref:`Node2D<class_Node2D>`

2D 空间中所有对象的抽象基类。

.. rst-class:: classref-introduction-group

描述
----

2D 空间中所有对象的抽象基类。画布项目以树状排列；子节点继承并扩展其父节点的变换。\ **CanvasItem** 由 :ref:`Control<class_Control>` 扩展为 GUI 相关的节点，由 :ref:`Node2D<class_Node2D>` 扩展为 2D 游戏对象。

任何 **CanvasItem** 都可以进行绘图。绘图时，引擎会调用 :ref:`queue_redraw()<class_CanvasItem_method_queue_redraw>`\ ，然后 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 就会在空闲时被接收到以请求重绘。因此，画布项目不需要每一帧都重绘，这显著提升了性能。这个类还提供了几个用于在 **CanvasItem** 上绘图的函数（见 ``draw_*`` 函数）。不过这些函数都只能在 :ref:`_draw()<class_CanvasItem_private_method__draw>` 及其对应的 :ref:`Object._notification()<class_Object_private_method__notification>` 或连接到 :ref:`draw<class_CanvasItem_signal_draw>` 的方法内使用。

画布项目在其画布层上是按树状顺序绘制的。默认情况下，子项目位于其父项目的上方，因此根 **CanvasItem** 将被画在所有项目的后面。这种行为可以针对每个画布项目进行更改。

\ **CanvasItem** 可以隐藏，隐藏时也会隐藏其子项目。通过调整 **CanvasItem** 的各种其它属性，你还可以调制它的颜色（通过 :ref:`modulate<class_CanvasItem_property_modulate>` 或 :ref:`self_modulate<class_CanvasItem_property_self_modulate>`\ ）、更改 Z 索引、混合模式等。

请注意，变换、调制、可见性等属性只会传播至\ *直属*\ 的 **CanvasItem** 子节点。如果中间有 :ref:`Node<class_Node>`\ 、\ :ref:`AnimationPlayer<class_AnimationPlayer>` 等非 **CanvasItem** 节点，那么更深层 **CanvasItem** 的位置和 :ref:`modulate<class_CanvasItem_property_modulate>` 链就是独立的了。另见 :ref:`top_level<class_CanvasItem_property_top_level>`\ 。

.. rst-class:: classref-introduction-group

教程
----

- :doc:`Viewport 和画布变换 <../tutorials/2d/2d_transforms>`

- :doc:`2D 中的自定义绘图 <../tutorials/2d/custom_drawing_in_2d>`

- `音频频谱可视化演示 <https://godotengine.org/asset-library/asset/2762>`__

.. rst-class:: classref-reftable-group

属性
----

.. table::
   :widths: auto

   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` | :ref:`clip_children<class_CanvasItem_property_clip_children>`             | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                     | :ref:`light_mask<class_CanvasItem_property_light_mask>`                   | ``1``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`Material<class_Material>`                           | :ref:`material<class_CanvasItem_property_material>`                       |                       |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`Color<class_Color>`                                 | :ref:`modulate<class_CanvasItem_property_modulate>`                       | ``Color(1, 1, 1, 1)`` |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`Color<class_Color>`                                 | :ref:`self_modulate<class_CanvasItem_property_self_modulate>`             | ``Color(1, 1, 1, 1)`` |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`show_behind_parent<class_CanvasItem_property_show_behind_parent>`   | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`TextureFilter<enum_CanvasItem_TextureFilter>`       | :ref:`texture_filter<class_CanvasItem_property_texture_filter>`           | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>`       | :ref:`texture_repeat<class_CanvasItem_property_texture_repeat>`           | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`top_level<class_CanvasItem_property_top_level>`                     | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`use_parent_material<class_CanvasItem_property_use_parent_material>` | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                     | :ref:`visibility_layer<class_CanvasItem_property_visibility_layer>`       | ``1``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`visible<class_CanvasItem_property_visible>`                         | ``true``              |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`y_sort_enabled<class_CanvasItem_property_y_sort_enabled>`           | ``false``             |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`bool<class_bool>`                                   | :ref:`z_as_relative<class_CanvasItem_property_z_as_relative>`             | ``true``              |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+
   | :ref:`int<class_int>`                                     | :ref:`z_index<class_CanvasItem_property_z_index>`                         | ``0``                 |
   +-----------------------------------------------------------+---------------------------------------------------------------------------+-----------------------+

.. rst-class:: classref-reftable-group

方法
----

.. table::
   :widths: auto

   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`_draw<class_CanvasItem_private_method__draw>`\ (\ ) |virtual|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_animation_slice<class_CanvasItem_method_draw_animation_slice>`\ (\ animation_length\: :ref:`float<class_float>`, slice_begin\: :ref:`float<class_float>`, slice_end\: :ref:`float<class_float>`, offset\: :ref:`float<class_float>` = 0.0\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_arc<class_CanvasItem_method_draw_arc>`\ (\ center\: :ref:`Vector2<class_Vector2>`, radius\: :ref:`float<class_float>`, start_angle\: :ref:`float<class_float>`, end_angle\: :ref:`float<class_float>`, point_count\: :ref:`int<class_int>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_char<class_CanvasItem_method_draw_char>`\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, char\: :ref:`String<class_String>`, font_size\: :ref:`int<class_int>` = 16, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), oversampling\: :ref:`float<class_float>` = 0.0\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_char_outline<class_CanvasItem_method_draw_char_outline>`\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, char\: :ref:`String<class_String>`, font_size\: :ref:`int<class_int>` = 16, size\: :ref:`int<class_int>` = -1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), oversampling\: :ref:`float<class_float>` = 0.0\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_circle<class_CanvasItem_method_draw_circle>`\ (\ position\: :ref:`Vector2<class_Vector2>`, radius\: :ref:`float<class_float>`, color\: :ref:`Color<class_Color>`, filled\: :ref:`bool<class_bool>` = true, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_colored_polygon<class_CanvasItem_method_draw_colored_polygon>`\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, color\: :ref:`Color<class_Color>`, uvs\: :ref:`PackedVector2Array<class_PackedVector2Array>` = PackedVector2Array(), texture\: :ref:`Texture2D<class_Texture2D>` = null\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_dashed_line<class_CanvasItem_method_draw_dashed_line>`\ (\ from\: :ref:`Vector2<class_Vector2>`, to\: :ref:`Vector2<class_Vector2>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, dash\: :ref:`float<class_float>` = 2.0, aligned\: :ref:`bool<class_bool>` = true, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_end_animation<class_CanvasItem_method_draw_end_animation>`\ (\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_lcd_texture_rect_region<class_CanvasItem_method_draw_lcd_texture_rect_region>`\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, src_rect\: :ref:`Rect2<class_Rect2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1)\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_line<class_CanvasItem_method_draw_line>`\ (\ from\: :ref:`Vector2<class_Vector2>`, to\: :ref:`Vector2<class_Vector2>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_mesh<class_CanvasItem_method_draw_mesh>`\ (\ mesh\: :ref:`Mesh<class_Mesh>`, texture\: :ref:`Texture2D<class_Texture2D>`, transform\: :ref:`Transform2D<class_Transform2D>` = Transform2D(1, 0, 0, 1, 0, 0), modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1)\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_msdf_texture_rect_region<class_CanvasItem_method_draw_msdf_texture_rect_region>`\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, src_rect\: :ref:`Rect2<class_Rect2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), outline\: :ref:`float<class_float>` = 0.0, pixel_range\: :ref:`float<class_float>` = 4.0, scale\: :ref:`float<class_float>` = 1.0\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_multiline<class_CanvasItem_method_draw_multiline>`\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_multiline_colors<class_CanvasItem_method_draw_multiline_colors>`\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_multiline_string<class_CanvasItem_method_draw_multiline_string>`\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, max_lines\: :ref:`int<class_int>` = -1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), brk_flags\: |bitfield|\[:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\] = 3, justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const|                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_multiline_string_outline<class_CanvasItem_method_draw_multiline_string_outline>`\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, max_lines\: :ref:`int<class_int>` = -1, size\: :ref:`int<class_int>` = 1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), brk_flags\: |bitfield|\[:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\] = 3, justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const| |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_multimesh<class_CanvasItem_method_draw_multimesh>`\ (\ multimesh\: :ref:`MultiMesh<class_MultiMesh>`, texture\: :ref:`Texture2D<class_Texture2D>`\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_polygon<class_CanvasItem_method_draw_polygon>`\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, uvs\: :ref:`PackedVector2Array<class_PackedVector2Array>` = PackedVector2Array(), texture\: :ref:`Texture2D<class_Texture2D>` = null\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_polyline<class_CanvasItem_method_draw_polyline>`\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_polyline_colors<class_CanvasItem_method_draw_polyline_colors>`\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_primitive<class_CanvasItem_method_draw_primitive>`\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, uvs\: :ref:`PackedVector2Array<class_PackedVector2Array>`, texture\: :ref:`Texture2D<class_Texture2D>` = null\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_rect<class_CanvasItem_method_draw_rect>`\ (\ rect\: :ref:`Rect2<class_Rect2>`, color\: :ref:`Color<class_Color>`, filled\: :ref:`bool<class_bool>` = true, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_set_transform<class_CanvasItem_method_draw_set_transform>`\ (\ position\: :ref:`Vector2<class_Vector2>`, rotation\: :ref:`float<class_float>` = 0.0, scale\: :ref:`Vector2<class_Vector2>` = Vector2(1, 1)\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_set_transform_matrix<class_CanvasItem_method_draw_set_transform_matrix>`\ (\ xform\: :ref:`Transform2D<class_Transform2D>`\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_string<class_CanvasItem_method_draw_string>`\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const|                                                                                                                                                                                                  |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_string_outline<class_CanvasItem_method_draw_string_outline>`\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, size\: :ref:`int<class_int>` = 1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const|                                                                                                                                                |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_style_box<class_CanvasItem_method_draw_style_box>`\ (\ style_box\: :ref:`StyleBox<class_StyleBox>`, rect\: :ref:`Rect2<class_Rect2>`\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_texture<class_CanvasItem_method_draw_texture>`\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, position\: :ref:`Vector2<class_Vector2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1)\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_texture_rect<class_CanvasItem_method_draw_texture_rect>`\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, tile\: :ref:`bool<class_bool>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), transpose\: :ref:`bool<class_bool>` = false\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`draw_texture_rect_region<class_CanvasItem_method_draw_texture_rect_region>`\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, src_rect\: :ref:`Rect2<class_Rect2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), transpose\: :ref:`bool<class_bool>` = false, clip_uv\: :ref:`bool<class_bool>` = true\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`force_update_transform<class_CanvasItem_method_force_update_transform>`\ (\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`RID<class_RID>`                 | :ref:`get_canvas<class_CanvasItem_method_get_canvas>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`RID<class_RID>`                 | :ref:`get_canvas_item<class_CanvasItem_method_get_canvas_item>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`CanvasLayer<class_CanvasLayer>` | :ref:`get_canvas_layer_node<class_CanvasItem_method_get_canvas_layer_node>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_canvas_transform<class_CanvasItem_method_get_canvas_transform>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`         | :ref:`get_global_mouse_position<class_CanvasItem_method_get_global_mouse_position>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_global_transform<class_CanvasItem_method_get_global_transform>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_global_transform_with_canvas<class_CanvasItem_method_get_global_transform_with_canvas>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Variant<class_Variant>`         | :ref:`get_instance_shader_parameter<class_CanvasItem_method_get_instance_shader_parameter>`\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`         | :ref:`get_local_mouse_position<class_CanvasItem_method_get_local_mouse_position>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_screen_transform<class_CanvasItem_method_get_screen_transform>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_transform<class_CanvasItem_method_get_transform>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Rect2<class_Rect2>`             | :ref:`get_viewport_rect<class_CanvasItem_method_get_viewport_rect>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Transform2D<class_Transform2D>` | :ref:`get_viewport_transform<class_CanvasItem_method_get_viewport_transform>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`get_visibility_layer_bit<class_CanvasItem_method_get_visibility_layer_bit>`\ (\ layer\: :ref:`int<class_int>`\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`World2D<class_World2D>`         | :ref:`get_world_2d<class_CanvasItem_method_get_world_2d>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`hide<class_CanvasItem_method_hide>`\ (\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`is_local_transform_notification_enabled<class_CanvasItem_method_is_local_transform_notification_enabled>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`is_transform_notification_enabled<class_CanvasItem_method_is_transform_notification_enabled>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`               | :ref:`is_visible_in_tree<class_CanvasItem_method_is_visible_in_tree>`\ (\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector2<class_Vector2>`         | :ref:`make_canvas_position_local<class_CanvasItem_method_make_canvas_position_local>`\ (\ viewport_point\: :ref:`Vector2<class_Vector2>`\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`InputEvent<class_InputEvent>`   | :ref:`make_input_local<class_CanvasItem_method_make_input_local>`\ (\ event\: :ref:`InputEvent<class_InputEvent>`\ ) |const|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`move_to_front<class_CanvasItem_method_move_to_front>`\ (\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`queue_redraw<class_CanvasItem_method_queue_redraw>`\ (\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`set_instance_shader_parameter<class_CanvasItem_method_set_instance_shader_parameter>`\ (\ name\: :ref:`StringName<class_StringName>`, value\: :ref:`Variant<class_Variant>`\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`set_notify_local_transform<class_CanvasItem_method_set_notify_local_transform>`\ (\ enable\: :ref:`bool<class_bool>`\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`set_notify_transform<class_CanvasItem_method_set_notify_transform>`\ (\ enable\: :ref:`bool<class_bool>`\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`set_visibility_layer_bit<class_CanvasItem_method_set_visibility_layer_bit>`\ (\ layer\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`show<class_CanvasItem_method_show>`\ (\ )                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

信号
----

.. _class_CanvasItem_signal_draw:

.. rst-class:: classref-signal

**draw**\ (\ ) :ref:`🔗<class_CanvasItem_signal_draw>`

当该 **CanvasItem** 必须重绘时发出，发生在相关的 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 通知\ *之后*\ ，调用 :ref:`_draw()<class_CanvasItem_private_method__draw>` *之前*\ 。

\ **注意：**\ 延迟连接无法使用 ``draw_*`` 方法进行绘制。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_signal_hidden:

.. rst-class:: classref-signal

**hidden**\ (\ ) :ref:`🔗<class_CanvasItem_signal_hidden>`

当该节点隐藏时发出，即不再在树中可见（见 :ref:`is_visible_in_tree()<class_CanvasItem_method_is_visible_in_tree>`\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_signal_item_rect_changed:

.. rst-class:: classref-signal

**item_rect_changed**\ (\ ) :ref:`🔗<class_CanvasItem_signal_item_rect_changed>`

当 **CanvasItem** 的边界（位置或大小）发生变化，或者发生可能影响这些边界的操作（例如更改 :ref:`Sprite2D.texture<class_Sprite2D_property_texture>`\ ）时发出。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_signal_visibility_changed:

.. rst-class:: classref-signal

**visibility_changed**\ (\ ) :ref:`🔗<class_CanvasItem_signal_visibility_changed>`

在 **CanvasItem** 的可见性改变时发射，这种改变或是因为其自身的 :ref:`visible<class_CanvasItem_property_visible>` 属性发生了变化，或是因为其在树中的可见性发生了变化（见 :ref:`is_visible_in_tree()<class_CanvasItem_method_is_visible_in_tree>`\ ）。

该信号在相关的 :ref:`NOTIFICATION_VISIBILITY_CHANGED<class_CanvasItem_constant_NOTIFICATION_VISIBILITY_CHANGED>` 通知\ *之后*\ 发出。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

枚举
----

.. _enum_CanvasItem_TextureFilter:

.. rst-class:: classref-enumeration

enum **TextureFilter**: :ref:`🔗<enum_CanvasItem_TextureFilter>`

.. _class_CanvasItem_constant_TEXTURE_FILTER_PARENT_NODE:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_PARENT_NODE** = ``0``

该 **CanvasItem** 将从其父级继承过滤器。

.. _class_CanvasItem_constant_TEXTURE_FILTER_NEAREST:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_NEAREST** = ``1``

纹理过滤仅从最近的像素读取。这使得纹理从近距离看是像素化的，从远处看是颗粒状的（由于多级渐远纹理没有被采样）。

.. _class_CanvasItem_constant_TEXTURE_FILTER_LINEAR:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_LINEAR** = ``2``

纹理过滤在最近的 4 个像素之间进行混合。这使得纹理从近处看起来很平滑，从远处看起来却有颗粒感（由于多级渐远纹理没有被采样）。

.. _class_CanvasItem_constant_TEXTURE_FILTER_NEAREST_WITH_MIPMAPS:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_NEAREST_WITH_MIPMAPS** = ``3``

纹理过滤从最近的像素读取并在最近的 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来像素化，从远处看起来平滑。

将此用于可能以低缩放查看的非像素艺术纹理（例如，由于 :ref:`Camera2D<class_Camera2D>` 缩放或精灵缩放），因为多级渐远纹理对于平滑小于屏幕像素的像素很重要。

.. _class_CanvasItem_constant_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_LINEAR_WITH_MIPMAPS** = ``4``

纹理过滤在最近的 4 个像素和最近的 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来平滑，从远处看起来也平滑。

将此用于可能以低缩放查看的非像素艺术纹理（例如，由于 :ref:`Camera2D<class_Camera2D>` 缩放或精灵缩放），因为多级渐远纹理对于平滑小于屏幕像素的像素很重要。

.. _class_CanvasItem_constant_TEXTURE_FILTER_NEAREST_WITH_MIPMAPS_ANISOTROPIC:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_NEAREST_WITH_MIPMAPS_ANISOTROPIC** = ``5``

纹理过滤从最近的像素读取并根据表面和相机视图之间的角度在 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来像素化，从远处看起来平滑。各向异性过滤提高了几乎与相机位于一条线的表面上的纹理质量，但速度稍慢。各向异性过滤级别可以通过调整 :ref:`ProjectSettings.rendering/textures/default_filters/anisotropic_filtering_level<class_ProjectSettings_property_rendering/textures/default_filters/anisotropic_filtering_level>` 来改变。

\ **注意：**\ 该纹理过滤在 2D 项目中很少有用。\ :ref:`TEXTURE_FILTER_NEAREST_WITH_MIPMAPS<class_CanvasItem_constant_TEXTURE_FILTER_NEAREST_WITH_MIPMAPS>` 在这种情况下通常更合适。

.. _class_CanvasItem_constant_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS_ANISOTROPIC:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_LINEAR_WITH_MIPMAPS_ANISOTROPIC** = ``6``

纹理过滤在最近的 4 个像素之间进行混合，并基于表面与相机视图之间的角度在 2 个多级渐远纹理之间进行混合（或者如果 :ref:`ProjectSettings.rendering/textures/default_filters/use_nearest_mipmap_filter<class_ProjectSettings_property_rendering/textures/default_filters/use_nearest_mipmap_filter>` 为 ``true``\ ，则使用最近的多级渐远纹理）。这使得纹理从近处看起来平滑，从远处看起来也平滑。各向异性过滤提高了几乎与相机位于一条线的表面上的纹理质量，但速度稍慢。各向异性过滤级别可以通过调整 :ref:`ProjectSettings.rendering/textures/default_filters/anisotropic_filtering_level<class_ProjectSettings_property_rendering/textures/default_filters/anisotropic_filtering_level>` 来改变。

\ **注意：**\ 该纹理过滤在 2D 项目中很少有用。\ :ref:`TEXTURE_FILTER_LINEAR_WITH_MIPMAPS<class_CanvasItem_constant_TEXTURE_FILTER_LINEAR_WITH_MIPMAPS>` 在这种情况下通常更合适。

.. _class_CanvasItem_constant_TEXTURE_FILTER_MAX:

.. rst-class:: classref-enumeration-constant

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **TEXTURE_FILTER_MAX** = ``7``

代表 :ref:`TextureFilter<enum_CanvasItem_TextureFilter>` 枚举的大小。

.. rst-class:: classref-item-separator

----

.. _enum_CanvasItem_TextureRepeat:

.. rst-class:: classref-enumeration

enum **TextureRepeat**: :ref:`🔗<enum_CanvasItem_TextureRepeat>`

.. _class_CanvasItem_constant_TEXTURE_REPEAT_PARENT_NODE:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_PARENT_NODE** = ``0``

该 **CanvasItem** 将从其父级继承过滤器。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_DISABLED:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_DISABLED** = ``1``

纹理不会重复。在纹理范围之外采样会导致边缘像素“拉伸”。你可以通过确保在纹理两侧各有一个 1 像素的完全透明边框来避免这种情况。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_ENABLED:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_ENABLED** = ``2``

纹理会在超出纹理大小后重复。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_MIRROR:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_MIRROR** = ``3``

纹理会在超出纹理大小后以“2×2 平铺模式”重复。偶数位置的重复纹理会被镜像。

.. _class_CanvasItem_constant_TEXTURE_REPEAT_MAX:

.. rst-class:: classref-enumeration-constant

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **TEXTURE_REPEAT_MAX** = ``4``

代表 :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` 枚举的大小。

.. rst-class:: classref-item-separator

----

.. _enum_CanvasItem_ClipChildrenMode:

.. rst-class:: classref-enumeration

enum **ClipChildrenMode**: :ref:`🔗<enum_CanvasItem_ClipChildrenMode>`

.. _class_CanvasItem_constant_CLIP_CHILDREN_DISABLED:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_DISABLED** = ``0``

子节点绘制在该节点之上，不会被裁剪。

.. _class_CanvasItem_constant_CLIP_CHILDREN_ONLY:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_ONLY** = ``1``

该节点用作遮罩，\ **不进行**\ 绘制。遮罩基于该节点的 Alpha 通道：保留不透明像素，丢弃透明像素，半透明像素根据不透明度混合。子节点受到该节点绘制区域的裁剪。

.. _class_CanvasItem_constant_CLIP_CHILDREN_AND_DRAW:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_AND_DRAW** = ``2``

该节点用作遮罩，也会进行绘制。遮罩基于该节点的 Alpha 通道：保留不透明像素，丢弃透明像素，半透明像素根据不透明度混合。子节点受到该节点绘制区域的裁剪。

.. _class_CanvasItem_constant_CLIP_CHILDREN_MAX:

.. rst-class:: classref-enumeration-constant

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **CLIP_CHILDREN_MAX** = ``3``

代表 :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` 枚举的大小。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

常量
----

.. _class_CanvasItem_constant_NOTIFICATION_TRANSFORM_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_TRANSFORM_CHANGED** = ``2000`` :ref:`🔗<class_CanvasItem_constant_NOTIFICATION_TRANSFORM_CHANGED>`

:ref:`is_transform_notification_enabled()<class_CanvasItem_method_is_transform_notification_enabled>` 为 ``true`` 时，节点的全局变换发生改变时收到的通知。另见 :ref:`set_notify_transform()<class_CanvasItem_method_set_notify_transform>` 和 :ref:`get_transform()<class_CanvasItem_method_get_transform>`\ 。

\ **注意：**\ :ref:`Camera2D<class_Camera2D>`\ 、\ :ref:`CollisionObject2D<class_CollisionObject2D>` 等许多画布项会自动启用此功能以确保正常运行。

.. _class_CanvasItem_constant_NOTIFICATION_LOCAL_TRANSFORM_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_LOCAL_TRANSFORM_CHANGED** = ``35`` :ref:`🔗<class_CanvasItem_constant_NOTIFICATION_LOCAL_TRANSFORM_CHANGED>`

:ref:`is_local_transform_notification_enabled()<class_CanvasItem_method_is_local_transform_notification_enabled>` 为 ``true`` 时，节点的变换发生改变时收到的通知。父级 :ref:`Node2D<class_Node2D>` 的变换发生改变时不会收到该通知。另见 :ref:`set_notify_local_transform()<class_CanvasItem_method_set_notify_local_transform>`\ 。

\ **注意：**\ :ref:`Camera2D<class_Camera2D>`\ 、\ :ref:`CollisionShape2D<class_CollisionShape2D>` 等许多画布项会自动启用此功能以确保正常运行。

.. _class_CanvasItem_constant_NOTIFICATION_DRAW:

.. rst-class:: classref-constant

**NOTIFICATION_DRAW** = ``30`` :ref:`🔗<class_CanvasItem_constant_NOTIFICATION_DRAW>`

要求绘制该 **CanvasItem**\ （见 :ref:`_draw()<class_CanvasItem_private_method__draw>`\ ）。

.. _class_CanvasItem_constant_NOTIFICATION_VISIBILITY_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_VISIBILITY_CHANGED** = ``31`` :ref:`🔗<class_CanvasItem_constant_NOTIFICATION_VISIBILITY_CHANGED>`

节点的可见性发生改变时收到的通知（见 :ref:`visible<class_CanvasItem_property_visible>` 和 :ref:`is_visible_in_tree()<class_CanvasItem_method_is_visible_in_tree>`\ ）。

该通知会在相关 :ref:`visibility_changed<class_CanvasItem_signal_visibility_changed>` 信号\ *之前*\ 收到。

.. _class_CanvasItem_constant_NOTIFICATION_ENTER_CANVAS:

.. rst-class:: classref-constant

**NOTIFICATION_ENTER_CANVAS** = ``32`` :ref:`🔗<class_CanvasItem_constant_NOTIFICATION_ENTER_CANVAS>`

该 **CanvasItem** 已进入画布。

.. _class_CanvasItem_constant_NOTIFICATION_EXIT_CANVAS:

.. rst-class:: classref-constant

**NOTIFICATION_EXIT_CANVAS** = ``33`` :ref:`🔗<class_CanvasItem_constant_NOTIFICATION_EXIT_CANVAS>`

该 **CanvasItem** 已退出画布。

.. _class_CanvasItem_constant_NOTIFICATION_WORLD_2D_CHANGED:

.. rst-class:: classref-constant

**NOTIFICATION_WORLD_2D_CHANGED** = ``36`` :ref:`🔗<class_CanvasItem_constant_NOTIFICATION_WORLD_2D_CHANGED>`

该 **CanvasItem** 注册至新的 :ref:`World2D<class_World2D>` 时收到的通知（见 :ref:`get_world_2d()<class_CanvasItem_method_get_world_2d>`\ ）。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

属性说明
--------

.. _class_CanvasItem_property_clip_children:

.. rst-class:: classref-property

:ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **clip_children** = ``0`` :ref:`🔗<class_CanvasItem_property_clip_children>`

.. rst-class:: classref-property-setget

- |void| **set_clip_children_mode**\ (\ value\: :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>`\ )
- :ref:`ClipChildrenMode<enum_CanvasItem_ClipChildrenMode>` **get_clip_children_mode**\ (\ )

该节点作为遮罩对子节点进行裁剪的模式。

\ **注意：**\ 裁剪的节点无法嵌套，也不能位于 :ref:`CanvasGroup<class_CanvasGroup>` 中。如果该节点的祖先节点裁剪了它的子级，或者祖先节点是 :ref:`CanvasGroup<class_CanvasGroup>`\ ，那么这个节点的裁剪模式应当设为 :ref:`CLIP_CHILDREN_DISABLED<class_CanvasItem_constant_CLIP_CHILDREN_DISABLED>`\ ，从而避免意外行为。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_light_mask:

.. rst-class:: classref-property

:ref:`int<class_int>` **light_mask** = ``1`` :ref:`🔗<class_CanvasItem_property_light_mask>`

.. rst-class:: classref-property-setget

- |void| **set_light_mask**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_light_mask**\ (\ )

该 **CanvasItem** 的渲染层，用于响应 :ref:`Light2D<class_Light2D>` 节点。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_material:

.. rst-class:: classref-property

:ref:`Material<class_Material>` **material** :ref:`🔗<class_CanvasItem_property_material>`

.. rst-class:: classref-property-setget

- |void| **set_material**\ (\ value\: :ref:`Material<class_Material>`\ )
- :ref:`Material<class_Material>` **get_material**\ (\ )

应用于这个 **CanvasItem** 的材质。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_modulate:

.. rst-class:: classref-property

:ref:`Color<class_Color>` **modulate** = ``Color(1, 1, 1, 1)`` :ref:`🔗<class_CanvasItem_property_modulate>`

.. rst-class:: classref-property-setget

- |void| **set_modulate**\ (\ value\: :ref:`Color<class_Color>`\ )
- :ref:`Color<class_Color>` **get_modulate**\ (\ )

应用于这个 **CanvasItem** 的颜色。这个属性会影响子级 **CanvasItem**\ ，与只会影响节点自身的 :ref:`self_modulate<class_CanvasItem_property_self_modulate>` 不同。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_self_modulate:

.. rst-class:: classref-property

:ref:`Color<class_Color>` **self_modulate** = ``Color(1, 1, 1, 1)`` :ref:`🔗<class_CanvasItem_property_self_modulate>`

.. rst-class:: classref-property-setget

- |void| **set_self_modulate**\ (\ value\: :ref:`Color<class_Color>`\ )
- :ref:`Color<class_Color>` **get_self_modulate**\ (\ )

应用于这个 **CanvasItem** 的颜色。这个属性\ **不会**\ 影响子级 **CanvasItem**\ ，与会同时影响节点自身和子级的 :ref:`modulate<class_CanvasItem_property_modulate>` 不同。

\ **注意：**\ 内部子节点也不受这个属性的影响（见 :ref:`Node.add_child()<class_Node_method_add_child>` 方法的 ``include_internal`` 参数）。内置节点的内部子节点包括 :ref:`ColorPicker<class_ColorPicker>` 中的滑块、\ :ref:`TabContainer<class_TabContainer>` 中的选项卡栏等。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_show_behind_parent:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **show_behind_parent** = ``false`` :ref:`🔗<class_CanvasItem_property_show_behind_parent>`

.. rst-class:: classref-property-setget

- |void| **set_draw_behind_parent**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_draw_behind_parent_enabled**\ (\ )

如果为 ``true``\ ，则该节点绘制在其父节点后面。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_texture_filter:

.. rst-class:: classref-property

:ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **texture_filter** = ``0`` :ref:`🔗<class_CanvasItem_property_texture_filter>`

.. rst-class:: classref-property-setget

- |void| **set_texture_filter**\ (\ value\: :ref:`TextureFilter<enum_CanvasItem_TextureFilter>`\ )
- :ref:`TextureFilter<enum_CanvasItem_TextureFilter>` **get_texture_filter**\ (\ )

渲染该 **CanvasItem** 的纹理时使用的过滤模式。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_texture_repeat:

.. rst-class:: classref-property

:ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **texture_repeat** = ``0`` :ref:`🔗<class_CanvasItem_property_texture_repeat>`

.. rst-class:: classref-property-setget

- |void| **set_texture_repeat**\ (\ value\: :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>`\ )
- :ref:`TextureRepeat<enum_CanvasItem_TextureRepeat>` **get_texture_repeat**\ (\ )

用于渲染该 **CanvasItem** 纹理的重复模式。它会影响在纹理范围之外采样时发生的情况，例如，设置比纹理大的 :ref:`Sprite2D.region_rect<class_Sprite2D_property_region_rect>` 或在纹理外部分配 :ref:`Polygon2D<class_Polygon2D>` UV 点。

\ **注意：**\ :ref:`TextureRect<class_TextureRect>` 不受 :ref:`texture_repeat<class_CanvasItem_property_texture_repeat>` 的影响，因为它使用自己的纹理重复实现。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_top_level:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **top_level** = ``false`` :ref:`🔗<class_CanvasItem_property_top_level>`

.. rst-class:: classref-property-setget

- |void| **set_as_top_level**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_set_as_top_level**\ (\ )

如果为 ``true``\ ，则该 **CanvasItem** *不会*\ 继承父级 **CanvasItem** 的变换。它的绘制顺序也会发生改变，会在其他没有将 :ref:`top_level<class_CanvasItem_property_top_level>` 设置为 ``true`` 的 **CanvasItem** 之上绘制。效果和把该 **CanvasItem** 作为裸 :ref:`Node<class_Node>` 的子级一样。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_use_parent_material:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **use_parent_material** = ``false`` :ref:`🔗<class_CanvasItem_property_use_parent_material>`

.. rst-class:: classref-property-setget

- |void| **set_use_parent_material**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **get_use_parent_material**\ (\ )

如果为 ``true``\ ，则将父级 **CanvasItem** 的 :ref:`material<class_CanvasItem_property_material>` 属性用作该节点的材质。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_visibility_layer:

.. rst-class:: classref-property

:ref:`int<class_int>` **visibility_layer** = ``1`` :ref:`🔗<class_CanvasItem_property_visibility_layer>`

.. rst-class:: classref-property-setget

- |void| **set_visibility_layer**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_visibility_layer**\ (\ )

:ref:`Viewport<class_Viewport>` 节点渲染该 **CanvasItem** 时所使用的渲染层。只有 **CanvasItem** 及其所有父级均与 :ref:`Viewport<class_Viewport>` 的画布剔除遮罩有交集，该 :ref:`Viewport<class_Viewport>` 才会渲染此 **CanvasItem**\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_visible:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **visible** = ``true`` :ref:`🔗<class_CanvasItem_property_visible>`

.. rst-class:: classref-property-setget

- |void| **set_visible**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_visible**\ (\ )

如果为 ``true``\ ，则允许绘制该 **CanvasItem**\ 。实际是否对该 **CanvasItem** 进行绘制取决于该节点的所有 **CanvasItem** 祖级节点的可见性。换句话说：该 **CanvasItem** 只有在 :ref:`is_visible_in_tree()<class_CanvasItem_method_is_visible_in_tree>` 返回 ``true``\ ，并且所有 **CanvasItem** 祖级节点都至少与这个 **CanvasItem** 共享一个 :ref:`visibility_layer<class_CanvasItem_property_visibility_layer>`\ 。

\ **注意：**\ 对于继承了 :ref:`Popup<class_Popup>` 的控件，使其可见的正确方法是调用多个 ``popup*()`` 函数之一。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_y_sort_enabled:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **y_sort_enabled** = ``false`` :ref:`🔗<class_CanvasItem_property_y_sort_enabled>`

.. rst-class:: classref-property-setget

- |void| **set_y_sort_enabled**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_y_sort_enabled**\ (\ )

如果为 ``true``\ ，则该节点及其子 **CanvasItem** 节点中 Y 位置较高的节点会渲染在 Y 位置较低的节点的前面。如果为 ``false``\ ，则该节点及其子 **CanvasItem** 节点会按照场景树的顺序正常渲染。

如果父节点（“A”）启用了 Y 排序，而子节点（“B”）没有启用，那么子节点（“B”）会进行排序，但它自己的子节点（“C1”“C2”等）会渲染在与子节点（“B”）相同的 Y 位置。这样你就可以在不修改场景树的前提下组织场景的渲染顺序了。

只有 :ref:`z_index<class_CanvasItem_property_z_index>` 相同的节点才会互相进行排序。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_z_as_relative:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **z_as_relative** = ``true`` :ref:`🔗<class_CanvasItem_property_z_as_relative>`

.. rst-class:: classref-property-setget

- |void| **set_z_as_relative**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_z_relative**\ (\ )

如果为 ``true``\ ，则该节点的最终 Z 索引是相对于父节点的 Z 索引而言的。

例如 :ref:`z_index<class_CanvasItem_property_z_index>` 为 ``2``\ 、父节点的最终 Z 索引为 ``3``\ ，那么该节点的最终 Z 索引就是 ``5``\ （\ ``2 + 3``\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_property_z_index:

.. rst-class:: classref-property

:ref:`int<class_int>` **z_index** = ``0`` :ref:`🔗<class_CanvasItem_property_z_index>`

.. rst-class:: classref-property-setget

- |void| **set_z_index**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_z_index**\ (\ )

节点的绘制顺序。Z 索引较高的节点会显示在其他节点的前面。必须在 :ref:`RenderingServer.CANVAS_ITEM_Z_MIN<class_RenderingServer_constant_CANVAS_ITEM_Z_MIN>` 和 :ref:`RenderingServer.CANVAS_ITEM_Z_MAX<class_RenderingServer_constant_CANVAS_ITEM_Z_MAX>` 之间（含两端）。

\ **注意：**\ Z 索引\ **不会**\ 影响 **CanvasItem** 节点的处理顺序和输入事件的处理顺序。\ :ref:`Control<class_Control>` 节点尤其需要注意这一点。

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

方法说明
--------

.. _class_CanvasItem_private_method__draw:

.. rst-class:: classref-method

|void| **_draw**\ (\ ) |virtual| :ref:`🔗<class_CanvasItem_private_method__draw>`

当 **CanvasItem** 被请求重绘时调用（手动调用或者引擎调用 :ref:`queue_redraw()<class_CanvasItem_method_queue_redraw>` 之后）。

对应于 :ref:`Object._notification()<class_Object_private_method__notification>` 中的 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 通知。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_animation_slice:

.. rst-class:: classref-method

|void| **draw_animation_slice**\ (\ animation_length\: :ref:`float<class_float>`, slice_begin\: :ref:`float<class_float>`, slice_end\: :ref:`float<class_float>`, offset\: :ref:`float<class_float>` = 0.0\ ) :ref:`🔗<class_CanvasItem_method_draw_animation_slice>`

后续的绘制命令将被忽略，除非它们位于指定的动画切片内。这是实现在背景上循环而不是不断重绘的动画的更快方法。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_arc:

.. rst-class:: classref-method

|void| **draw_arc**\ (\ center\: :ref:`Vector2<class_Vector2>`, radius\: :ref:`float<class_float>`, start_angle\: :ref:`float<class_float>`, end_angle\: :ref:`float<class_float>`, point_count\: :ref:`int<class_int>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_arc>`

使用一个 uniform ``color`` 和 ``width`` 以及可选的抗锯齿（仅支持正 ``width`` ），在给定的角度之间绘制一条未填充的弧线。\ ``point_count`` 的值越大，该曲线越平滑。另见 :ref:`draw_circle()<class_CanvasItem_method_draw_circle>`\ 。

如果 ``width`` 为负，则它将被忽略，并使用 :ref:`RenderingServer.PRIMITIVE_LINE_STRIP<class_RenderingServer_constant_PRIMITIVE_LINE_STRIP>` 绘制该弧线。这意味着当缩放 CanvasItem 时，弧线将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

如果 ``start_angle < end_angle`` ，则圆弧是从 ``start_angle`` 朝向 ``end_angle`` 的值绘制的，即是顺时针方向；否则为逆时针方向。以相反的顺序传递相同的角度，将产生相同的弧线。如果 ``start_angle`` 和 ``end_angle`` 的差的绝对值大于 :ref:`@GDScript.TAU<class_@GDScript_constant_TAU>` 弧度，则绘制一个完整的圆弧（即弧线不会与自身重叠）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_char:

.. rst-class:: classref-method

|void| **draw_char**\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, char\: :ref:`String<class_String>`, font_size\: :ref:`int<class_int>` = 16, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), oversampling\: :ref:`float<class_float>` = 0.0\ ) |const| :ref:`🔗<class_CanvasItem_method_draw_char>`

使用自定义字体绘制字符串中的第一个字符。如果 ``oversampling`` 大于零则会用作字体过采样系数，否则使用视口的过采样设置。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_char_outline:

.. rst-class:: classref-method

|void| **draw_char_outline**\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, char\: :ref:`String<class_String>`, font_size\: :ref:`int<class_int>` = 16, size\: :ref:`int<class_int>` = -1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), oversampling\: :ref:`float<class_float>` = 0.0\ ) |const| :ref:`🔗<class_CanvasItem_method_draw_char_outline>`

使用自定义字体绘制字符串中第一个字符的轮廓。如果 ``oversampling`` 大于零则会用作字体过采样系数，否则使用视口的过采样设置。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_circle:

.. rst-class:: classref-method

|void| **draw_circle**\ (\ position\: :ref:`Vector2<class_Vector2>`, radius\: :ref:`float<class_float>`, color\: :ref:`Color<class_Color>`, filled\: :ref:`bool<class_bool>` = true, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_circle>`

绘制圆形。另见 :ref:`draw_arc()<class_CanvasItem_method_draw_arc>`\ 、\ :ref:`draw_polyline()<class_CanvasItem_method_draw_polyline>`\ 、\ :ref:`draw_polygon()<class_CanvasItem_method_draw_polygon>`\ 。

如果 ``filled`` 为 ``true``\ ，则圆形将使用指定的 ``color`` 填充。如果 ``filled`` 为 ``false``\ ，则圆形将被绘制为具有指定的 ``color`` 和 ``width`` 的笔划。

如果 ``width`` 为负，则将绘制两点图元而不是四点图元。这意味着当缩放 CanvasItem 时，线条将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

如果 ``antialiased`` 为 ``true``\ ，则半透明的“羽毛”将附加到边界，使轮廓变得平滑。

\ **注意：**\ ``width`` 只有在 ``filled`` 为 ``false`` 时才有效。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_colored_polygon:

.. rst-class:: classref-method

|void| **draw_colored_polygon**\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, color\: :ref:`Color<class_Color>`, uvs\: :ref:`PackedVector2Array<class_PackedVector2Array>` = PackedVector2Array(), texture\: :ref:`Texture2D<class_Texture2D>` = null\ ) :ref:`🔗<class_CanvasItem_method_draw_colored_polygon>`

绘制一个由任意数量的点构成的实心多边形，凹凸均可。与 :ref:`draw_polygon()<class_CanvasItem_method_draw_polygon>` 不同，必须为整个多边形制定单一颜色。

\ **注意：**\ 如果你需要频繁重绘同样的多边形，包含大量顶点，请考虑预先使用 :ref:`Geometry2D.triangulate_polygon()<class_Geometry2D_method_triangulate_polygon>` 进行三角剖分计算，并使用 :ref:`draw_mesh()<class_CanvasItem_method_draw_mesh>`\ 、\ :ref:`draw_multimesh()<class_CanvasItem_method_draw_multimesh>` 或 :ref:`RenderingServer.canvas_item_add_triangle_array()<class_RenderingServer_method_canvas_item_add_triangle_array>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_dashed_line:

.. rst-class:: classref-method

|void| **draw_dashed_line**\ (\ from\: :ref:`Vector2<class_Vector2>`, to\: :ref:`Vector2<class_Vector2>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, dash\: :ref:`float<class_float>` = 2.0, aligned\: :ref:`bool<class_bool>` = true, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_dashed_line>`

使用给定的颜色和宽度，从一个 2D 点到另一个点绘制一条虚线。另见 :ref:`draw_line()<class_CanvasItem_method_draw_line>`\ 、\ :ref:`draw_multiline()<class_CanvasItem_method_draw_multiline>` 和 :ref:`draw_polyline()<class_CanvasItem_method_draw_polyline>`\ 。

如果 ``width`` 为负，则将绘制一个两点图元而不是一个四点图元。这意味着当缩放 CanvasItem 时，线条部分将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

\ ``dash`` 是每一段的长度，单位为像素，段与段之间的留空使用相同的长度。如果 ``aligned`` 为 ``true``\ ，则可能会缩短第一段和最后一段的长度，使得虚线的两端精确地落在 ``from`` 和 ``to`` 所定义的位置。\ ``aligned`` 为 ``true`` 时虚线两端始终是对称的。如果 ``aligned`` 为 ``false``\ ，则每一段的长度都相同，但是虚线长度无法被段长度整除时，末尾可能看上去不完整。\ ``aligned`` 为 ``false`` 时只会绘制完整的段。

如果 ``antialiased`` 为 ``true``\ ，则半透明的“羽毛”将附加到边界，使轮廓变得平滑。

\ **注意：**\ 仅当 ``width`` 大于 ``0.0`` 时，\ ``antialiased`` 才有效。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_end_animation:

.. rst-class:: classref-method

|void| **draw_end_animation**\ (\ ) :ref:`🔗<class_CanvasItem_method_draw_end_animation>`

通过 :ref:`draw_animation_slice()<class_CanvasItem_method_draw_animation_slice>` 提交所有动画切片后，该函数可以被用来将绘制恢复到其默认状态（所有后续绘制命令都将可见）。如果不关心这个特定用例，则不需要在提交切片后使用该函数。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_lcd_texture_rect_region:

.. rst-class:: classref-method

|void| **draw_lcd_texture_rect_region**\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, src_rect\: :ref:`Rect2<class_Rect2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1)\ ) :ref:`🔗<class_CanvasItem_method_draw_lcd_texture_rect_region>`

在给定的位置绘制一个带有 LCD 子像素抗锯齿的字体纹理的矩形区域，可以选择用一种颜色来调制。

纹理是通过以下混合操作绘制的，\ :ref:`CanvasItemMaterial<class_CanvasItemMaterial>` 的混合模式被忽略：

::

    dst.r = texture.r * modulate.r * modulate.a + dst.r * (1.0 - texture.r * modulate.a);
    dst.g = texture.g * modulate.g * modulate.a + dst.g * (1.0 - texture.g * modulate.a);
    dst.b = texture.b * modulate.b * modulate.a + dst.b * (1.0 - texture.b * modulate.a);
    dst.a = modulate.a + dst.a * (1.0 - modulate.a);

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_line:

.. rst-class:: classref-method

|void| **draw_line**\ (\ from\: :ref:`Vector2<class_Vector2>`, to\: :ref:`Vector2<class_Vector2>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_line>`

使用给定的颜色和宽度，从一个 2D 点到另一个点绘制一条直线。它可以选择抗锯齿。另见 :ref:`draw_dashed_line()<class_CanvasItem_method_draw_dashed_line>`\ 、\ :ref:`draw_multiline()<class_CanvasItem_method_draw_multiline>` 和 :ref:`draw_polyline()<class_CanvasItem_method_draw_polyline>`\ 。

如果 ``width`` 为负，则将绘制一个两点图元而不是一个四点图元。这意味着当缩放 CanvasItem 时，线条将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_mesh:

.. rst-class:: classref-method

|void| **draw_mesh**\ (\ mesh\: :ref:`Mesh<class_Mesh>`, texture\: :ref:`Texture2D<class_Texture2D>`, transform\: :ref:`Transform2D<class_Transform2D>` = Transform2D(1, 0, 0, 1, 0, 0), modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1)\ ) :ref:`🔗<class_CanvasItem_method_draw_mesh>`

使用所提供的纹理以 2D 方式绘制一个 :ref:`Mesh<class_Mesh>`\ 。相关文档请参阅 :ref:`MeshInstance2D<class_MeshInstance2D>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_msdf_texture_rect_region:

.. rst-class:: classref-method

|void| **draw_msdf_texture_rect_region**\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, src_rect\: :ref:`Rect2<class_Rect2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), outline\: :ref:`float<class_float>` = 0.0, pixel_range\: :ref:`float<class_float>` = 4.0, scale\: :ref:`float<class_float>` = 1.0\ ) :ref:`🔗<class_CanvasItem_method_draw_msdf_texture_rect_region>`

在给定位置，绘制一条多通道有符号距离场纹理的纹理矩形区域，可以选择用一种颜色来调制。有关 MSDF 字体渲染的更多信息和注意事项，请参阅 :ref:`FontFile.multichannel_signed_distance_field<class_FontFile_property_multichannel_signed_distance_field>`\ 。

如果 ``outline`` 为正，则区域中像素的每个 Alpha 通道值都被设置为 ``outline`` 半径内真实距离的最大值。

\ ``pixel_range`` 的值应该与距离场纹理生成期间使用的值相同。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline:

.. rst-class:: classref-method

|void| **draw_multiline**\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_multiline>`

使用一致的宽度 ``width`` 和颜色 ``color`` 绘制多条断开的线段。\ ``points`` 数组中相邻的两个点定义一条线段，即第 i 条线段由端点 ``points[2 * i]`` 和 ``points[2 * i + 1]`` 组成。绘制大量线段时，这种方法比使用 :ref:`draw_line()<class_CanvasItem_method_draw_line>` 一条条画要快。要绘制相连的线段，请改用 :ref:`draw_polyline()<class_CanvasItem_method_draw_polyline>`\ 。

如果 ``width`` 为负数，则会绘制由两个点组成的图元，不使用四个点组成的图元。此时如果 CanvasItem 发生缩放，则线段仍然会很细。如果不想要这样的行为，请传入 ``1.0`` 等正数 ``width``\ 。

\ **注意：**\ 仅当 ``width`` 大于 ``0.0`` 时，\ ``antialiased`` 才有效。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline_colors:

.. rst-class:: classref-method

|void| **draw_multiline_colors**\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_multiline_colors>`

使用一致的宽度 ``width`` 分段颜色绘制多条断开的线段。\ ``points`` 数组中相邻的两个点定义一条线段，即第 i 条线段由端点 ``points[2 * i]`` 和 ``points[2 * i + 1]`` 组成，使用的颜色为 ``colors[i]``\ 。绘制大量线段时，这种方法比使用 :ref:`draw_line()<class_CanvasItem_method_draw_line>` 一条条画要快。要绘制相连的线段，请改用 :ref:`draw_polyline_colors()<class_CanvasItem_method_draw_polyline_colors>`\ 。

如果 ``width`` 为负数，则会绘制由两个点组成的图元，不使用四个点组成的图元。此时如果 CanvasItem 发生缩放，则线段仍然会很细。如果不想要这样的行为，请传入 ``1.0`` 等正数 ``width``\ 。

\ **注意：**\ 仅当 ``width`` 大于 ``0.0`` 时，\ ``antialiased`` 才有效。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline_string:

.. rst-class:: classref-method

|void| **draw_multiline_string**\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, max_lines\: :ref:`int<class_int>` = -1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), brk_flags\: |bitfield|\[:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\] = 3, justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const| :ref:`🔗<class_CanvasItem_method_draw_multiline_string>`

使用 ``font`` 字体分若干行绘制 ``text`` 文本，以 ``pos`` 作为左上角。文本颜色会与 ``modulate`` 相乘。如果 ``width`` 大于等于 0，则文本超出该宽度的部分会被裁剪。如果 ``oversampling`` 大于零则会用作字体过采样系数，否则使用视口的过采样设置。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multiline_string_outline:

.. rst-class:: classref-method

|void| **draw_multiline_string_outline**\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, max_lines\: :ref:`int<class_int>` = -1, size\: :ref:`int<class_int>` = 1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), brk_flags\: |bitfield|\[:ref:`LineBreakFlag<enum_TextServer_LineBreakFlag>`\] = 3, justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const| :ref:`🔗<class_CanvasItem_method_draw_multiline_string_outline>`

使用 ``font`` 字体分若干行绘制 ``text`` 文本的轮廓，以 ``pos`` 作为左上角。文本颜色会与 ``modulate`` 相乘。如果 ``width`` 大于等于 0，则文本超出该宽度的部分会被裁剪。如果 ``oversampling`` 大于零则会用作字体过采样系数，否则使用视口的过采样设置。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_multimesh:

.. rst-class:: classref-method

|void| **draw_multimesh**\ (\ multimesh\: :ref:`MultiMesh<class_MultiMesh>`, texture\: :ref:`Texture2D<class_Texture2D>`\ ) :ref:`🔗<class_CanvasItem_method_draw_multimesh>`

用所提供的纹理以 2D 方式绘制一个 :ref:`MultiMesh<class_MultiMesh>`\ 。相关文档请参考 :ref:`MultiMeshInstance2D<class_MultiMeshInstance2D>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_polygon:

.. rst-class:: classref-method

|void| **draw_polygon**\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, uvs\: :ref:`PackedVector2Array<class_PackedVector2Array>` = PackedVector2Array(), texture\: :ref:`Texture2D<class_Texture2D>` = null\ ) :ref:`🔗<class_CanvasItem_method_draw_polygon>`

绘制一个由任意数量的点构成的实心多边形，凹凸均可。与 :ref:`draw_colored_polygon()<class_CanvasItem_method_draw_colored_polygon>` 不同，每个点的颜色都可以单独修改。另见 :ref:`draw_polyline()<class_CanvasItem_method_draw_polyline>` 和 :ref:`draw_polyline_colors()<class_CanvasItem_method_draw_polyline_colors>`\ 。如果需要更高的灵活度（例如能够用到骨骼），请改用 :ref:`RenderingServer.canvas_item_add_triangle_array()<class_RenderingServer_method_canvas_item_add_triangle_array>`\ 。

\ **注意：**\ 如果你需要频繁重绘同样的多边形，包含大量顶点，请考虑预先使用 :ref:`Geometry2D.triangulate_polygon()<class_Geometry2D_method_triangulate_polygon>` 进行三角剖分计算，并使用 :ref:`draw_mesh()<class_CanvasItem_method_draw_mesh>`\ 、\ :ref:`draw_multimesh()<class_CanvasItem_method_draw_multimesh>` 或 :ref:`RenderingServer.canvas_item_add_triangle_array()<class_RenderingServer_method_canvas_item_add_triangle_array>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_polyline:

.. rst-class:: classref-method

|void| **draw_polyline**\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, color\: :ref:`Color<class_Color>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_polyline>`

使用一致的 ``color`` 和 ``width`` 以及可选的抗锯齿（仅支持正 ``width`` ），绘制相互连接的线段。绘制大量线条时，这比使用单独的 :ref:`draw_line()<class_CanvasItem_method_draw_line>` 调用更快。要绘制不相连的的线段，请改用 :ref:`draw_multiline()<class_CanvasItem_method_draw_multiline>`\ 。另见 :ref:`draw_polygon()<class_CanvasItem_method_draw_polygon>`\ 。

如果 ``width`` 为负，则它将被忽略，并使用 :ref:`RenderingServer.PRIMITIVE_LINE_STRIP<class_RenderingServer_constant_PRIMITIVE_LINE_STRIP>` 绘制该折线。这意味着当 CanvasItem 被缩放时，折线将保持为细线。如果不需要该行为，请传入一个正的 ``width``\ ，如 ``1.0``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_polyline_colors:

.. rst-class:: classref-method

|void| **draw_polyline_colors**\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_polyline_colors>`

绘制相连的线段，使用一致的宽度 ``width``\ ，按点指定颜色，还可以开启抗锯齿（仅支持正的 ``width``\ ）。将颜色与线段上的点匹配时，使用的是 ``points`` 和 ``colors`` 的索引，即每条线段填充的都是在两个端点之间颜色的渐变色。绘制大量线段时，这种方法比使用 :ref:`draw_line()<class_CanvasItem_method_draw_line>` 一条条画要快。要绘制不相连的线段，请改用 :ref:`draw_multiline_colors()<class_CanvasItem_method_draw_multiline_colors>`\ 。另见 :ref:`draw_polygon()<class_CanvasItem_method_draw_polygon>`\ 。

如果 ``width`` 为负，则它将被忽略，并使用 :ref:`RenderingServer.PRIMITIVE_LINE_STRIP<class_RenderingServer_constant_PRIMITIVE_LINE_STRIP>` 绘制该折线。这意味着当 CanvasItem 被缩放时，折线将保持为细线。如果不需要该行为，请传入一个正的 ``width``\ ，如 ``1.0``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_primitive:

.. rst-class:: classref-method

|void| **draw_primitive**\ (\ points\: :ref:`PackedVector2Array<class_PackedVector2Array>`, colors\: :ref:`PackedColorArray<class_PackedColorArray>`, uvs\: :ref:`PackedVector2Array<class_PackedVector2Array>`, texture\: :ref:`Texture2D<class_Texture2D>` = null\ ) :ref:`🔗<class_CanvasItem_method_draw_primitive>`

绘制自定义图元。1 个点的是个点，2 个点的是线段，3 个点的是三角形，4 个点的是四边形。如果没有指定点或者指定了超过 4 个点，则不会绘制任何东西，只会输出错误消息。另见 :ref:`draw_line()<class_CanvasItem_method_draw_line>`\ 、\ :ref:`draw_polyline()<class_CanvasItem_method_draw_polyline>`\ 、\ :ref:`draw_polygon()<class_CanvasItem_method_draw_polygon>`\ 、\ :ref:`draw_rect()<class_CanvasItem_method_draw_rect>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_rect:

.. rst-class:: classref-method

|void| **draw_rect**\ (\ rect\: :ref:`Rect2<class_Rect2>`, color\: :ref:`Color<class_Color>`, filled\: :ref:`bool<class_bool>` = true, width\: :ref:`float<class_float>` = -1.0, antialiased\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_rect>`

绘制一个矩形。如果 ``filled`` 为 ``true``\ ，则矩形将使用指定的 ``color`` 填充。如果 ``filled`` 为 ``false``\ ，则矩形将被绘制为具有指定的 ``color`` 和 ``width`` 的笔划。另见 :ref:`draw_texture_rect()<class_CanvasItem_method_draw_texture_rect>`\ 。

如果 ``width`` 为负，则将绘制一个两点图元而不是一个四点图元。这意味着当缩放 CanvasItem 时，线条将保持细长。如果不需要此行为，请传递一个正的 ``width``\ ，如 ``1.0``\ 。

如果 ``antialiased`` 为 ``true``\ ，则半透明的“羽毛”将附加到边界，使轮廓变得平滑。

\ **注意：**\ ``width`` 只有在 ``filled`` 为 ``false`` 时才有效。

\ **注意：**\ 使用负 ``width`` 绘制的未填充矩形可能不会完美显示。例如，由于线条的重叠，角可能会缺失或变亮（对于半透明的 ``color``\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_set_transform:

.. rst-class:: classref-method

|void| **draw_set_transform**\ (\ position\: :ref:`Vector2<class_Vector2>`, rotation\: :ref:`float<class_float>` = 0.0, scale\: :ref:`Vector2<class_Vector2>` = Vector2(1, 1)\ ) :ref:`🔗<class_CanvasItem_method_draw_set_transform>`

使用分量设置用于绘图的自定义变换。后续的绘制都会使用这个变换。

\ **注意：**\ :ref:`FontFile.oversampling<class_FontFile_property_oversampling>` *不会*\ 考虑 ``scale``\ 。这意味着将位图字体及栅格化（非 MSDF）动态字体放大/缩小会产生模糊或像素化的结果。要让文本无论如何缩放都保持清晰，可以启用 MSDF 字体渲染，方法是启用 :ref:`ProjectSettings.gui/theme/default_font_multichannel_signed_distance_field<class_ProjectSettings_property_gui/theme/default_font_multichannel_signed_distance_field>`\ （仅应用于默认项目字体），或者启用自定义 DynamicFont 的\ **多通道带符号距离场**\ 导入选项。对于系统字体，可以在检查器中启用 :ref:`SystemFont.multichannel_signed_distance_field<class_SystemFont_property_multichannel_signed_distance_field>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_set_transform_matrix:

.. rst-class:: classref-method

|void| **draw_set_transform_matrix**\ (\ xform\: :ref:`Transform2D<class_Transform2D>`\ ) :ref:`🔗<class_CanvasItem_method_draw_set_transform_matrix>`

设置通过矩阵绘制时的自定义变换。此后绘制的任何东西都将被它变换。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_string:

.. rst-class:: classref-method

|void| **draw_string**\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const| :ref:`🔗<class_CanvasItem_method_draw_string>`

使用 ``font`` 字体绘制 ``text`` 文本，以 ``pos`` 作为左下角，对齐字体基线。文本颜色会与 ``modulate`` 相乘。如果 ``width`` 大于等于 0，则文本超出该宽度的部分会被裁剪。如果 ``oversampling`` 大于零则会用作字体过采样系数，否则使用视口的过采样设置。

\ **示例：**\ 使用项目默认字体绘制“Hello world”：


.. tabs::

 .. code-tab:: gdscript

    # 如果在不断重绘的脚本中使用此方法，
    # 则将 `default_font` 声明移动到在 `_ready()` 中赋值的成员变量中
    # 这样 Control 只创建一次。
    var default_font = ThemeDB.fallback_font
    var default_font_size = ThemeDB.fallback_font_size
    draw_string(default_font, Vector2(64, 64), "Hello world", HORIZONTAL_ALIGNMENT_LEFT, -1, default_font_size)

 .. code-tab:: csharp

    // 如果在不断重绘的脚本中使用此方法，
    // 则将 `default_font` 声明移动到在 `_ready()` 中赋值的成员变量中
    // 这样 Control 只创建一次。
    Font defaultFont = ThemeDB.FallbackFont;
    int defaultFontSize = ThemeDB.FallbackFontSize;
    DrawString(defaultFont, new Vector2(64, 64), "Hello world", HORIZONTAL_ALIGNMENT_LEFT, -1, defaultFontSize);



另见 :ref:`Font.draw_string()<class_Font_method_draw_string>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_string_outline:

.. rst-class:: classref-method

|void| **draw_string_outline**\ (\ font\: :ref:`Font<class_Font>`, pos\: :ref:`Vector2<class_Vector2>`, text\: :ref:`String<class_String>`, alignment\: :ref:`HorizontalAlignment<enum_@GlobalScope_HorizontalAlignment>` = 0, width\: :ref:`float<class_float>` = -1, font_size\: :ref:`int<class_int>` = 16, size\: :ref:`int<class_int>` = 1, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), justification_flags\: |bitfield|\[:ref:`JustificationFlag<enum_TextServer_JustificationFlag>`\] = 3, direction\: :ref:`Direction<enum_TextServer_Direction>` = 0, orientation\: :ref:`Orientation<enum_TextServer_Orientation>` = 0, oversampling\: :ref:`float<class_float>` = 0.0\ ) |const| :ref:`🔗<class_CanvasItem_method_draw_string_outline>`

使用 ``font`` 字体绘制 ``text`` 文本的轮廓，以 ``pos`` 作为左下角，对齐字体基线。文本颜色会与 ``modulate`` 相乘。如果 ``width`` 大于等于 0，则文本超出该宽度的部分会被裁剪。如果 ``oversampling`` 大于零则会用作字体过采样系数，否则使用视口的过采样设置。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_style_box:

.. rst-class:: classref-method

|void| **draw_style_box**\ (\ style_box\: :ref:`StyleBox<class_StyleBox>`, rect\: :ref:`Rect2<class_Rect2>`\ ) :ref:`🔗<class_CanvasItem_method_draw_style_box>`

绘制一个样式矩形。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_texture:

.. rst-class:: classref-method

|void| **draw_texture**\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, position\: :ref:`Vector2<class_Vector2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1)\ ) :ref:`🔗<class_CanvasItem_method_draw_texture>`

在给定的位置绘制纹理。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_texture_rect:

.. rst-class:: classref-method

|void| **draw_texture_rect**\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, tile\: :ref:`bool<class_bool>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), transpose\: :ref:`bool<class_bool>` = false\ ) :ref:`🔗<class_CanvasItem_method_draw_texture_rect>`

在给定位置绘制一个带纹理的矩形，可以选择用颜色调制。如果 ``transpose`` 为 ``true``\ ，则纹理将交换其 X 和 Y 坐标。另见 :ref:`draw_rect()<class_CanvasItem_method_draw_rect>` 和 :ref:`draw_texture_rect_region()<class_CanvasItem_method_draw_texture_rect_region>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_draw_texture_rect_region:

.. rst-class:: classref-method

|void| **draw_texture_rect_region**\ (\ texture\: :ref:`Texture2D<class_Texture2D>`, rect\: :ref:`Rect2<class_Rect2>`, src_rect\: :ref:`Rect2<class_Rect2>`, modulate\: :ref:`Color<class_Color>` = Color(1, 1, 1, 1), transpose\: :ref:`bool<class_bool>` = false, clip_uv\: :ref:`bool<class_bool>` = true\ ) :ref:`🔗<class_CanvasItem_method_draw_texture_rect_region>`

在给定的位置绘制具有纹理的矩形，可以指定所使用的纹理区域（由 ``src_rect`` 指定），可选择用颜色调制。如果 ``transpose`` 为 ``true``\ ，则纹理将交换其 X 和 Y 坐标。另见 :ref:`draw_texture_rect()<class_CanvasItem_method_draw_texture_rect>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_force_update_transform:

.. rst-class:: classref-method

|void| **force_update_transform**\ (\ ) :ref:`🔗<class_CanvasItem_method_force_update_transform>`

强制更新节点的变换。如果节点不在树中则失败。另见 :ref:`get_transform()<class_CanvasItem_method_get_transform>`\ 。

\ **注意：**\ 出于性能考虑，通常会对变换的更新进行累积，在帧结束时应用\ *一次*\ 。更新也会沿着 **CanvasItem** 子节点传播。因此只应在确实需要最新的变换时使用该方法（例如进行物理运算）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_canvas:

.. rst-class:: classref-method

:ref:`RID<class_RID>` **get_canvas**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_canvas>`

返回该节点注册到的 :ref:`World2D<class_World2D>` 画布的 :ref:`RID<class_RID>`\ ，适用于 :ref:`RenderingServer<class_RenderingServer>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_canvas_item:

.. rst-class:: classref-method

:ref:`RID<class_RID>` **get_canvas_item**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_canvas_item>`

返回 :ref:`RenderingServer<class_RenderingServer>` 对该项目使用的画布项目 :ref:`RID<class_RID>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_canvas_layer_node:

.. rst-class:: classref-method

:ref:`CanvasLayer<class_CanvasLayer>` **get_canvas_layer_node**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_canvas_layer_node>`

返回包含该节点的 :ref:`CanvasLayer<class_CanvasLayer>`\ ，如果该节点不在任何 :ref:`CanvasLayer<class_CanvasLayer>` 中，则返回 ``null``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_canvas_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_canvas_transform**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_canvas_transform>`

返回节点的变换，从所在画布的坐标系转换至所在视口的坐标系。另见 :ref:`Node.get_viewport()<class_Node_method_get_viewport>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_global_mouse_position:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **get_global_mouse_position**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_global_mouse_position>`

返回鼠标光标的全局位置，相对于包含该节点的 :ref:`CanvasLayer<class_CanvasLayer>`\ 。

\ **注意：**\ 要得到屏幕空间的坐标（例如使用非嵌入式 :ref:`Popup<class_Popup>` 时）可以使用 :ref:`DisplayServer.mouse_get_position()<class_DisplayServer_method_mouse_get_position>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_global_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_global_transform**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_global_transform>`

返回该项目的全局变换矩阵，即到最顶层的 **CanvasItem** 节点的综合变换。最顶层的项目是一个 **CanvasItem**\ ，它要么没有父级，要么有非 **CanvasItem** 父级，或者要么它启用了 :ref:`top_level<class_CanvasItem_property_top_level>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_global_transform_with_canvas:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_global_transform_with_canvas**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_global_transform_with_canvas>`

返回从该 **CanvasItem** 的局部坐标系到 :ref:`Viewport<class_Viewport>` 坐标系的变换。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_instance_shader_parameter:

.. rst-class:: classref-method

:ref:`Variant<class_Variant>` **get_instance_shader_parameter**\ (\ name\: :ref:`StringName<class_StringName>`\ ) |const| :ref:`🔗<class_CanvasItem_method_get_instance_shader_parameter>`

获取在该实例上设置的着色器参数值。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_local_mouse_position:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **get_local_mouse_position**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_local_mouse_position>`

返回该 **CanvasItem** 中鼠标的位置，使用该 **CanvasItem** 的局部坐标系。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_screen_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_screen_transform**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_screen_transform>`

返回该 **CanvasItem** 在全局屏幕坐标中的变换（即考虑窗口位置）。主要用于编辑器插件。

如果窗口是嵌入的，则等于 :ref:`get_global_transform()<class_CanvasItem_method_get_global_transform>`\ （参见 :ref:`Viewport.gui_embed_subwindows<class_Viewport_property_gui_embed_subwindows>`\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_transform**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_transform>`

返回该 **CanvasItem** 的变换矩阵。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_viewport_rect:

.. rst-class:: classref-method

:ref:`Rect2<class_Rect2>` **get_viewport_rect**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_viewport_rect>`

以 :ref:`Rect2<class_Rect2>` 的形式返回该节点的视口边界。另见 :ref:`Node.get_viewport()<class_Node_method_get_viewport>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_viewport_transform:

.. rst-class:: classref-method

:ref:`Transform2D<class_Transform2D>` **get_viewport_transform**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_viewport_transform>`

返回该节点的变换，从所注册画布的坐标系转换至视口嵌入器的坐标系。另见 :ref:`Viewport.get_final_transform()<class_Viewport_method_get_final_transform>` 和 :ref:`Node.get_viewport()<class_Node_method_get_viewport>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_visibility_layer_bit:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **get_visibility_layer_bit**\ (\ layer\: :ref:`int<class_int>`\ ) |const| :ref:`🔗<class_CanvasItem_method_get_visibility_layer_bit>`

如果 :ref:`visibility_layer<class_CanvasItem_property_visibility_layer>` 中设置了给定索引对应的层，则返回 ``true``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_get_world_2d:

.. rst-class:: classref-method

:ref:`World2D<class_World2D>` **get_world_2d**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_get_world_2d>`

返回该节点注册到的 :ref:`World2D<class_World2D>`\ 。

通常与该节点的视口相同（见 :ref:`Node.get_viewport()<class_Node_method_get_viewport>` 和 :ref:`Viewport.find_world_2d()<class_Viewport_method_find_world_2d>`\ ）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_hide:

.. rst-class:: classref-method

|void| **hide**\ (\ ) :ref:`🔗<class_CanvasItem_method_hide>`

如果该 **CanvasItem** 目前是可见的，则将其隐藏。相当于将 :ref:`visible<class_CanvasItem_property_visible>` 设为 ``false``\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_is_local_transform_notification_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_local_transform_notification_enabled**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_is_local_transform_notification_enabled>`

如果节点会在局部变换发生改变时收到 :ref:`NOTIFICATION_LOCAL_TRANSFORM_CHANGED<class_CanvasItem_constant_NOTIFICATION_LOCAL_TRANSFORM_CHANGED>` 则返回 ``true``\ 。使用 :ref:`set_notify_local_transform()<class_CanvasItem_method_set_notify_local_transform>` 启用。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_is_transform_notification_enabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_transform_notification_enabled**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_is_transform_notification_enabled>`

如果节点会在全局变换发生改变时收到 :ref:`NOTIFICATION_TRANSFORM_CHANGED<class_CanvasItem_constant_NOTIFICATION_TRANSFORM_CHANGED>` 则返回 ``true``\ 。使用 :ref:`set_notify_transform()<class_CanvasItem_method_set_notify_transform>` 启用。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_is_visible_in_tree:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_visible_in_tree**\ (\ ) |const| :ref:`🔗<class_CanvasItem_method_is_visible_in_tree>`

如果节点存在于 :ref:`SceneTree<class_SceneTree>` 中，并且 :ref:`visible<class_CanvasItem_property_visible>` 属性为 ``true``\ 、所有祖级节点也都可见，则返回 ``true``\ 。如果存在隐藏的祖级节点，则该节点在场景树中不可见，因此不会进行绘制（见 :ref:`_draw()<class_CanvasItem_private_method__draw>`\ ）。

父节点派生自 **CanvasItem**\ 、\ :ref:`CanvasLayer<class_CanvasLayer>` 或 :ref:`Window<class_Window>` 时才会进行可见性检查。如果父节点为其他类型（例如 :ref:`Node<class_Node>`\ 、\ :ref:`AnimationPlayer<class_AnimationPlayer>`\ 、\ :ref:`Node3D<class_Node3D>`\ ），则会当作可见。

\ **注意：**\ 该方法不会考虑 :ref:`visibility_layer<class_CanvasItem_property_visibility_layer>`\ ，因此即便返回 ``true``\ ，最后也可能不渲染该节点。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_make_canvas_position_local:

.. rst-class:: classref-method

:ref:`Vector2<class_Vector2>` **make_canvas_position_local**\ (\ viewport_point\: :ref:`Vector2<class_Vector2>`\ ) |const| :ref:`🔗<class_CanvasItem_method_make_canvas_position_local>`

将 ``viewport_point`` 从视口坐标系变换到该节点的本地坐标系。

要进行相反的操作，请使用 :ref:`get_global_transform_with_canvas()<class_CanvasItem_method_get_global_transform_with_canvas>`\ 。

::

    var viewport_point = get_global_transform_with_canvas() * local_point

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_make_input_local:

.. rst-class:: classref-method

:ref:`InputEvent<class_InputEvent>` **make_input_local**\ (\ event\: :ref:`InputEvent<class_InputEvent>`\ ) |const| :ref:`🔗<class_CanvasItem_method_make_input_local>`

返回 ``event`` 事件的副本，将其坐标从全局空间转换至该 **CanvasItem** 的局部空间。无法转换则原样返回 :ref:`InputEvent<class_InputEvent>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_move_to_front:

.. rst-class:: classref-method

|void| **move_to_front**\ (\ ) :ref:`🔗<class_CanvasItem_method_move_to_front>`

将该节点移至同级节点的下方，通常会导致该节点绘制在同级节点的上方。如果该节点没有父节点则不会发生任何事情。另见 :ref:`Node.move_child()<class_Node_method_move_child>`\ 。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_queue_redraw:

.. rst-class:: classref-method

|void| **queue_redraw**\ (\ ) :ref:`🔗<class_CanvasItem_method_queue_redraw>`

将该 **CanvasItem** 加入重绘队列。空闲时，如果 **CanvasItem** 可见，则会发送 :ref:`NOTIFICATION_DRAW<class_CanvasItem_constant_NOTIFICATION_DRAW>` 并调用 :ref:`_draw()<class_CanvasItem_private_method__draw>`\ 。即便多次调用这个方法，每帧也都只会发生\ **一次**\ 绘制。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_set_instance_shader_parameter:

.. rst-class:: classref-method

|void| **set_instance_shader_parameter**\ (\ name\: :ref:`StringName<class_StringName>`, value\: :ref:`Variant<class_Variant>`\ ) :ref:`🔗<class_CanvasItem_method_set_instance_shader_parameter>`

仅为该实例设置一个着色器 uniform 值（\ `每实例 uniform <../tutorials/shaders/shader_reference/shading_language.html#per-instance-uniforms>`__\ ） 。另见 :ref:`ShaderMaterial.set_shader_parameter()<class_ShaderMaterial_method_set_shader_parameter>` 以使用相同的 :ref:`ShaderMaterial<class_ShaderMaterial>` 在所有实例上分配一个 uniform。

\ **注意：**\ 要在每个实例的基础上分配一个着色器 uniform，则\ *必须*\ 在着色器代码中，使用 ``instance uniform ...``\ ，而不是 ``uniform ...`` 来定义。

\ **注意：**\ ``name`` 是区分大小写的，并且必须与代码中的 uniform 名称完全匹配（而不是检查器中大写的名称）。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_set_notify_local_transform:

.. rst-class:: classref-method

|void| **set_notify_local_transform**\ (\ enable\: :ref:`bool<class_bool>`\ ) :ref:`🔗<class_CanvasItem_method_set_notify_local_transform>`

如果为 ``true``\ ，则该节点将在其局部变换发生改变时收到 :ref:`NOTIFICATION_LOCAL_TRANSFORM_CHANGED<class_CanvasItem_constant_NOTIFICATION_LOCAL_TRANSFORM_CHANGED>`\ 。

\ **注意：**\ :ref:`Bone2D<class_Bone2D>`\ 、\ :ref:`CollisionShape2D<class_CollisionShape2D>` 等许多画布项都会自动启用，从而正常工作。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_set_notify_transform:

.. rst-class:: classref-method

|void| **set_notify_transform**\ (\ enable\: :ref:`bool<class_bool>`\ ) :ref:`🔗<class_CanvasItem_method_set_notify_transform>`

如果为 ``true``\ ，则该节点将在其全局变换发生改变时收到 :ref:`NOTIFICATION_TRANSFORM_CHANGED<class_CanvasItem_constant_NOTIFICATION_TRANSFORM_CHANGED>`\ 。

\ **注意：**\ :ref:`Camera2D<class_Camera2D>`\ 、\ :ref:`Light2D<class_Light2D>` 等许多画布项都会自动启用，从而正常工作。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_set_visibility_layer_bit:

.. rst-class:: classref-method

|void| **set_visibility_layer_bit**\ (\ layer\: :ref:`int<class_int>`, enabled\: :ref:`bool<class_bool>`\ ) :ref:`🔗<class_CanvasItem_method_set_visibility_layer_bit>`

设置或清除渲染可见层上的单个位。这简化了对该 **CanvasItem** 的可见层的编辑。

.. rst-class:: classref-item-separator

----

.. _class_CanvasItem_method_show:

.. rst-class:: classref-method

|void| **show**\ (\ ) :ref:`🔗<class_CanvasItem_method_show>`

如果该 **CanvasItem** 目前是隐藏的，则将其显示。相当于将 :ref:`visible<class_CanvasItem_property_visible>` 设为 ``true``\ 。

\ **注意：**\ 对于继承自 :ref:`Popup<class_Popup>` 的控件，让它们可见的正确做法是换成调用各种 ``popup*()`` 函数。

.. |virtual| replace:: :abbr:`virtual (本方法通常需要用户覆盖才能生效。)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (本方法无副作用，不会修改该实例的任何成员变量。)`
.. |vararg| replace:: :abbr:`vararg (本方法除了能接受在此处描述的参数外，还能够继续接受任意数量的参数。)`
.. |constructor| replace:: :abbr:`constructor (本方法用于构造某个类型。)`
.. |static| replace:: :abbr:`static (调用本方法无需实例，可直接使用类名进行调用。)`
.. |operator| replace:: :abbr:`operator (本方法描述的是使用本类型作为左操作数的有效运算符。)`
.. |bitfield| replace:: :abbr:`BitField (这个值是由下列位标志构成位掩码的整数。)`
.. |void| replace:: :abbr:`void (无返回值。)`
