:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/HTTPRequest.xml.

.. _class_HTTPRequest:

HTTPRequest
===========

**ç»§æ‰¿ï¼š** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

å…·æœ‰å‘é€ HTTP(S) è¯·æ±‚èƒ½åŠ›çš„èŠ‚ç‚¹ã€‚

.. rst-class:: classref-introduction-group

æè¿°
----

A node with the ability to send HTTP requests. Uses :ref:`HTTPClient<class_HTTPClient>` internally.

Can be used to make HTTP requests, i.e. download or upload files or web content via HTTP.

\ **Warning:** See the notes and warnings on :ref:`HTTPClient<class_HTTPClient>` for limitations, especially regarding TLS security.

\ **Note:** When exporting to Android, make sure to enable the ``INTERNET`` permission in the Android export preset before exporting the project or using one-click deploy. Otherwise, network communication of any kind will be blocked by Android.

\ **Example:** Contact a REST API and print one of its returned fields:


.. tabs::

 .. code-tab:: gdscript

    func _ready():
        # Create an HTTP request node and connect its completion signal.
        var http_request = HTTPRequest.new()
        add_child(http_request)
        http_request.request_completed.connect(self._http_request_completed)
    
        # Perform a GET request. The URL below returns JSON as of writing.
        var error = http_request.request("https://httpbin.org/get")
        if error != OK:
            push_error("An error occurred in the HTTP request.")
    
        # Perform a POST request. The URL below returns JSON as of writing.
        # Note: Don't make simultaneous requests using a single HTTPRequest node.
        # The snippet below is provided for reference only.
        var body = JSON.new().stringify({"name": "Godette"})
        error = http_request.request("https://httpbin.org/post", [], HTTPClient.METHOD_POST, body)
        if error != OK:
            push_error("An error occurred in the HTTP request.")
    
    # Called when the HTTP request is completed.
    func _http_request_completed(result, response_code, headers, body):
        var json = JSON.new()
        json.parse(body.get_string_from_utf8())
        var response = json.get_data()
    
        # Will print the user agent string used by the HTTPRequest node (as recognized by httpbin.org).
        print(response.headers["User-Agent"])

 .. code-tab:: csharp

    public override void _Ready()
    {
        // Create an HTTP request node and connect its completion signal.
        var httpRequest = new HttpRequest();
        AddChild(httpRequest);
        httpRequest.RequestCompleted += HttpRequestCompleted;
    
        // Perform a GET request. The URL below returns JSON as of writing.
        Error error = httpRequest.Request("https://httpbin.org/get");
        if (error != Error.Ok)
        {
            GD.PushError("An error occurred in the HTTP request.");
        }
    
        // Perform a POST request. The URL below returns JSON as of writing.
        // Note: Don't make simultaneous requests using a single HTTPRequest node.
        // The snippet below is provided for reference only.
        string body = new Json().Stringify(new Godot.Collections.Dictionary
        {
            { "name", "Godette" }
        });
        error = httpRequest.Request("https://httpbin.org/post", null, HttpClient.Method.Post, body);
        if (error != Error.Ok)
        {
            GD.PushError("An error occurred in the HTTP request.");
        }
    }
    
    // Called when the HTTP request is completed.
    private void HttpRequestCompleted(long result, long responseCode, string[] headers, byte[] body)
    {
        var json = new Json();
        json.Parse(body.GetStringFromUtf8());
        var response = json.GetData().AsGodotDictionary();
    
        // Will print the user agent string used by the HTTPRequest node (as recognized by httpbin.org).
        GD.Print((response["headers"].AsGodotDictionary())["User-Agent"]);
    }



\ **Example:** Load an image using **HTTPRequest** and display it:


.. tabs::

 .. code-tab:: gdscript

    func _ready():
        # Create an HTTP request node and connect its completion signal.
        var http_request = HTTPRequest.new()
        add_child(http_request)
        http_request.request_completed.connect(self._http_request_completed)
    
        # Perform the HTTP request. The URL below returns a PNG image as of writing.
        var error = http_request.request("https://via.placeholder.com/512")
        if error != OK:
            push_error("An error occurred in the HTTP request.")
    
    # Called when the HTTP request is completed.
    func _http_request_completed(result, response_code, headers, body):
        if result != HTTPRequest.RESULT_SUCCESS:
            push_error("Image couldn't be downloaded. Try a different image.")
    
        var image = Image.new()
        var error = image.load_png_from_buffer(body)
        if error != OK:
            push_error("Couldn't load the image.")
    
        var texture = ImageTexture.create_from_image(image)
    
        # Display the image in a TextureRect node.
        var texture_rect = TextureRect.new()
        add_child(texture_rect)
        texture_rect.texture = texture

 .. code-tab:: csharp

    public override void _Ready()
    {
        // Create an HTTP request node and connect its completion signal.
        var httpRequest = new HttpRequest();
        AddChild(httpRequest);
        httpRequest.RequestCompleted += HttpRequestCompleted;
    
        // Perform the HTTP request. The URL below returns a PNG image as of writing.
        Error error = httpRequest.Request("https://via.placeholder.com/512");
        if (error != Error.Ok)
        {
            GD.PushError("An error occurred in the HTTP request.");
        }
    }
    
    // Called when the HTTP request is completed.
    private void HttpRequestCompleted(long result, long responseCode, string[] headers, byte[] body)
    {
        if (result != (long)HttpRequest.Result.Success)
        {
            GD.PushError("Image couldn't be downloaded. Try a different image.");
        }
        var image = new Image();
        Error error = image.LoadPngFromBuffer(body);
        if (error != Error.Ok)
        {
            GD.PushError("Couldn't load the image.");
        }
    
        var texture = ImageTexture.CreateFromImage(image);
    
        // Display the image in a TextureRect node.
        var textureRect = new TextureRect();
        AddChild(textureRect);
        textureRect.Texture = texture;
    }



\ **Note:** **HTTPRequest** nodes will automatically handle decompression of response bodies. A ``Accept-Encoding`` header will be automatically added to each of your requests, unless one is already specified. Any response with a ``Content-Encoding: gzip`` header will automatically be decompressed and delivered to you as uncompressed bytes.

.. rst-class:: classref-introduction-group

æ•™ç¨‹
----

- :doc:`å‘å‡º HTTP è¯·æ±‚ <../tutorials/networking/http_request_class>`

- :doc:`TLS è¯ä¹¦ <../tutorials/networking/ssl_certificates>`

.. rst-class:: classref-reftable-group

å±æ€§
----

.. table::
   :widths: auto

   +-----------------------------+----------------------------------------------------------------------------+-----------+
   | :ref:`bool<class_bool>`     | :ref:`accept_gzip<class_HTTPRequest_property_accept_gzip>`                 | ``true``  |
   +-----------------------------+----------------------------------------------------------------------------+-----------+
   | :ref:`int<class_int>`       | :ref:`body_size_limit<class_HTTPRequest_property_body_size_limit>`         | ``-1``    |
   +-----------------------------+----------------------------------------------------------------------------+-----------+
   | :ref:`int<class_int>`       | :ref:`download_chunk_size<class_HTTPRequest_property_download_chunk_size>` | ``65536`` |
   +-----------------------------+----------------------------------------------------------------------------+-----------+
   | :ref:`String<class_String>` | :ref:`download_file<class_HTTPRequest_property_download_file>`             | ``""``    |
   +-----------------------------+----------------------------------------------------------------------------+-----------+
   | :ref:`int<class_int>`       | :ref:`max_redirects<class_HTTPRequest_property_max_redirects>`             | ``8``     |
   +-----------------------------+----------------------------------------------------------------------------+-----------+
   | :ref:`float<class_float>`   | :ref:`timeout<class_HTTPRequest_property_timeout>`                         | ``0.0``   |
   +-----------------------------+----------------------------------------------------------------------------+-----------+
   | :ref:`bool<class_bool>`     | :ref:`use_threads<class_HTTPRequest_property_use_threads>`                 | ``false`` |
   +-----------------------------+----------------------------------------------------------------------------+-----------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`cancel_request<class_HTTPRequest_method_cancel_request>`\ (\ )                                                                                                                                                                                                                                                                  |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                 | :ref:`get_body_size<class_HTTPRequest_method_get_body_size>`\ (\ ) |const|                                                                                                                                                                                                                                                            |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                 | :ref:`get_downloaded_bytes<class_HTTPRequest_method_get_downloaded_bytes>`\ (\ ) |const|                                                                                                                                                                                                                                              |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Status<enum_HTTPClient_Status>` | :ref:`get_http_client_status<class_HTTPRequest_method_get_http_client_status>`\ (\ ) |const|                                                                                                                                                                                                                                          |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>` | :ref:`request<class_HTTPRequest_method_request>`\ (\ url\: :ref:`String<class_String>`, custom_headers\: :ref:`PackedStringArray<class_PackedStringArray>` = PackedStringArray(), method\: :ref:`Method<enum_HTTPClient_Method>` = 0, request_data\: :ref:`String<class_String>` = ""\ )                                              |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Error<enum_@GlobalScope_Error>` | :ref:`request_raw<class_HTTPRequest_method_request_raw>`\ (\ url\: :ref:`String<class_String>`, custom_headers\: :ref:`PackedStringArray<class_PackedStringArray>` = PackedStringArray(), method\: :ref:`Method<enum_HTTPClient_Method>` = 0, request_data_raw\: :ref:`PackedByteArray<class_PackedByteArray>` = PackedByteArray()\ ) |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`set_http_proxy<class_HTTPRequest_method_set_http_proxy>`\ (\ host\: :ref:`String<class_String>`, port\: :ref:`int<class_int>`\ )                                                                                                                                                                                                |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`set_https_proxy<class_HTTPRequest_method_set_https_proxy>`\ (\ host\: :ref:`String<class_String>`, port\: :ref:`int<class_int>`\ )                                                                                                                                                                                              |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                | :ref:`set_tls_options<class_HTTPRequest_method_set_tls_options>`\ (\ client_options\: :ref:`TLSOptions<class_TLSOptions>`\ )                                                                                                                                                                                                          |
   +---------------------------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

ä¿¡å·
----

.. _class_HTTPRequest_signal_request_completed:

.. rst-class:: classref-signal

**request_completed**\ (\ result\: :ref:`int<class_int>`, response_code\: :ref:`int<class_int>`, headers\: :ref:`PackedStringArray<class_PackedStringArray>`, body\: :ref:`PackedByteArray<class_PackedByteArray>`\ ) :ref:`ğŸ”—<class_HTTPRequest_signal_request_completed>`

è¯·æ±‚å®Œæˆæ—¶è§¦å‘ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æšä¸¾
----

.. _enum_HTTPRequest_Result:

.. rst-class:: classref-enumeration

enum **Result**: :ref:`ğŸ”—<enum_HTTPRequest_Result>`

.. _class_HTTPRequest_constant_RESULT_SUCCESS:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_SUCCESS** = ``0``

è¯·æ±‚æˆåŠŸã€‚

.. _class_HTTPRequest_constant_RESULT_CHUNKED_BODY_SIZE_MISMATCH:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_CHUNKED_BODY_SIZE_MISMATCH** = ``1``

Request failed due to a mismatch between the expected and actual chunked body size during transfer. Possible causes include network errors, server misconfiguration, or issues with chunked encoding.

.. _class_HTTPRequest_constant_RESULT_CANT_CONNECT:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_CANT_CONNECT** = ``2``

è¿æ¥æ—¶è¯·æ±‚å¤±è´¥ã€‚

.. _class_HTTPRequest_constant_RESULT_CANT_RESOLVE:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_CANT_RESOLVE** = ``3``

è§£ææ—¶è¯·æ±‚å¤±è´¥ã€‚

.. _class_HTTPRequest_constant_RESULT_CONNECTION_ERROR:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_CONNECTION_ERROR** = ``4``

å› è¿æ¥ï¼ˆè¯»å†™ï¼‰é”™è¯¯è€Œå¤±è´¥ã€‚

.. _class_HTTPRequest_constant_RESULT_TLS_HANDSHAKE_ERROR:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_TLS_HANDSHAKE_ERROR** = ``5``

TLS æ¡æ‰‹æ—¶è¯·æ±‚å¤±è´¥ã€‚

.. _class_HTTPRequest_constant_RESULT_NO_RESPONSE:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_NO_RESPONSE** = ``6``

è¯·æ±‚ï¼ˆç›®å‰è¿˜ï¼‰æ²¡æœ‰è·å¾—ç›¸åº”ã€‚

.. _class_HTTPRequest_constant_RESULT_BODY_SIZE_LIMIT_EXCEEDED:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_BODY_SIZE_LIMIT_EXCEEDED** = ``7``

è¯·æ±‚è¶…å‡ºäº†å¤§å°ä¸Šé™ï¼Œè§ :ref:`body_size_limit<class_HTTPRequest_property_body_size_limit>`\ ã€‚

.. _class_HTTPRequest_constant_RESULT_BODY_DECOMPRESS_FAILED:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_BODY_DECOMPRESS_FAILED** = ``8``

Request failed due to an error while decompressing the response body. Possible causes include unsupported or incorrect compression format, corrupted data, or incomplete transfer.

.. _class_HTTPRequest_constant_RESULT_REQUEST_FAILED:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_REQUEST_FAILED** = ``9``

è¯·æ±‚å¤±è´¥ï¼ˆç›®å‰æœªä½¿ç”¨ï¼‰ã€‚

.. _class_HTTPRequest_constant_RESULT_DOWNLOAD_FILE_CANT_OPEN:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_DOWNLOAD_FILE_CANT_OPEN** = ``10``

HTTPRequest æ— æ³•æ‰“å¼€ä¸‹è½½æ–‡ä»¶ã€‚

.. _class_HTTPRequest_constant_RESULT_DOWNLOAD_FILE_WRITE_ERROR:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_DOWNLOAD_FILE_WRITE_ERROR** = ``11``

HTTPRequest æ— æ³•å†™å…¥ä¸‹è½½æ–‡ä»¶ã€‚

.. _class_HTTPRequest_constant_RESULT_REDIRECT_LIMIT_REACHED:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_REDIRECT_LIMIT_REACHED** = ``12``

è¯·æ±‚è¶…å‡ºäº†é‡å®šå‘æ¬¡æ•°ä¸Šé™ï¼Œè§ :ref:`max_redirects<class_HTTPRequest_property_max_redirects>`\ ã€‚

.. _class_HTTPRequest_constant_RESULT_TIMEOUT:

.. rst-class:: classref-enumeration-constant

:ref:`Result<enum_HTTPRequest_Result>` **RESULT_TIMEOUT** = ``13``

è¯·æ±‚ç”±äºè¶…æ—¶è€Œå¤±è´¥ã€‚å¦‚æœæœ¬å°±å¸Œæœ›è¯·æ±‚èŠ±è´¹è¾ƒé•¿çš„æ—¶é—´ï¼Œè¯·å°è¯•å¢å¤§ :ref:`timeout<class_HTTPRequest_property_timeout>`\ ï¼Œæˆ–å°†å…¶è®¾ä¸º ``0.0`` ä»è€Œå®Œå…¨ç§»é™¤è¶…æ—¶ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±æ€§è¯´æ˜
--------

.. _class_HTTPRequest_property_accept_gzip:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **accept_gzip** = ``true`` :ref:`ğŸ”—<class_HTTPRequest_property_accept_gzip>`

.. rst-class:: classref-property-setget

- |void| **set_accept_gzip**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_accepting_gzip**\ (\ )

å¦‚æœä¸º ``true``\ ï¼Œè¿™ä¸ªæŠ¥å¤´ä¼šè¢«æ·»åŠ åˆ°æ¯ä¸ªè¯·æ±‚ä¸­ï¼š\ ``Accept-Encoding: gzip, deflate`` å‘Šè¯‰æœåŠ¡å™¨å¯ä»¥å‹ç¼©å“åº”æ­£æ–‡ã€‚

ä»»ä½•å£°æ˜ ``gzip`` æˆ– ``deflate`` çš„ ``Content-Encoding`` çš„å“åº”æ­£æ–‡ï¼Œå°†è¢«è‡ªåŠ¨è§£å‹ç¼©ï¼Œå¹¶ä¸”æœªå‹ç¼©çš„å­—èŠ‚å°†é€šè¿‡ :ref:`request_completed<class_HTTPRequest_signal_request_completed>` è¢«ä¼ é€’ã€‚

å¦‚æœç”¨æˆ·æŒ‡å®šäº†è‡ªå·±çš„ ``Accept-Encoding`` æŠ¥å¤´ï¼Œé‚£ä¹ˆæ— è®º :ref:`accept_gzip<class_HTTPRequest_property_accept_gzip>` æ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸ä¼šæ·»åŠ ä»»ä½•æŠ¥å¤´ã€‚

å¦‚æœä¸º ``false``\ ï¼Œè¿™å°†ä¸ä¼šæ·»åŠ æŠ¥å¤´ï¼Œå¹¶ä¸”ä¸ä¼šå¯¹å“åº”æ­£æ–‡æ‰§è¡Œä»»ä½•è§£å‹ç¼©ã€‚å“åº”æ­£æ–‡çš„åŸå§‹å­—èŠ‚å°†é€šè¿‡ :ref:`request_completed<class_HTTPRequest_signal_request_completed>` è¿”å›ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_property_body_size_limit:

.. rst-class:: classref-property

:ref:`int<class_int>` **body_size_limit** = ``-1`` :ref:`ğŸ”—<class_HTTPRequest_property_body_size_limit>`

.. rst-class:: classref-property-setget

- |void| **set_body_size_limit**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_body_size_limit**\ (\ )

å“åº”æ­£æ–‡çš„æœ€å¤§å…è®¸å¤§å°ã€‚å¦‚æœå“åº”æ­£æ–‡è¢«å‹ç¼©ï¼Œè¿™å°†ç”¨ä½œè§£å‹ç¼©çš„æ­£æ–‡çš„æœ€å¤§å…è®¸å¤§å°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_property_download_chunk_size:

.. rst-class:: classref-property

:ref:`int<class_int>` **download_chunk_size** = ``65536`` :ref:`ğŸ”—<class_HTTPRequest_property_download_chunk_size>`

.. rst-class:: classref-property-setget

- |void| **set_download_chunk_size**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_download_chunk_size**\ (\ )

ä½¿ç”¨çš„ç¼“å†²åŒºå¤§å°å’Œæ¯æ¬¡è¿­ä»£è¯»å–çš„æœ€å¤§å­—èŠ‚æ•°ã€‚å‚é˜… :ref:`HTTPClient.read_chunk_size<class_HTTPClient_property_read_chunk_size>`\ ã€‚

ä¸‹è½½å°æ–‡ä»¶æ—¶å°†å…¶è®¾ç½®ä¸ºè¾ƒä½çš„å€¼ï¼Œä»¥é™ä½å†…å­˜ä½¿ç”¨é‡ï¼Œä½†ä¼šé™ä½ä¸‹è½½é€Ÿåº¦ï¼Œä¾‹å¦‚ 4096 è¡¨ç¤º 4 KiBã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_property_download_file:

.. rst-class:: classref-property

:ref:`String<class_String>` **download_file** = ``""`` :ref:`ğŸ”—<class_HTTPRequest_property_download_file>`

.. rst-class:: classref-property-setget

- |void| **set_download_file**\ (\ value\: :ref:`String<class_String>`\ )
- :ref:`String<class_String>` **get_download_file**\ (\ )

è¦ä¸‹è½½åˆ°çš„æ–‡ä»¶ã€‚å°†ä»»ä½•æ¥æ”¶åˆ°çš„æ–‡ä»¶è¾“å‡ºåˆ°å…¶ä¸­ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_property_max_redirects:

.. rst-class:: classref-property

:ref:`int<class_int>` **max_redirects** = ``8`` :ref:`ğŸ”—<class_HTTPRequest_property_max_redirects>`

.. rst-class:: classref-property-setget

- |void| **set_max_redirects**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_max_redirects**\ (\ )

å…è®¸çš„æœ€å¤§é‡å®šå‘æ•°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_property_timeout:

.. rst-class:: classref-property

:ref:`float<class_float>` **timeout** = ``0.0`` :ref:`ğŸ”—<class_HTTPRequest_property_timeout>`

.. rst-class:: classref-property-setget

- |void| **set_timeout**\ (\ value\: :ref:`float<class_float>`\ )
- :ref:`float<class_float>` **get_timeout**\ (\ )

è¯·æ±‚è¶…æ—¶å‰ç­‰å¾…çš„ç§’æ•°ã€‚å¦‚æœ :ref:`timeout<class_HTTPRequest_property_timeout>` ä¸º ``0.0``\ ï¼Œåˆ™è¯·æ±‚ä¸ä¼šè¶…æ—¶ã€‚å¯¹äºç®€å•çš„è¯·æ±‚ï¼Œä¾‹å¦‚ä¸ REST API é€šä¿¡ï¼Œå»ºè®®å°† :ref:`timeout<class_HTTPRequest_property_timeout>` è®¾ä¸ºä¸æœåŠ¡å™¨å“åº”æ—¶é—´åŒ¹é…çš„å€¼ï¼ˆä¾‹å¦‚ ``1.0`` å’Œ ``10.0`` ä¹‹é—´ï¼‰ã€‚è¿™æ ·èƒ½å¤Ÿé˜²æ­¢ç”±äºæœåŠ¡å™¨å“åº”æ—¶é—´çš„å˜åŒ–è€Œé€ æˆçš„è¶…æ—¶ï¼ŒåŒæ—¶ä»ç„¶å…è®¸åº”ç”¨ç¨‹åºæ£€æµ‹åˆ°è¯·æ±‚è¶…æ—¶ã€‚å¯¹äºå¤§å‹è¯·æ±‚ï¼Œä¾‹å¦‚ä¸‹è½½æ–‡ä»¶ï¼Œå»ºè®®å°† :ref:`timeout<class_HTTPRequest_property_timeout>` è®¾ç½®ä¸º ``0.0`` ç¦ç”¨è¶…æ—¶åŠŸèƒ½ã€‚è¿™æ ·æœ‰åŠ©äºé˜²æ­¢ç”±äºè¶…æ—¶è€Œè®©å¤§å‹ä¼ è¾“å¤±è´¥ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_property_use_threads:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **use_threads** = ``false`` :ref:`ğŸ”—<class_HTTPRequest_property_use_threads>`

.. rst-class:: classref-property-setget

- |void| **set_use_threads**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_using_threads**\ (\ )

ä¸º ``true`` æ—¶ï¼Œå°†å¯ç”¨å¤šçº¿ç¨‹æé«˜æ€§èƒ½ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•è¯´æ˜
--------

.. _class_HTTPRequest_method_cancel_request:

.. rst-class:: classref-method

|void| **cancel_request**\ (\ ) :ref:`ğŸ”—<class_HTTPRequest_method_cancel_request>`

å–æ¶ˆå½“å‰è¯·æ±‚ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_get_body_size:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_body_size**\ (\ ) |const| :ref:`ğŸ”—<class_HTTPRequest_method_get_body_size>`

è¿”å›å“åº”ä½“é•¿åº¦ã€‚

\ **æ³¨æ„ï¼š**\ éƒ¨åˆ† Web æœåŠ¡å™¨å¯èƒ½ä¸å‘é€å“åº”ä½“é•¿åº¦ï¼Œæ­¤æ—¶è¿”å›å€¼å°†ä¸º ``-1``\ ã€‚å¦‚æœä½¿ç”¨åˆ†å—ä¼ è¾“ç¼–ç ï¼Œå“åº”ä½“çš„é•¿åº¦ä¹Ÿå°†ä¸º ``-1``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_get_downloaded_bytes:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_downloaded_bytes**\ (\ ) |const| :ref:`ğŸ”—<class_HTTPRequest_method_get_downloaded_bytes>`

è¿”å›è¯¥ HTTPRequest å·²ä¸‹è½½çš„å­—èŠ‚æ•°ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_get_http_client_status:

.. rst-class:: classref-method

:ref:`Status<enum_HTTPClient_Status>` **get_http_client_status**\ (\ ) |const| :ref:`ğŸ”—<class_HTTPRequest_method_get_http_client_status>`

è¿”å›å†…éƒ¨ :ref:`HTTPClient<class_HTTPClient>` çš„å½“å‰çŠ¶æ€ã€‚è§ :ref:`Status<enum_HTTPClient_Status>`\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_request:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **request**\ (\ url\: :ref:`String<class_String>`, custom_headers\: :ref:`PackedStringArray<class_PackedStringArray>` = PackedStringArray(), method\: :ref:`Method<enum_HTTPClient_Method>` = 0, request_data\: :ref:`String<class_String>` = ""\ ) :ref:`ğŸ”—<class_HTTPRequest_method_request>`

åœ¨åº•å±‚çš„ :ref:`HTTPClient<class_HTTPClient>` ä¸Šåˆ›å»ºè¯·æ±‚ã€‚å¦‚æœæ²¡æœ‰é…ç½®é”™è¯¯ï¼Œå®ƒä¼šå°è¯•ä½¿ç”¨ :ref:`HTTPClient.connect_to_host<class_HTTPClient_method_connect_to_host>` è¿æ¥å¹¶å°†å‚æ•°ä¼ é€’ç»™ :ref:`HTTPClient.request<class_HTTPClient_method_request>`\ ã€‚

å¦‚æœæˆåŠŸåˆ›å»ºè¯·æ±‚ï¼Œåˆ™è¿”å› :ref:`@GlobalScope.OK<class_@GlobalScope_constant_OK>`\ ã€‚ï¼ˆå¹¶ä¸æ„å‘³ç€æœåŠ¡å™¨å·²å“åº”ï¼‰ï¼Œå¦‚æœä¸åœ¨æ ‘ä¸­ï¼Œåˆ™è¿”å› :ref:`@GlobalScope.ERR_UNCONFIGURED<class_@GlobalScope_constant_ERR_UNCONFIGURED>`\ ï¼›å¦‚æœä»åœ¨å¤„ç†å…ˆå‰çš„è¯·æ±‚ï¼Œåˆ™è¿”å› :ref:`@GlobalScope.ERR_BUSY<class_@GlobalScope_constant_ERR_BUSY>`\ ï¼›å¦‚æœç»™å®šçš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„ URL æ ¼å¼ï¼Œåˆ™è¿”å› :ref:`@GlobalScope.ERR_INVALID_PARAMETER<class_@GlobalScope_constant_ERR_INVALID_PARAMETER>`\ ï¼›æˆ–è€…å¦‚æœä¸ä½¿ç”¨çº¿ç¨‹å¹¶ä¸” :ref:`HTTPClient<class_HTTPClient>` æ— æ³•è¿æ¥åˆ°ä¸»æœºï¼Œåˆ™è¿”å› :ref:`@GlobalScope.ERR_CANT_CONNECT<class_@GlobalScope_constant_ERR_CANT_CONNECT>`\ ã€‚

\ **æ³¨æ„ï¼š**\ å½“ ``method`` ä¸º :ref:`HTTPClient.METHOD_GET<class_HTTPClient_constant_METHOD_GET>` æ—¶ï¼Œé€šè¿‡ ``request_data`` å‘é€çš„æœ‰æ•ˆè½½è·å¯èƒ½ä¼šè¢«æœåŠ¡å™¨å¿½ç•¥ï¼Œç”šè‡³å¯¼è‡´æœåŠ¡å™¨æ‹’ç»è¯·æ±‚ï¼ˆè§ `RFC 7231 ç¬¬ 4.3.1 èŠ‚ <https://datatracker.ietf.org/doc/html/rfc7231#section-4.3.1>`__\ äº†è§£æ›´å¤šè¯¦æƒ…ï¼‰ã€‚ä½œä¸ºä¸€ç§å˜é€šæ–¹æ³•ï¼Œå¯ä»¥åœ¨ URL ä¸­å°†æ•°æ®ä½œä¸ºæŸ¥è¯¢å­—ç¬¦ä¸²å‘é€ï¼ˆæœ‰å…³ç¤ºä¾‹ï¼Œè¯·å‚è§ :ref:`String.uri_encode<class_String_method_uri_encode>`\ ï¼‰ã€‚

\ **æ³¨æ„ï¼š**\ å»ºè®®ä½¿ç”¨ä¼ è¾“åŠ å¯†ï¼ˆTLSï¼‰å¹¶é¿å…åœ¨ HTTP GET URL å‚æ•°ä¸­å‘é€æ•æ„Ÿä¿¡æ¯ï¼ˆä¾‹å¦‚ç™»å½•å‡­æ®ï¼‰ã€‚è€ƒè™‘æ”¹ç”¨ HTTP POST è¯·æ±‚æˆ– HTTP æŠ¥å¤´æ¥è·å–æ­¤ç±»ä¿¡æ¯ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_request_raw:

.. rst-class:: classref-method

:ref:`Error<enum_@GlobalScope_Error>` **request_raw**\ (\ url\: :ref:`String<class_String>`, custom_headers\: :ref:`PackedStringArray<class_PackedStringArray>` = PackedStringArray(), method\: :ref:`Method<enum_HTTPClient_Method>` = 0, request_data_raw\: :ref:`PackedByteArray<class_PackedByteArray>` = PackedByteArray()\ ) :ref:`ğŸ”—<class_HTTPRequest_method_request_raw>`

åœ¨åº•å±‚çš„\ :ref:`HTTPClient<class_HTTPClient>`\ ä¸Šåˆ›å»ºè¯·æ±‚ï¼Œä½¿ç”¨ä¸€ä¸ªåŸå§‹å­—èŠ‚æ•°ç»„ä½œä¸ºè¯·æ±‚ä¸»ä½“ã€‚å¦‚æœæ²¡æœ‰é…ç½®é”™è¯¯ï¼Œå®ƒä¼šå°è¯•ä½¿ç”¨ :ref:`HTTPClient.connect_to_host<class_HTTPClient_method_connect_to_host>` è¿æ¥å¹¶å°†å‚æ•°ä¼ é€’ç»™ :ref:`HTTPClient.request<class_HTTPClient_method_request>`\ ã€‚

å¦‚æœè¯·æ±‚åˆ›å»ºæˆåŠŸï¼Œåˆ™è¿”å› :ref:`@GlobalScope.OK<class_@GlobalScope_constant_OK>`\ ã€‚ï¼ˆå¹¶ä¸æ„å‘³ç€æœåŠ¡å™¨å·²å“åº”ï¼‰ï¼Œ\ :ref:`@GlobalScope.ERR_UNCONFIGURED<class_@GlobalScope_constant_ERR_UNCONFIGURED>` å¦‚æœä¸åœ¨æ ‘ä¸­ï¼Œ\ :ref:`@GlobalScope.ERR_BUSY<class_@GlobalScope_constant_ERR_BUSY>` å¦‚æœä»åœ¨å¤„ç†å…ˆå‰çš„è¯·æ±‚ï¼Œ\ :ref:`@GlobalScope.ERR_INVALID_PARAMETER<class_@GlobalScope_constant_ERR_INVALID_PARAMETER>` å¦‚æœç»™å®šçš„å­—ç¬¦ä¸²ä¸æ˜¯æœ‰æ•ˆçš„ URL æ ¼å¼ï¼Œæˆ– :ref:`@GlobalScope.ERR_CANT_CONNECT<class_@GlobalScope_constant_ERR_CANT_CONNECT>`\ å¦‚æœä¸ä½¿ç”¨çº¿ç¨‹å¹¶ä¸” :ref:`HTTPClient<class_HTTPClient>` æ— æ³•è¿æ¥åˆ°ä¸»æœºã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_set_http_proxy:

.. rst-class:: classref-method

|void| **set_http_proxy**\ (\ host\: :ref:`String<class_String>`, port\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_HTTPRequest_method_set_http_proxy>`

è®¾ç½® HTTP è¯·æ±‚ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ã€‚

å¦‚æœ ``host`` ä¸ºç©ºæˆ–è€… ``port`` ä¸º -1ï¼Œåˆ™ä¼šå–æ¶ˆè®¾ç½®ä»£ç†æœåŠ¡å™¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_set_https_proxy:

.. rst-class:: classref-method

|void| **set_https_proxy**\ (\ host\: :ref:`String<class_String>`, port\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_HTTPRequest_method_set_https_proxy>`

è®¾ç½® HTTPS è¯·æ±‚ä½¿ç”¨çš„ä»£ç†æœåŠ¡å™¨ã€‚

å¦‚æœ ``host`` ä¸ºç©ºæˆ–è€… ``port`` ä¸º -1ï¼Œåˆ™ä¼šå–æ¶ˆè®¾ç½®ä»£ç†æœåŠ¡å™¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_HTTPRequest_method_set_tls_options:

.. rst-class:: classref-method

|void| **set_tls_options**\ (\ client_options\: :ref:`TLSOptions<class_TLSOptions>`\ ) :ref:`ğŸ”—<class_HTTPRequest_method_set_tls_options>`

è®¾ç½®è¿æ¥åˆ° HTTPS æœåŠ¡å™¨æ—¶ä½¿ç”¨çš„ :ref:`TLSOptions<class_TLSOptions>`\ ã€‚è§ :ref:`TLSOptions.client<class_TLSOptions_method_client>`\ ã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ç”¨æˆ·è¦†ç›–æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ— å‰¯ä½œç”¨ï¼Œä¸ä¼šä¿®æ”¹è¯¥å®ä¾‹çš„ä»»ä½•æˆå‘˜å˜é‡ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†èƒ½æ¥å—åœ¨æ­¤å¤„æè¿°çš„å‚æ•°å¤–ï¼Œè¿˜èƒ½å¤Ÿç»§ç»­æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨äºæ„é€ æŸä¸ªç±»å‹ã€‚)`
.. |static| replace:: :abbr:`static (è°ƒç”¨æœ¬æ–¹æ³•æ— éœ€å®ä¾‹ï¼Œå¯ç›´æ¥ä½¿ç”¨ç±»åè¿›è¡Œè°ƒç”¨ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°çš„æ˜¯ä½¿ç”¨æœ¬ç±»å‹ä½œä¸ºå·¦æ“ä½œæ•°çš„æœ‰æ•ˆè¿ç®—ç¬¦ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (è¿™ä¸ªå€¼æ˜¯ç”±ä¸‹åˆ—ä½æ ‡å¿—æ„æˆä½æ©ç çš„æ•´æ•°ã€‚)`
.. |void| replace:: :abbr:`void (æ— è¿”å›å€¼ã€‚)`
