:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/RandomNumberGenerator.xml.

.. _class_RandomNumberGenerator:

RandomNumberGenerator
=====================

**ç¹¼æ‰¿ï¼š** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

æä¾›ç”Ÿæˆå½äº‚æ•¸çš„æ–¹æ³•ã€‚

.. rst-class:: classref-introduction-group

èªªæ˜
----

RandomNumberGenerator is a class for generating pseudo-random numbers. It currently uses `PCG32 <https://www.pcg-random.org/>`__.

\ **Note:** The underlying algorithm is an implementation detail and should not be depended upon.

To generate a random float number (within a given range) based on a time-dependent seed:

::

    var rng = RandomNumberGenerator.new()
    func _ready():
        var my_random_number = rng.randf_range(-10.0, 10.0)

.. rst-class:: classref-introduction-group

æ•™å­¸
----

- :doc:`äº‚æ•¸ç”¢ç”Ÿ <../tutorials/math/random_number_generation>`

.. rst-class:: classref-reftable-group

å±¬æ€§
----

.. table::
   :widths: auto

   +-----------------------+----------------------------------------------------------+-------+
   | :ref:`int<class_int>` | :ref:`seed<class_RandomNumberGenerator_property_seed>`   | ``0`` |
   +-----------------------+----------------------------------------------------------+-------+
   | :ref:`int<class_int>` | :ref:`state<class_RandomNumberGenerator_property_state>` | ``0`` |
   +-----------------------+----------------------------------------------------------+-------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`     | :ref:`rand_weighted<class_RandomNumberGenerator_method_rand_weighted>`\ (\ weights\: :ref:`PackedFloat32Array<class_PackedFloat32Array>`\ )         |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>` | :ref:`randf<class_RandomNumberGenerator_method_randf>`\ (\ )                                                                                        |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>` | :ref:`randf_range<class_RandomNumberGenerator_method_randf_range>`\ (\ from\: :ref:`float<class_float>`, to\: :ref:`float<class_float>`\ )          |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>` | :ref:`randfn<class_RandomNumberGenerator_method_randfn>`\ (\ mean\: :ref:`float<class_float>` = 0.0, deviation\: :ref:`float<class_float>` = 1.0\ ) |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`     | :ref:`randi<class_RandomNumberGenerator_method_randi>`\ (\ )                                                                                        |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`     | :ref:`randi_range<class_RandomNumberGenerator_method_randi_range>`\ (\ from\: :ref:`int<class_int>`, to\: :ref:`int<class_int>`\ )                  |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                    | :ref:`randomize<class_RandomNumberGenerator_method_randomize>`\ (\ )                                                                                |
   +---------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±¬æ€§èªªæ˜
--------

.. _class_RandomNumberGenerator_property_seed:

.. rst-class:: classref-property

:ref:`int<class_int>` **seed** = ``0`` :ref:`ğŸ”—<class_RandomNumberGenerator_property_seed>`

.. rst-class:: classref-property-setget

- |void| **set_seed**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_seed**\ (\ )

æ ¹æ“šçµ¦å®šçš„ç¨®å­å€¼åˆå§‹åŒ–äº‚æ•¸ç”¢ç”Ÿå™¨ç‹€æ…‹ã€‚çµ¦å®šçš„ç¨®å­å°‡çµ¦å‡ºä¸€å€‹å¯é‡ç¾çš„å½äº‚æ•¸åºåˆ—ã€‚

\ **æ³¨æ„ï¼š**\ RNG æ²’æœ‰é›ªå´©æ•ˆæ‡‰ï¼Œçµ¦å®šç›¸ä¼¼çš„ç¨®å­å¯ä»¥è¼¸å‡ºç›¸ä¼¼çš„éš¨æ©Ÿæµã€‚å¦‚æœç¨®å­ä¾†è‡ªå¤–éƒ¨ï¼Œè«‹è€ƒæ…®ä½¿ç”¨é›œæ¹Šå‡½å¼ä¾†æé«˜ç¨®å­å“è³ªã€‚

\ **æ³¨æ„ï¼š**\ è¨­å®šè©²å±¬æ€§æœƒç”¢ç”Ÿæ”¹è®Šå…§éƒ¨ :ref:`state<class_RandomNumberGenerator_property_state>` çš„å‰¯ä½œç”¨ï¼Œå› æ­¤è«‹ç¢ºä¿åœ¨ä¿®æ”¹ :ref:`state<class_RandomNumberGenerator_property_state>` *ä¹‹å‰*\ åˆå§‹åŒ–ç¨®å­ï¼š

\ **æ³¨æ„ï¼š**\ è©²å±¬æ€§çš„é è¨­å€¼æ˜¯å½éš¨æ©Ÿçš„ï¼Œæœƒåœ¨å‘¼å« :ref:`randomize()<class_RandomNumberGenerator_method_randomize>` æ™‚æ”¹è®Šã€‚æ–‡æª”ä¸­è¨˜éŒ„çš„ ``0`` æ˜¯é ç•™ä½ç½®ï¼Œä¸æ˜¯å¯¦éš›çš„é è¨­ç¨®å­ã€‚

::

    var rng = RandomNumberGenerator.new()
    rng.seed = hash("Godot")
    rng.state = 100 # æ¢å¾©åˆ°ä¹‹å‰ä¿å­˜çš„ä¸€äº›ç‹€æ…‹ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_property_state:

.. rst-class:: classref-property

:ref:`int<class_int>` **state** = ``0`` :ref:`ğŸ”—<class_RandomNumberGenerator_property_state>`

.. rst-class:: classref-property-setget

- |void| **set_state**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_state**\ (\ )

The current state of the random number generator. Save and restore this property to restore the generator to a previous state:

::

    var rng = RandomNumberGenerator.new()
    print(rng.randf())
    var saved_state = rng.state # Store current state.
    print(rng.randf()) # Advance internal state.
    rng.state = saved_state # Restore the state.
    print(rng.randf()) # Prints the same value as previously.

\ **Note:** Do not set state to arbitrary values, since the random number generator requires the state to have certain qualities to behave properly. It should only be set to values that came from the state property itself. To initialize the random number generator with arbitrary input, use :ref:`seed<class_RandomNumberGenerator_property_seed>` instead.

\ **Note:** The default value of this property is pseudo-random, and changes when calling :ref:`randomize()<class_RandomNumberGenerator_method_randomize>`. The ``0`` value documented here is a placeholder, and not the actual default state.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•èªªæ˜
--------

.. _class_RandomNumberGenerator_method_rand_weighted:

.. rst-class:: classref-method

:ref:`int<class_int>` **rand_weighted**\ (\ weights\: :ref:`PackedFloat32Array<class_PackedFloat32Array>`\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_rand_weighted>`

Returns a random index with non-uniform weights. Prints an error and returns ``-1`` if the array is empty.


.. tabs::

 .. code-tab:: gdscript

    var rng = RandomNumberGenerator.new()

    var my_array = ["one", "two", "three", "four"]
    var weights = PackedFloat32Array([0.5, 1, 1, 2])

    # Prints one of the four elements in `my_array`.
    # It is more likely to print "four", and less likely to print "one".
    print(my_array[rng.rand_weighted(weights)])



.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randf:

.. rst-class:: classref-method

:ref:`float<class_float>` **randf**\ (\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randf>`

è¿”å›åœ¨ ``0.0`` å’Œ ``1.0`` ä¹‹é–“ï¼ˆå«ç«¯é»ï¼‰çš„å½éš¨æ©Ÿæµ®é»æ•¸ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randf_range:

.. rst-class:: classref-method

:ref:`float<class_float>` **randf_range**\ (\ from\: :ref:`float<class_float>`, to\: :ref:`float<class_float>`\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randf_range>`

è¿”å›åœ¨ ``from`` å’Œ ``to`` ä¹‹é–“ï¼ˆå«ç«¯é»ï¼‰çš„å½éš¨æ©Ÿæµ®é»æ•¸ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randfn:

.. rst-class:: classref-method

:ref:`float<class_float>` **randfn**\ (\ mean\: :ref:`float<class_float>` = 0.0, deviation\: :ref:`float<class_float>` = 1.0\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randfn>`

Returns a `normally-distributed <https://en.wikipedia.org/wiki/Normal_distribution>`__, pseudo-random floating-point number from the specified ``mean`` and a standard ``deviation``. This is also known as a Gaussian distribution.

\ **Note:** This method uses the `Box-Muller transform <https://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform>`__ algorithm.

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randi:

.. rst-class:: classref-method

:ref:`int<class_int>` **randi**\ (\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randi>`

è¿”å›åœ¨ ``0`` å’Œ ``4294967295`` ä¹‹é–“ï¼ˆå«ç«¯é»ï¼‰çš„å½éš¨æ©Ÿ 32 ä½ä¸å¸¶æ­£è² è™Ÿçš„æ•´æ•¸ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randi_range:

.. rst-class:: classref-method

:ref:`int<class_int>` **randi_range**\ (\ from\: :ref:`int<class_int>`, to\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randi_range>`

è¿”å›åœ¨ ``from`` å’Œ ``to`` ä¹‹é–“ï¼ˆå«ç«¯é»ï¼‰çš„å½éš¨æ©Ÿ 32 ä½ä¸å¸¶æ­£è² è™Ÿçš„æ•´æ•¸ã€‚

.. rst-class:: classref-item-separator

----

.. _class_RandomNumberGenerator_method_randomize:

.. rst-class:: classref-method

|void| **randomize**\ (\ ) :ref:`ğŸ”—<class_RandomNumberGenerator_method_randomize>`

Sets up a time-based seed for this **RandomNumberGenerator** instance. Unlike the :ref:`@GlobalScope<class_@GlobalScope>` random number generation functions, different **RandomNumberGenerator** instances can use different seeds.

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ä½¿ç”¨è€…è¦†å¯«æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ²’æœ‰å‰¯ä½œç”¨ã€‚ä¸æœƒä¿®æ”¹è©²å¯¦ä¾‹çš„ä»»ä½•æˆå“¡è®Šæ•¸ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†é€™è£¡æè¿°çš„åƒæ•¸å¤–ï¼Œé‚„å¯ä»¥æ¥å—ä»»æ„æ•¸é‡çš„åƒæ•¸ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨æ–¼å»ºæ§‹ä¸€å€‹å‹åˆ¥ã€‚)`
.. |static| replace:: :abbr:`static (æœ¬æ–¹æ³•ç„¡éœ€å¯¦ä¾‹å³å¯å‘¼å«ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨é¡åˆ¥åç¨±å‘¼å«ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°å°‡æœ¬å‹åˆ¥ä½œç‚ºå·¦é‹ç®—å…ƒæ™‚å¯ç”¨çš„æœ‰æ•ˆé‹ç®—å­ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (æ­¤å€¼æ˜¯ç”±ä¸‹åˆ—æ——æ¨™çµ„æˆçš„ä½å…ƒé®ç½©æ•´æ•¸ã€‚)`
.. |void| replace:: :abbr:`void (ç„¡å›å‚³å€¼ã€‚)`
