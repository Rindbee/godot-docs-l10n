:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/AStar3D.xml.

.. _class_AStar3D:

AStar3D
=======

**ç¹¼æ‰¿ï¼š** :ref:`RefCounted<class_RefCounted>` **<** :ref:`Object<class_Object>`

A\* çš„ä¸€ç¨®å¯¦ä½œï¼Œç”¨æ–¼å°‹æ‰¾ 3D ç©ºé–“ä¸­é€£æ¥åœ–ä¸­çš„å…©å€‹é ‚é»ä¹‹é–“çš„æœ€çŸ­è·¯å¾‘ã€‚

.. rst-class:: classref-introduction-group

èªªæ˜
----

A\*ï¼ˆA Starï¼‰æ˜¯ä¸€ç¨®ç”¨æ–¼è·¯å¾‘å°‹æ‰¾ï¼ˆpathfindingï¼‰èˆ‡åœ–éæ­·ï¼ˆgraph traversalï¼‰çš„é›»è…¦æ¼”ç®—æ³•ï¼Œå¯åœ¨é ‚é»ï¼ˆé»ï¼‰ä¹‹é–“ï¼Œæ²¿è‘—ä¸€çµ„æŒ‡å®šé‚Šï¼ˆç·šæ®µï¼‰è¦åŠƒæœ€çŸ­è·¯å¾‘ã€‚å› å…¶æ•ˆèƒ½èˆ‡æº–ç¢ºåº¦è€Œè¢«å»£æ³›ä½¿ç”¨ã€‚Godot çš„ A\* å¯¦ä½œé è¨­åœ¨ 3D ç©ºé–“ä¸­ä½¿ç”¨é»ä¸¦ä»¥æ­æ°è·é›¢è¨ˆç®—ã€‚

ä½ å¿…é ˆå…ˆä½¿ç”¨ :ref:`add_point()<class_AStar3D_method_add_point>` æ‰‹å‹•åŠ å…¥é»ï¼Œå†ç”¨ :ref:`connect_points()<class_AStar3D_method_connect_points>` æ‰‹å‹•å»ºç«‹ç·šæ®µã€‚å®Œæˆå¾Œï¼Œå¯é€é :ref:`are_points_connected()<class_AStar3D_method_are_points_connected>` æª¢æŸ¥å…©é»ä¹‹é–“æ˜¯å¦å­˜åœ¨è·¯å¾‘ï¼Œåˆ©ç”¨ :ref:`get_id_path()<class_AStar3D_method_get_id_path>` å–å¾—ç”±ç´¢å¼•çµ„æˆçš„è·¯å¾‘ï¼Œæˆ–ä½¿ç”¨ :ref:`get_point_path()<class_AStar3D_method_get_point_path>` å–å¾—åŒ…å«å¯¦éš›åº§æ¨™çš„è·¯å¾‘ã€‚

äº¦å¯æ”¹ç”¨éæ­æ°è·é›¢ã€‚è‹¥è¦é€™éº¼åšï¼Œè«‹æ’°å¯«ä¸€å€‹ç¹¼æ‰¿è‡ª **AStar3D** çš„è…³æœ¬ï¼Œä¸¦è¦†å¯« :ref:`_compute_cost()<class_AStar3D_private_method__compute_cost>` èˆ‡ :ref:`_estimate_cost()<class_AStar3D_private_method__estimate_cost>` å…©å€‹æ–¹æ³•ã€‚é€™å…©å€‹æ–¹æ³•çš†æ‡‰æ¥æ”¶å…©å€‹é»çš„ IDï¼Œä¸¦å›å‚³é€™å…©é»ä¹‹é–“çš„è·é›¢ã€‚

\ **ç¯„ä¾‹ï¼š** ä½¿ç”¨æ›¼å“ˆé “è·é›¢å–ä»£æ­æ°è·é›¢ï¼š


.. tabs::

 .. code-tab:: gdscript

    class_name MyAStar3D
    extends AStar3D

    func _compute_cost(u, v):
        var u_pos = get_point_position(u)
        var v_pos = get_point_position(v)
        return abs(u_pos.x - v_pos.x) + abs(u_pos.y - v_pos.y) + abs(u_pos.z - v_pos.z)

    func _estimate_cost(u, v):
        var u_pos = get_point_position(u)
        var v_pos = get_point_position(v)
        return abs(u_pos.x - v_pos.x) + abs(u_pos.y - v_pos.y) + abs(u_pos.z - v_pos.z)

 .. code-tab:: csharp

    using Godot;

    [GlobalClass]
    public partial class MyAStar3D : AStar3D
    {
        public override float _ComputeCost(long fromId, long toId)
        {
            Vector3 fromPoint = GetPointPosition(fromId);
            Vector3 toPoint = GetPointPosition(toId);
            return Mathf.Abs(fromPoint.X - toPoint.X) + Mathf.Abs(fromPoint.Y - toPoint.Y) + Mathf.Abs(fromPoint.Z - toPoint.Z);
        }

        public override float _EstimateCost(long fromId, long toId)
        {
            Vector3 fromPoint = GetPointPosition(fromId);
            Vector3 toPoint = GetPointPosition(toId);
            return Mathf.Abs(fromPoint.X - toPoint.X) + Mathf.Abs(fromPoint.Y - toPoint.Y) + Mathf.Abs(fromPoint.Z - toPoint.Z);
        }
    }



\ :ref:`_estimate_cost()<class_AStar3D_private_method__estimate_cost>` æ‡‰å‚³å›è·é›¢çš„ä¸‹ç•Œï¼Œå³ ``_estimate_cost(u, v) <= _compute_cost(u, v)``\ ã€‚é€™èƒ½ç‚ºæ¼”ç®—æ³•æä¾›æç¤ºï¼Œå› ç‚ºè‡ªè¨‚çš„ :ref:`_compute_cost()<class_AStar3D_private_method__compute_cost>` å¯èƒ½è¨ˆç®—é‡è¼ƒå¤§ã€‚è‹¥éå¦‚æ­¤ï¼Œè«‹è®“ :ref:`_estimate_cost()<class_AStar3D_private_method__estimate_cost>` å›å‚³èˆ‡ :ref:`_compute_cost()<class_AStar3D_private_method__compute_cost>` ç›¸åŒçš„å€¼ï¼Œä»¥æä¾›æ¼”ç®—æ³•æœ€æº–ç¢ºçš„è³‡è¨Šã€‚

è‹¥ä½¿ç”¨é è¨­çš„ :ref:`_estimate_cost()<class_AStar3D_private_method__estimate_cost>` èˆ‡ :ref:`_compute_cost()<class_AStar3D_private_method__compute_cost>`\ ï¼Œæˆ–è‡ªè¨‚ :ref:`_estimate_cost()<class_AStar3D_private_method__estimate_cost>` çš„å›å‚³å€¼ç¢ºå¯¦ç‚ºæˆæœ¬ä¸‹ç•Œï¼Œå‰‡ A\* å›å‚³çš„è·¯å¾‘å³ç‚ºæœ€ä½æˆæœ¬è·¯å¾‘ã€‚æ­¤è™•ï¼Œè·¯å¾‘æˆæœ¬ç­‰æ–¼è·¯å¾‘ä¸­æ‰€æœ‰ç·šæ®µçš„ :ref:`_compute_cost()<class_AStar3D_private_method__compute_cost>` çµæœä¹˜ä»¥å„ç·šæ®µç«¯é»çš„ ``weight_scale`` å¾Œçš„ç¸½å’Œã€‚è‹¥ä½¿ç”¨é è¨­æ–¹æ³•ä¸”æ‰€æœ‰é»çš„ ``weight_scale`` å‡ç‚º ``1.0``\ ï¼Œå‰‡æˆæœ¬å³ç‚ºè·¯å¾‘ä¸­å„ç·šæ®µä¹‹æ­æ°è·é›¢ç¸½å’Œã€‚

.. rst-class:: classref-reftable-group

å±¬æ€§
----

.. table::
   :widths: auto

   +-------------------------+--------------------------------------------------------------------------------+-----------+
   | :ref:`bool<class_bool>` | :ref:`neighbor_filter_enabled<class_AStar3D_property_neighbor_filter_enabled>` | ``false`` |
   +-------------------------+--------------------------------------------------------------------------------+-----------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                           | :ref:`_compute_cost<class_AStar3D_private_method__compute_cost>`\ (\ from_id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`\ ) |virtual| |const|                                        |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                           | :ref:`_estimate_cost<class_AStar3D_private_method__estimate_cost>`\ (\ from_id\: :ref:`int<class_int>`, end_id\: :ref:`int<class_int>`\ ) |virtual| |const|                                     |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                             | :ref:`_filter_neighbor<class_AStar3D_private_method__filter_neighbor>`\ (\ from_id\: :ref:`int<class_int>`, neighbor_id\: :ref:`int<class_int>`\ ) |virtual| |const|                            |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`add_point<class_AStar3D_method_add_point>`\ (\ id\: :ref:`int<class_int>`, position\: :ref:`Vector3<class_Vector3>`, weight_scale\: :ref:`float<class_float>` = 1.0\ )                    |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                             | :ref:`are_points_connected<class_AStar3D_method_are_points_connected>`\ (\ id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, bidirectional\: :ref:`bool<class_bool>` = true\ ) |const| |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`clear<class_AStar3D_method_clear>`\ (\ )                                                                                                                                                  |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`connect_points<class_AStar3D_method_connect_points>`\ (\ id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, bidirectional\: :ref:`bool<class_bool>` = true\ )                     |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`disconnect_points<class_AStar3D_method_disconnect_points>`\ (\ id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, bidirectional\: :ref:`bool<class_bool>` = true\ )               |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                               | :ref:`get_available_point_id<class_AStar3D_method_get_available_point_id>`\ (\ ) |const|                                                                                                        |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                               | :ref:`get_closest_point<class_AStar3D_method_get_closest_point>`\ (\ to_position\: :ref:`Vector3<class_Vector3>`, include_disabled\: :ref:`bool<class_bool>` = false\ ) |const|                 |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                       | :ref:`get_closest_position_in_segment<class_AStar3D_method_get_closest_position_in_segment>`\ (\ to_position\: :ref:`Vector3<class_Vector3>`\ ) |const|                                         |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedInt64Array<class_PackedInt64Array>`     | :ref:`get_id_path<class_AStar3D_method_get_id_path>`\ (\ from_id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, allow_partial_path\: :ref:`bool<class_bool>` = false\ )                |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                               | :ref:`get_point_capacity<class_AStar3D_method_get_point_capacity>`\ (\ ) |const|                                                                                                                |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedInt64Array<class_PackedInt64Array>`     | :ref:`get_point_connections<class_AStar3D_method_get_point_connections>`\ (\ id\: :ref:`int<class_int>`\ )                                                                                      |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`int<class_int>`                               | :ref:`get_point_count<class_AStar3D_method_get_point_count>`\ (\ ) |const|                                                                                                                      |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedInt64Array<class_PackedInt64Array>`     | :ref:`get_point_ids<class_AStar3D_method_get_point_ids>`\ (\ )                                                                                                                                  |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`PackedVector3Array<class_PackedVector3Array>` | :ref:`get_point_path<class_AStar3D_method_get_point_path>`\ (\ from_id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, allow_partial_path\: :ref:`bool<class_bool>` = false\ )          |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`Vector3<class_Vector3>`                       | :ref:`get_point_position<class_AStar3D_method_get_point_position>`\ (\ id\: :ref:`int<class_int>`\ ) |const|                                                                                    |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`float<class_float>`                           | :ref:`get_point_weight_scale<class_AStar3D_method_get_point_weight_scale>`\ (\ id\: :ref:`int<class_int>`\ ) |const|                                                                            |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                             | :ref:`has_point<class_AStar3D_method_has_point>`\ (\ id\: :ref:`int<class_int>`\ ) |const|                                                                                                      |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>`                             | :ref:`is_point_disabled<class_AStar3D_method_is_point_disabled>`\ (\ id\: :ref:`int<class_int>`\ ) |const|                                                                                      |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`remove_point<class_AStar3D_method_remove_point>`\ (\ id\: :ref:`int<class_int>`\ )                                                                                                        |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`reserve_space<class_AStar3D_method_reserve_space>`\ (\ num_nodes\: :ref:`int<class_int>`\ )                                                                                               |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`set_point_disabled<class_AStar3D_method_set_point_disabled>`\ (\ id\: :ref:`int<class_int>`, disabled\: :ref:`bool<class_bool>` = true\ )                                                 |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`set_point_position<class_AStar3D_method_set_point_position>`\ (\ id\: :ref:`int<class_int>`, position\: :ref:`Vector3<class_Vector3>`\ )                                                  |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                                              | :ref:`set_point_weight_scale<class_AStar3D_method_set_point_weight_scale>`\ (\ id\: :ref:`int<class_int>`, weight_scale\: :ref:`float<class_float>`\ )                                          |
   +-----------------------------------------------------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±¬æ€§èªªæ˜
--------

.. _class_AStar3D_property_neighbor_filter_enabled:

.. rst-class:: classref-property

:ref:`bool<class_bool>` **neighbor_filter_enabled** = ``false`` :ref:`ğŸ”—<class_AStar3D_property_neighbor_filter_enabled>`

.. rst-class:: classref-property-setget

- |void| **set_neighbor_filter_enabled**\ (\ value\: :ref:`bool<class_bool>`\ )
- :ref:`bool<class_bool>` **is_neighbor_filter_enabled**\ (\ )

If ``true`` enables the filtering of neighbors via :ref:`_filter_neighbor()<class_AStar3D_private_method__filter_neighbor>`.

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•èªªæ˜
--------

.. _class_AStar3D_private_method__compute_cost:

.. rst-class:: classref-method

:ref:`float<class_float>` **_compute_cost**\ (\ from_id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`\ ) |virtual| |const| :ref:`ğŸ”—<class_AStar3D_private_method__compute_cost>`

è¨ˆç®—å…©å€‹é€£æ¥é»ä¹‹é–“æˆæœ¬æ™‚å‘¼å«ã€‚

æ³¨æ„ï¼šæ­¤å‡½å¼åœ¨é è¨­çš„ **AStar3D** é¡åˆ¥ä¸­ç‚ºéš±è—ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_private_method__estimate_cost:

.. rst-class:: classref-method

:ref:`float<class_float>` **_estimate_cost**\ (\ from_id\: :ref:`int<class_int>`, end_id\: :ref:`int<class_int>`\ ) |virtual| |const| :ref:`ğŸ”—<class_AStar3D_private_method__estimate_cost>`

ä¼°ç®—æŸé»èˆ‡è·¯å¾‘çµ‚é»ä¹‹é–“æˆæœ¬æ™‚å‘¼å«ã€‚

æ³¨æ„ï¼šæ­¤å‡½å¼åœ¨é è¨­çš„ **AStar3D** é¡åˆ¥ä¸­ç‚ºéš±è—ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_private_method__filter_neighbor:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **_filter_neighbor**\ (\ from_id\: :ref:`int<class_int>`, neighbor_id\: :ref:`int<class_int>`\ ) |virtual| |const| :ref:`ğŸ”—<class_AStar3D_private_method__filter_neighbor>`

Called when neighboring point enters processing and if :ref:`neighbor_filter_enabled<class_AStar3D_property_neighbor_filter_enabled>` is ``true``. If ``true`` is returned the point will not be processed.

Note that this function is hidden in the default **AStar3D** class.

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_add_point:

.. rst-class:: classref-method

|void| **add_point**\ (\ id\: :ref:`int<class_int>`, position\: :ref:`Vector3<class_Vector3>`, weight_scale\: :ref:`float<class_float>` = 1.0\ ) :ref:`ğŸ”—<class_AStar3D_method_add_point>`

åœ¨çµ¦å®šçš„ä½ç½®æ–°å¢ä¸€å€‹é»ä¸¦æŒ‡å®šå…¶è­˜åˆ¥ç¢¼ã€‚ ``id`` å¿…é ˆå¤§æ–¼ç­‰æ–¼ 0ï¼Œ\ ``weight_scale`` å¿…é ˆå¤§æ–¼ç­‰æ–¼ 0.0ã€‚

åœ¨è¨ˆç®—å¾é„°è¿‘é»ç§»å‹•è‡³æ­¤é»çš„æ®µè½ç¸½æˆæœ¬æ™‚ï¼Œæœƒå°‡ :ref:`_compute_cost()<class_AStar3D_private_method__compute_cost>` çš„çµæœä¹˜ä»¥ ``weight_scale``\ ã€‚å› æ­¤åœ¨å…¶ä»–æ¢ä»¶ç›¸åŒæ™‚ï¼Œæ¼”ç®—æ³•å‚¾å‘é¸æ“‡æ“æœ‰è¼ƒä½ ``weight_scale`` çš„é»ä¾†çµ„æˆè·¯å¾‘ã€‚


.. tabs::

 .. code-tab:: gdscript

    var astar = AStar3D.new()
    astar.add_point(1, Vector3(1, 0, 0), 4) # æ–°å¢é» (1, 0, 0)ï¼Œweight_scale ç‚º 4ï¼Œid ç‚º 1

 .. code-tab:: csharp

    var astar = new AStar3D();
    astar.AddPoint(1, new Vector3(1, 0, 0), 4); // æ–°å¢é» (1, 0, 0)ï¼Œweight_scale ç‚º 4ï¼Œid ç‚º 1



è‹¥åŒä¸€ ``id`` å·²å­˜åœ¨é»ï¼Œå‰‡å…¶ä½ç½®èˆ‡æ¬Šé‡æ¯”ä¾‹æœƒè¢«æ›´æ–°ç‚ºæ–°çš„å€¼ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_are_points_connected:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **are_points_connected**\ (\ id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, bidirectional\: :ref:`bool<class_bool>` = true\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_are_points_connected>`

è¿”å›å…©å€‹çµ¦å®šé»æ˜¯å¦é€éç·šæ®µç›´æ¥é€£æ¥ã€‚å¦‚æœ ``bidirectional`` ç‚º ``false``\ ï¼Œå‰‡åƒ…æª¢æŸ¥æ˜¯å¦èƒ½å¾ ``id`` ç§»å‹•è‡³ ``to_id``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_clear:

.. rst-class:: classref-method

|void| **clear**\ (\ ) :ref:`ğŸ”—<class_AStar3D_method_clear>`

æ¸…é™¤æ‰€æœ‰é»èˆ‡ç·šæ®µã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_connect_points:

.. rst-class:: classref-method

|void| **connect_points**\ (\ id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, bidirectional\: :ref:`bool<class_bool>` = true\ ) :ref:`ğŸ”—<class_AStar3D_method_connect_points>`

åœ¨å…©å€‹æŒ‡å®šé»ä¹‹é–“å»ºç«‹ç·šæ®µã€‚è‹¥ ``bidirectional`` ç‚º ``false``\ ï¼Œå‰‡åƒ…å…è¨±å¾ ``id`` ç§»å‹•è‡³ ``to_id``\ ï¼Œåå‘å‰‡ä¸å…è¨±ã€‚


.. tabs::

 .. code-tab:: gdscript

    var astar = AStar3D.new()
    astar.add_point(1, Vector3(1, 1, 0))
    astar.add_point(2, Vector3(0, 5, 0))
    astar.connect_points(1, 2, false)

 .. code-tab:: csharp

    var astar = new AStar3D();
    astar.AddPoint(1, new Vector3(1, 1, 0));
    astar.AddPoint(2, new Vector3(0, 5, 0));
    astar.ConnectPoints(1, 2, false);



.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_disconnect_points:

.. rst-class:: classref-method

|void| **disconnect_points**\ (\ id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, bidirectional\: :ref:`bool<class_bool>` = true\ ) :ref:`ğŸ”—<class_AStar3D_method_disconnect_points>`

åˆªé™¤å…©é»ä¹‹é–“çš„ç·šæ®µã€‚è‹¥ ``bidirectional`` ç‚º ``false``\ ï¼Œåƒ…æœƒé˜»æ­¢è‡ª ``id`` åˆ° ``to_id`` çš„ç§»å‹•ï¼ŒåŸæœ‰çš„å–®å‘ç·šæ®µå¯èƒ½ä»ä¿ç•™ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_available_point_id:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_available_point_id**\ (\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_get_available_point_id>`

å–å¾—ä¸‹ä¸€å€‹å°šæœªä½¿ç”¨çš„é» IDã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_closest_point:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_closest_point**\ (\ to_position\: :ref:`Vector3<class_Vector3>`, include_disabled\: :ref:`bool<class_bool>` = false\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_get_closest_point>`

å›å‚³æœ€æ¥è¿‘ ``to_position`` çš„é»ä¹‹ IDï¼Œå¯é¸æ“‡æ˜¯å¦ç´å…¥å·²åœç”¨çš„é»ã€‚è‹¥é»æ± ç‚ºç©ºå‰‡å›å‚³ ``-1``\ ã€‚

\ **æ³¨æ„ï¼š** è‹¥æœ‰å¤šå€‹é»åŒæ¨£æœ€æ¥è¿‘ï¼Œå°‡å›å‚³æœ€å° ID çš„é»ï¼Œä»¥ç¢ºä¿çµæœä¸€è‡´ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_closest_position_in_segment:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **get_closest_position_in_segment**\ (\ to_position\: :ref:`Vector3<class_Vector3>`\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_get_closest_position_in_segment>`

è¿”å›ä½æ–¼å…©å€‹é€£æ¥é»ä¹‹é–“ç·šæ®µä¸­ã€æœ€é è¿‘ ``to_position`` çš„ä½ç½®ã€‚


.. tabs::

 .. code-tab:: gdscript

    var astar = AStar3D.new()
    astar.add_point(1, Vector3(0, 0, 0))
    astar.add_point(2, Vector3(0, 5, 0))
    astar.connect_points(1, 2)
    var res = astar.get_closest_position_in_segment(Vector3(3, 3, 0)) # å›å‚³ (0, 3, 0)

 .. code-tab:: csharp

    var astar = new AStar3D();
    astar.AddPoint(1, new Vector3(0, 0, 0));
    astar.AddPoint(2, new Vector3(0, 5, 0));
    astar.ConnectPoints(1, 2);
    Vector3 res = astar.GetClosestPositionInSegment(new Vector3(3, 3, 0)); // å›å‚³ (0, 3, 0)



æ­¤çµæœä½æ–¼ ``y = 0`` è‡³ ``y = 5`` çš„ç·šæ®µä¸Šï¼Œç‚ºè©²ç·šæ®µä¸­æœ€æ¥è¿‘çµ¦å®šé»çš„ä½ç½®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_id_path:

.. rst-class:: classref-method

:ref:`PackedInt64Array<class_PackedInt64Array>` **get_id_path**\ (\ from_id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, allow_partial_path\: :ref:`bool<class_bool>` = false\ ) :ref:`ğŸ”—<class_AStar3D_method_get_id_path>`

è¿”å›ä¸€å€‹é™£åˆ—ï¼ŒåŒ…å« AStar3D åœ¨çµ¦å®šå…©é»ä¹‹é–“æ‰¾åˆ°çš„è·¯å¾‘ä¸Šå„é»çš„ IDã€‚é™£åˆ—æŒ‰èµ·é»åˆ°çµ‚é»æ’åºã€‚

è‹¥ä¸å­˜åœ¨é€šå¾€ç›®æ¨™çš„æœ‰æ•ˆè·¯å¾‘ä¸” ``allow_partial_path`` ç‚º ``true``\ ï¼Œå‰‡æœƒå›å‚³é€šå¾€æœ€æ¥è¿‘ç›®æ¨™ä¸”å¯åˆ°é”ä¹‹é»çš„è·¯å¾‘ã€‚

\ **æ³¨æ„ï¼š**\ ç•¶ ``allow_partial_path`` ç‚º ``true`` ä¸” ``to_id`` å·²è¢«åœç”¨æ™‚ï¼Œæœå°‹å¯èƒ½éœ€è¦ç•°å¸¸é•·çš„æ™‚é–“æ‰èƒ½å®Œæˆã€‚


.. tabs::

 .. code-tab:: gdscript

    var astar = AStar3D.new()
    astar.add_point(1, Vector3(0, 0, 0))
    astar.add_point(2, Vector3(0, 1, 0), 1) # é è¨­æ¬Šé‡ç‚º 1
    astar.add_point(3, Vector3(1, 1, 0))
    astar.add_point(4, Vector3(2, 0, 0))

    astar.connect_points(1, 2, false)
    astar.connect_points(2, 3, false)
    astar.connect_points(4, 3, false)
    astar.connect_points(1, 4, false)

    var res = astar.get_id_path(1, 3) # å›å‚³ [1, 2, 3]

 .. code-tab:: csharp

    var astar = new AStar3D();
    astar.AddPoint(1, new Vector3(0, 0, 0));
    astar.AddPoint(2, new Vector3(0, 1, 0), 1); // é è¨­æ¬Šé‡ç‚º 1
    astar.AddPoint(3, new Vector3(1, 1, 0));
    astar.AddPoint(4, new Vector3(2, 0, 0));
    astar.ConnectPoints(1, 2, false);
    astar.ConnectPoints(2, 3, false);
    astar.ConnectPoints(4, 3, false);
    astar.ConnectPoints(1, 4, false);
    long[] res = astar.GetIdPath(1, 3); // å›å‚³ [1, 2, 3]



è‹¥å°‡ç¬¬ 2 å€‹é»çš„æ¬Šé‡æ”¹ç‚º 3ï¼Œå‰‡çµæœæœƒè®Šç‚º ``[1, 4, 3]``\ ï¼Œå› ç‚ºå³ä¾¿è·é›¢è¼ƒé•·ï¼Œé€éé» 4 çš„ã€Œæˆæœ¬ã€ä»ä½æ–¼é€éé» 2ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_point_capacity:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_point_capacity**\ (\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_get_point_capacity>`

å›å‚³å„²å­˜é»è³‡æ–™çµæ§‹çš„å®¹é‡ï¼Œå¯é…åˆ :ref:`reserve_space()<class_AStar3D_method_reserve_space>` ä½¿ç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_point_connections:

.. rst-class:: classref-method

:ref:`PackedInt64Array<class_PackedInt64Array>` **get_point_connections**\ (\ id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_AStar3D_method_get_point_connections>`

è¿”å›ä¸€å€‹é™£åˆ—ï¼ŒåŒ…å«èˆ‡æŒ‡å®šé»ç›´æ¥ç›¸é€£ä¹‹é»çš„ IDã€‚


.. tabs::

 .. code-tab:: gdscript

    var astar = AStar3D.new()
    astar.add_point(1, Vector3(0, 0, 0))
    astar.add_point(2, Vector3(0, 1, 0))
    astar.add_point(3, Vector3(1, 1, 0))
    astar.add_point(4, Vector3(2, 0, 0))

    astar.connect_points(1, 2, true)
    astar.connect_points(1, 3, true)

    var neighbors = astar.get_point_connections(1) # å›å‚³ [2, 3]

 .. code-tab:: csharp

    var astar = new AStar3D();
    astar.AddPoint(1, new Vector3(0, 0, 0));
    astar.AddPoint(2, new Vector3(0, 1, 0));
    astar.AddPoint(3, new Vector3(1, 1, 0));
    astar.AddPoint(4, new Vector3(2, 0, 0));
    astar.ConnectPoints(1, 2, true);
    astar.ConnectPoints(1, 3, true);

    long[] neighbors = astar.GetPointConnections(1); // å›å‚³ [2, 3]



.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_point_count:

.. rst-class:: classref-method

:ref:`int<class_int>` **get_point_count**\ (\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_get_point_count>`

å›å‚³ç›®å‰é»æ± ä¸­çš„é»æ•¸ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_point_ids:

.. rst-class:: classref-method

:ref:`PackedInt64Array<class_PackedInt64Array>` **get_point_ids**\ (\ ) :ref:`ğŸ”—<class_AStar3D_method_get_point_ids>`

å›å‚³æ‰€æœ‰é» ID çš„é™£åˆ—ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_point_path:

.. rst-class:: classref-method

:ref:`PackedVector3Array<class_PackedVector3Array>` **get_point_path**\ (\ from_id\: :ref:`int<class_int>`, to_id\: :ref:`int<class_int>`, allow_partial_path\: :ref:`bool<class_bool>` = false\ ) :ref:`ğŸ”—<class_AStar3D_method_get_point_path>`

Returns an array with the points that are in the path found by AStar3D between the given points. The array is ordered from the starting point to the ending point of the path.

If there is no valid path to the target, and ``allow_partial_path`` is ``true``, returns a path to the point closest to the target that can be reached.

\ **Note:** This method is not thread-safe; it can only be used from a single :ref:`Thread<class_Thread>` at a given time. Consider using :ref:`Mutex<class_Mutex>` to ensure exclusive access to one thread to avoid race conditions.

Additionally, when ``allow_partial_path`` is ``true`` and ``to_id`` is disabled the search may take an unusually long time to finish.

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_point_position:

.. rst-class:: classref-method

:ref:`Vector3<class_Vector3>` **get_point_position**\ (\ id\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_get_point_position>`

å›å‚³èˆ‡æŒ‡å®š ``id`` ç›¸é—œè¯ä¹‹é»çš„ä½ç½®ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_get_point_weight_scale:

.. rst-class:: classref-method

:ref:`float<class_float>` **get_point_weight_scale**\ (\ id\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_get_point_weight_scale>`

å›å‚³èˆ‡æŒ‡å®š ``id`` ç›¸é—œè¯ä¹‹é»çš„æ¬Šé‡ä¿‚æ•¸ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_has_point:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **has_point**\ (\ id\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_has_point>`

æª¢æŸ¥æ˜¯å¦å­˜åœ¨èˆ‡æŒ‡å®š ``id`` ç›¸é—œè¯çš„é»ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_is_point_disabled:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **is_point_disabled**\ (\ id\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_AStar3D_method_is_point_disabled>`

æª¢æŸ¥æŒ‡å®šé»åœ¨å°‹è·¯æ™‚æ˜¯å¦è¢«åœç”¨ï¼›é è¨­æ‰€æœ‰é»å‡å•Ÿç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_remove_point:

.. rst-class:: classref-method

|void| **remove_point**\ (\ id\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_AStar3D_method_remove_point>`

è‡ªé»æ± ä¸­ç§»é™¤èˆ‡æŒ‡å®š ``id`` ç›¸é—œè¯çš„é»ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_reserve_space:

.. rst-class:: classref-method

|void| **reserve_space**\ (\ num_nodes\: :ref:`int<class_int>`\ ) :ref:`ğŸ”—<class_AStar3D_method_reserve_space>`

åœ¨å…§éƒ¨ç‚º ``num_nodes`` å€‹é»é å…ˆä¿ç•™ç©ºé–“ï¼›ç•¶ä¸€æ¬¡åŠ å…¥å¤§é‡å·²çŸ¥é»æ•¸ï¼ˆå¦‚ç¶²æ ¼ä¸Šçš„æ‰€æœ‰é»ï¼‰æ™‚ç‰¹åˆ¥æœ‰ç”¨ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_set_point_disabled:

.. rst-class:: classref-method

|void| **set_point_disabled**\ (\ id\: :ref:`int<class_int>`, disabled\: :ref:`bool<class_bool>` = true\ ) :ref:`ğŸ”—<class_AStar3D_method_set_point_disabled>`

å•Ÿç”¨æˆ–åœç”¨æŒ‡å®šé»çš„å°‹è·¯åŠŸèƒ½ï¼Œå¯ç”¨ä¾†è£½ä½œè‡¨æ™‚éšœç¤™ç‰©ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_set_point_position:

.. rst-class:: classref-method

|void| **set_point_position**\ (\ id\: :ref:`int<class_int>`, position\: :ref:`Vector3<class_Vector3>`\ ) :ref:`ğŸ”—<class_AStar3D_method_set_point_position>`

ç‚ºå…·æœ‰æŒ‡å®š ``id`` çš„é»è¨­å®šæ–°ä½ç½® ``position``\ ã€‚

.. rst-class:: classref-item-separator

----

.. _class_AStar3D_method_set_point_weight_scale:

.. rst-class:: classref-method

|void| **set_point_weight_scale**\ (\ id\: :ref:`int<class_int>`, weight_scale\: :ref:`float<class_float>`\ ) :ref:`ğŸ”—<class_AStar3D_method_set_point_weight_scale>`

ç‚ºå…·æœ‰æŒ‡å®š ``id`` çš„é»è¨­å®š ``weight_scale``\ ã€‚åœ¨è¨ˆç®—å¾é„°è¿‘é»ç§»å‹•è‡³æ­¤é»ä¹‹ç·šæ®µçš„ç¸½ä»£åƒ¹æ™‚ï¼ŒæœƒæŠŠ ``weight_scale`` ä¹˜ä¸Š :ref:`_compute_cost()<class_AStar3D_private_method__compute_cost>` çš„çµæœã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ä½¿ç”¨è€…è¦†å¯«æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ²’æœ‰å‰¯ä½œç”¨ã€‚ä¸æœƒä¿®æ”¹è©²å¯¦ä¾‹çš„ä»»ä½•æˆå“¡è®Šæ•¸ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†é€™è£¡æè¿°çš„åƒæ•¸å¤–ï¼Œé‚„å¯ä»¥æ¥å—ä»»æ„æ•¸é‡çš„åƒæ•¸ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨æ–¼å»ºæ§‹ä¸€å€‹å‹åˆ¥ã€‚)`
.. |static| replace:: :abbr:`static (æœ¬æ–¹æ³•ç„¡éœ€å¯¦ä¾‹å³å¯å‘¼å«ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨é¡åˆ¥åç¨±å‘¼å«ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°å°‡æœ¬å‹åˆ¥ä½œç‚ºå·¦é‹ç®—å…ƒæ™‚å¯ç”¨çš„æœ‰æ•ˆé‹ç®—å­ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (æ­¤å€¼æ˜¯ç”±ä¸‹åˆ—æ——æ¨™çµ„æˆçš„ä½å…ƒé®ç½©æ•´æ•¸ã€‚)`
.. |void| replace:: :abbr:`void (ç„¡å›å‚³å€¼ã€‚)`
