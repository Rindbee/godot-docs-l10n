:github_url: hide

.. DO NOT EDIT THIS FILE!!!
.. Generated automatically from Godot engine sources.
.. Generator: https://github.com/godotengine/godot/tree/master/doc/tools/make_rst.py.
.. XML source: https://github.com/godotengine/godot/tree/master/doc/classes/OccluderInstance3D.xml.

.. _class_OccluderInstance3D:

OccluderInstance3D
==================

**ç¹¼æ‰¿ï¼š** :ref:`VisualInstance3D<class_VisualInstance3D>` **<** :ref:`Node3D<class_Node3D>` **<** :ref:`Node<class_Node>` **<** :ref:`Object<class_Object>`

ç‚º 3D ç¯€é»æä¾›é®æ“‹å‰”é™¤ï¼Œå¯ä»¥æé«˜å°é–‰å€åŸŸçš„æ€§èƒ½ã€‚

.. rst-class:: classref-introduction-group

èªªæ˜
----

Occlusion culling can improve rendering performance in closed/semi-open areas by hiding geometry that is occluded by other objects.

The occlusion culling system is mostly static. **OccluderInstance3D**\ s can be moved or hidden at run-time, but doing so will trigger a background recomputation that can take several frames. It is recommended to only move **OccluderInstance3D**\ s sporadically (e.g. for procedural generation purposes), rather than doing so every frame.

The occlusion culling system works by rendering the occluders on the CPU in parallel using `Embree <https://www.embree.org/>`__, drawing the result to a low-resolution buffer then using this to cull 3D nodes individually. In the 3D editor, you can preview the occlusion culling buffer by choosing **Perspective > Display Advanced... > Occlusion Culling Buffer** in the top-left corner of the 3D viewport. The occlusion culling buffer quality can be adjusted in the Project Settings.

\ **Baking:** Select an **OccluderInstance3D** node, then use the **Bake Occluders** button at the top of the 3D editor. Only opaque materials will be taken into account; transparent materials (alpha-blended or alpha-tested) will be ignored by the occluder generation.

\ **Note:** Occlusion culling is only effective if :ref:`ProjectSettings.rendering/occlusion_culling/use_occlusion_culling<class_ProjectSettings_property_rendering/occlusion_culling/use_occlusion_culling>` is ``true``. Enabling occlusion culling has a cost on the CPU. Only enable occlusion culling if you actually plan to use it. Large open scenes with few or no objects blocking the view will generally not benefit much from occlusion culling. Large open scenes generally benefit more from mesh LOD and visibility ranges (:ref:`GeometryInstance3D.visibility_range_begin<class_GeometryInstance3D_property_visibility_range_begin>` and :ref:`GeometryInstance3D.visibility_range_end<class_GeometryInstance3D_property_visibility_range_end>`) compared to occlusion culling.

\ **Note:** Due to memory constraints, occlusion culling is not supported by default in Web export templates. It can be enabled by compiling custom Web export templates with ``module_raycast_enabled=yes``.

.. rst-class:: classref-introduction-group

æ•™å­¸
----

- :doc:`é®æ“‹å‰”é™¤ <../tutorials/3d/occlusion_culling>`

.. rst-class:: classref-reftable-group

å±¬æ€§
----

.. table::
   :widths: auto

   +-------------------------------------+-----------------------------------------------------------------------------------------------------+----------------+
   | :ref:`int<class_int>`               | :ref:`bake_mask<class_OccluderInstance3D_property_bake_mask>`                                       | ``4294967295`` |
   +-------------------------------------+-----------------------------------------------------------------------------------------------------+----------------+
   | :ref:`float<class_float>`           | :ref:`bake_simplification_distance<class_OccluderInstance3D_property_bake_simplification_distance>` | ``0.1``        |
   +-------------------------------------+-----------------------------------------------------------------------------------------------------+----------------+
   | :ref:`Occluder3D<class_Occluder3D>` | :ref:`occluder<class_OccluderInstance3D_property_occluder>`                                         |                |
   +-------------------------------------+-----------------------------------------------------------------------------------------------------+----------------+

.. rst-class:: classref-reftable-group

æ–¹æ³•
----

.. table::
   :widths: auto

   +-------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | :ref:`bool<class_bool>` | :ref:`get_bake_mask_value<class_OccluderInstance3D_method_get_bake_mask_value>`\ (\ layer_number\: :ref:`int<class_int>`\ ) |const|                          |
   +-------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | |void|                  | :ref:`set_bake_mask_value<class_OccluderInstance3D_method_set_bake_mask_value>`\ (\ layer_number\: :ref:`int<class_int>`, value\: :ref:`bool<class_bool>`\ ) |
   +-------------------------+--------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

å±¬æ€§èªªæ˜
--------

.. _class_OccluderInstance3D_property_bake_mask:

.. rst-class:: classref-property

:ref:`int<class_int>` **bake_mask** = ``4294967295`` :ref:`ğŸ”—<class_OccluderInstance3D_property_bake_mask>`

.. rst-class:: classref-property-setget

- |void| **set_bake_mask**\ (\ value\: :ref:`int<class_int>`\ )
- :ref:`int<class_int>` **get_bake_mask**\ (\ )

çƒ˜ç„™é®æ“‹ç‰©æ™‚è¦è€ƒæ…®çš„å¯è¦–å±¤ã€‚åªæœ‰å…¶ :ref:`VisualInstance3D.layers<class_VisualInstance3D_property_layers>` èˆ‡è©² :ref:`bake_mask<class_OccluderInstance3D_property_bake_mask>` é…å°çš„ :ref:`MeshInstance3D<class_MeshInstance3D>`\ ï¼Œæ‰æœƒè¢«åŒ…å«åœ¨ç”Ÿæˆçš„é®æ“‹ç‰©ç¶²æ ¼ä¸­ã€‚é è¨­æƒ…æ³ä¸‹ï¼Œæ‰€æœ‰å…·æœ‰\ *ä¸é€æ˜*\ æè³ªçš„å°è±¡ï¼Œéƒ½å°‡è¢«è€ƒæ…®ç”¨æ–¼é®æ“‹ç‰©çƒ˜ç„™ã€‚

ç‚ºäº†æé«˜æ€§èƒ½ä¸¦é¿å…å½å½±ï¼Œå»ºè­°å°‡å‹•æ…‹ç‰©ä»¶ã€å°ç‰©ä»¶å’Œå›ºå®šè£ç½®å¾çƒ˜ç„™éç¨‹ä¸­æ’é™¤ï¼Œæ–¹æ³•æ˜¯å°‡å®ƒå€‘ç§»å‹•åˆ°ä¸€å€‹å–®ç¨çš„å¯è¦–å±¤ï¼Œä¸¦åœ¨ :ref:`bake_mask<class_OccluderInstance3D_property_bake_mask>` ä¸­æ’é™¤è©²å±¤ã€‚

.. rst-class:: classref-item-separator

----

.. _class_OccluderInstance3D_property_bake_simplification_distance:

.. rst-class:: classref-property

:ref:`float<class_float>` **bake_simplification_distance** = ``0.1`` :ref:`ğŸ”—<class_OccluderInstance3D_property_bake_simplification_distance>`

.. rst-class:: classref-property-setget

- |void| **set_bake_simplification_distance**\ (\ value\: :ref:`float<class_float>`\ )
- :ref:`float<class_float>` **get_bake_simplification_distance**\ (\ )

ç”¨æ–¼ç°¡åŒ–ç”Ÿæˆçš„é®æ“‹ç‰©å¤šé‚Šå½¢çš„ç°¡åŒ–è·é›¢ï¼ˆå–®ä½ç‚º 3D å–®ä½ï¼‰ã€‚æ›´é«˜çš„å€¼æœƒå°è‡´é®æ“‹ç‰©ç¶²æ ¼çš„ç´°ç¯€æ›´å°‘ï¼Œé€™æœƒæé«˜æ€§èƒ½ä½†æœƒé™ä½å‰”é™¤ç²¾åº¦ã€‚

é®æ“‹ç‰©å¹¾ä½•é«”æ˜¯åœ¨ CPU ä¸Šç®—ç¹ªçš„ï¼Œå› æ­¤ä¿æŒå…¶å¹¾ä½•é«”ç›¡å¯èƒ½ç°¡å–®å¾ˆé‡è¦ã€‚ç”±æ–¼ç·©è¡å€ä»¥ä½è§£æåº¦ç®—ç¹ªï¼Œå› æ­¤ç´°ç¯€è¼ƒå°‘çš„é®æ“‹ç¶²æ ¼é€šå¸¸ä»èƒ½æ­£å¸¸å·¥ä½œã€‚é è¨­å€¼ç›¸ç•¶æ¿€é€²ï¼Œå› æ­¤å¦‚æœé‡åˆ°èª¤å ±ï¼ˆå³ä½¿ç›¸æ©Ÿå¯è¦‹çš„ç‰©ä»¶ä¹Ÿè¢«é®æ“‹ï¼‰ï¼Œå¯èƒ½å¿…é ˆé™ä½è©²å±¬æ€§ã€‚\ ``0.01`` çš„å€¼å°‡ä¿å®ˆåœ°èµ·ä½œç”¨ï¼Œä¸¦å°‡ä¿æŒå¹¾ä½•é«”\ *æ„ŸçŸ¥*\ åœ¨é®æ“‹å‰”é™¤ç·©è¡å€ä¸­ä¸å—å½±éŸ¿ã€‚æ ¹æ“šå ´æ™¯çš„ä¸åŒï¼Œèˆ‡å®Œå…¨ç¦ç”¨ç°¡åŒ–ç›¸æ¯”ï¼Œ\ ``0.01`` çš„å€¼ä»èƒ½é¡¯è‘—ç°¡åŒ–ç¶²æ ¼ã€‚

å°‡è©²å±¬æ€§è¨­å®šç‚º ``0.0`` å°‡æœƒå®Œå…¨ç¦ç”¨ç°¡åŒ–ï¼Œä½†ä»æœƒåˆä¸¦ä½ç½®å®Œå…¨ç›¸åŒçš„é ‚é»ã€‚ç¶²æ ¼ä¹Ÿå°‡è¢«é‡æ–°ç´¢å¼•ä»¥æ¸›å°‘é ‚é»å’Œç´¢å¼•çš„æ•¸é‡ã€‚

\ **æ³¨æ„ï¼š**\ é€™åœ¨åº•å±¤ä½¿ç”¨äº† `meshoptimizer <https://meshoptimizer.org/>`__ åº«ï¼Œé¡ä¼¼æ–¼ LOD ç”Ÿæˆã€‚

.. rst-class:: classref-item-separator

----

.. _class_OccluderInstance3D_property_occluder:

.. rst-class:: classref-property

:ref:`Occluder3D<class_Occluder3D>` **occluder** :ref:`ğŸ”—<class_OccluderInstance3D_property_occluder>`

.. rst-class:: classref-property-setget

- |void| **set_occluder**\ (\ value\: :ref:`Occluder3D<class_Occluder3D>`\ )
- :ref:`Occluder3D<class_Occluder3D>` **get_occluder**\ (\ )

é€™å€‹ **OccluderInstance3D** çš„é®æ“‹å™¨è³‡æºã€‚è¦ç”Ÿæˆé®æ“‹å™¨è³‡æºï¼Œä½ å¯ä»¥å…ˆé¸ä¸­ **OccluderInstance3D** ç¯€é»ï¼Œç„¶å¾Œä½¿ç”¨ç·¨è¼¯å™¨é ‚éƒ¨çš„\ **çƒ˜ç„™é®æ“‹å™¨**\ æŒ‰éˆ•ã€‚

ä½ é‚„å¯ä»¥é€šéåœ¨â€œå±¬æ€§æª¢è¦–å™¨â€ä¸­ç‚º :ref:`occluder<class_OccluderInstance3D_property_occluder>` å±¬æ€§æ–°å¢æ–°çš„ :ref:`PolygonOccluder3D<class_PolygonOccluder3D>` è³‡æºä¾†ç¹ªè£½è‡ªå·±çš„ 2D é®æ“‹å™¨å¤šé‚Šå½¢ã€‚

å¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥é¸æ“‡è¦ä½¿ç”¨çš„åŸºæœ¬é®æ“‹å™¨ï¼š\ :ref:`QuadOccluder3D<class_QuadOccluder3D>`\ ã€\ :ref:`BoxOccluder3D<class_BoxOccluder3D>`\ ã€\ :ref:`SphereOccluder3D<class_SphereOccluder3D>`\ ã€‚

.. rst-class:: classref-section-separator

----

.. rst-class:: classref-descriptions-group

æ–¹æ³•èªªæ˜
--------

.. _class_OccluderInstance3D_method_get_bake_mask_value:

.. rst-class:: classref-method

:ref:`bool<class_bool>` **get_bake_mask_value**\ (\ layer_number\: :ref:`int<class_int>`\ ) |const| :ref:`ğŸ”—<class_OccluderInstance3D_method_get_bake_mask_value>`

è¿”å›æ˜¯å¦å•Ÿç”¨äº† :ref:`bake_mask<class_OccluderInstance3D_property_bake_mask>` çš„æŒ‡å®šå±¤ï¼Œè©²å±¤ç”±çµ¦å®šçš„ä¸€å€‹ä»‹æ–¼ 1 å’Œ 32 ä¹‹é–“çš„ ``layer_number`` æŒ‡å®šã€‚

.. rst-class:: classref-item-separator

----

.. _class_OccluderInstance3D_method_set_bake_mask_value:

.. rst-class:: classref-method

|void| **set_bake_mask_value**\ (\ layer_number\: :ref:`int<class_int>`, value\: :ref:`bool<class_bool>`\ ) :ref:`ğŸ”—<class_OccluderInstance3D_method_set_bake_mask_value>`

åŸºæ–¼ ``value``\ ï¼Œå•Ÿç”¨æˆ–ç¦ç”¨ :ref:`bake_mask<class_OccluderInstance3D_property_bake_mask>` ä¸­çš„æŒ‡å®šå±¤ï¼Œè©²å±¤ç”±çµ¦å®šçš„ä¸€å€‹ä»‹æ–¼ 1 å’Œ 32 ä¹‹é–“çš„ ``layer_number`` æŒ‡å®šã€‚

.. |virtual| replace:: :abbr:`virtual (æœ¬æ–¹æ³•é€šå¸¸éœ€è¦ä½¿ç”¨è€…è¦†å¯«æ‰èƒ½ç”Ÿæ•ˆã€‚)`
.. |required| replace:: :abbr:`required (This method is required to be overridden when extending its base class.)`
.. |const| replace:: :abbr:`const (æœ¬æ–¹æ³•æ²’æœ‰å‰¯ä½œç”¨ã€‚ä¸æœƒä¿®æ”¹è©²å¯¦ä¾‹çš„ä»»ä½•æˆå“¡è®Šæ•¸ã€‚)`
.. |vararg| replace:: :abbr:`vararg (æœ¬æ–¹æ³•é™¤äº†é€™è£¡æè¿°çš„åƒæ•¸å¤–ï¼Œé‚„å¯ä»¥æ¥å—ä»»æ„æ•¸é‡çš„åƒæ•¸ã€‚)`
.. |constructor| replace:: :abbr:`constructor (æœ¬æ–¹æ³•ç”¨æ–¼å»ºæ§‹ä¸€å€‹å‹åˆ¥ã€‚)`
.. |static| replace:: :abbr:`static (æœ¬æ–¹æ³•ç„¡éœ€å¯¦ä¾‹å³å¯å‘¼å«ï¼Œå› æ­¤å¯ä»¥ç›´æ¥ä½¿ç”¨é¡åˆ¥åç¨±å‘¼å«ã€‚)`
.. |operator| replace:: :abbr:`operator (æœ¬æ–¹æ³•æè¿°å°‡æœ¬å‹åˆ¥ä½œç‚ºå·¦é‹ç®—å…ƒæ™‚å¯ç”¨çš„æœ‰æ•ˆé‹ç®—å­ã€‚)`
.. |bitfield| replace:: :abbr:`BitField (æ­¤å€¼æ˜¯ç”±ä¸‹åˆ—æ——æ¨™çµ„æˆçš„ä½å…ƒé®ç½©æ•´æ•¸ã€‚)`
.. |void| replace:: :abbr:`void (ç„¡å›å‚³å€¼ã€‚)`
